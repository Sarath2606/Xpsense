/*! For license information please see main.dd15b182.js.LICENSE.txt */
(()=>{var e={356:(e,t,n)=>{e.exports=n(9645).last},579:(e,t,n)=>{"use strict";e.exports=n(1153)},870:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObject=function(e){return null!==e&&("object"===typeof e||"function"===typeof e)}},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},1203:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8420);t.isArrayLike=function(e){return null!=e&&"function"!==typeof e&&r.isLength(e.length)}},1293:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4830);t.debounce=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"!==typeof n&&(n={});const{leading:i=!1,trailing:a=!0,maxWait:o}=n,s=Array(2);let l;i&&(s[0]="leading"),a&&(s[1]="trailing");let c=null;const u=r.debounce(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];l=e.apply(this,n),c=null},t,{edges:s}),d=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return null!=o&&(null===c&&(c=Date.now()),Date.now()-c>=o)?(l=e.apply(this,n),c=Date.now(),u.cancel(),u.schedule(),l):(u.apply(this,n),l)};return d.cancel=u.cancel,d.flush=()=>(u.flush(),l),d}},1444:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toPath=function(e){const t=[],n=e.length;if(0===n)return t;let r=0,i="",a="",o=!1;for(46===e.charCodeAt(0)&&(t.push(""),r++);r<n;){const s=e[r];a?"\\"===s&&r+1<n?(r++,i+=e[r]):s===a?a="":i+=s:o?'"'===s||"'"===s?a=s:"]"===s?(o=!1,t.push(i),i=""):i+=s:"["===s?(o=!0,i&&(t.push(i),i="")):"."===s?i&&(t.push(i),i=""):i+=s,r++}return i&&t.push(i),t}},2086:(e,t,n)=>{"use strict";e.exports=n(5082)},2104:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1203),i=n(9921);t.isArrayLikeObject=function(e){return i.isObjectLike(e)&&r.isArrayLike(e)}},2132:(e,t,n)=>{"use strict";var r=n(2897).default;Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const i=n(8268),a=n(870),o=n(4803),s=n(9972);function l(e,t,n,i){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,n,r){if(null==t)return!0;if(Array.isArray(t))return c(e,t,n,r);if(t instanceof Map)return function(e,t,n,r){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[i,a]of t.entries()){if(!1===n(e.get(i),a,i,e,t,r))return!1}return!0}(e,t,n,r);if(t instanceof Set)return u(e,t,n,r);const i=Object.keys(t);if(null==e)return 0===i.length;if(0===i.length)return!0;if(r&&r.has(t))return r.get(t)===e;r&&r.set(t,e);try{for(let a=0;a<i.length;a++){const s=i[a];if(!o.isPrimitive(e)&&!(s in e))return!1;if(void 0===t[s]&&void 0!==e[s])return!1;if(null===t[s]&&null!==e[s])return!1;if(!n(e[s],t[s],s,e,t,r))return!1}return!0}finally{r&&r.delete(t)}}(e,t,n,i);case"function":return Object.keys(t).length>0?l(e,r({},t),n,i):s.eq(e,t);default:return a.isObject(e)?"string"!==typeof t||""===t:s.eq(e,t)}}function c(e,t,n,r){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const i=new Set;for(let a=0;a<t.length;a++){const o=t[a];let s=!1;for(let l=0;l<e.length;l++){if(i.has(l))continue;let c=!1;if(n(e[l],o,a,e,t,r)&&(c=!0),c){i.add(l),s=!0;break}}if(!s)return!1}return!0}function u(e,t,n,r){return 0===t.size||e instanceof Set&&c([...e],[...t],n,r)}t.isMatchWith=function(e,t,n){return"function"!==typeof n?i.isMatch(e,t):l(e,t,function e(t,r,i,a,o,s){const c=n(t,r,i,a,o,s);return void 0!==c?Boolean(c):l(t,r,e,s)},new Map)},t.isSetMatch=u},2204:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5316),i=n(7312),a=n(3799);t.sortBy=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];const s=n.length;return s>1&&a.isIterateeCall(e,n[0],n[1])?n=[]:s>2&&a.isIterateeCall(n[0],n[1],n[2])&&(n=[n[0]]),r.orderBy(e,i.flatten(n),["asc"])}},2330:(e,t,n)=>{"use strict";var r=n(5043);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return s(function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})},[e,n,t]),o(function(){return c(i)&&u({inst:i}),e(function(){c(i)&&u({inst:i})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},2489:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}},2682:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if("object"!==typeof e)return!1;if(null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){var t;const n=e[Symbol.toStringTag];if(null==n)return!1;return!!(null!==(t=Object.getOwnPropertyDescriptor(e,Symbol.toStringTag))&&void 0!==t&&t.writable)&&e.toString()==="[object ".concat(n,"]")}let n=e;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}},2715:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9599),i=n(7330),a=n(3808),o=n(8845);t.iteratee=function(e){if(null==e)return r.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?o.matchesProperty(e[0],e[1]):a.matches(e);case"string":case"symbol":case"number":return i.property(e)}}},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),_=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var L,R=Object.assign;function U(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var F=!1;function B(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case k:return"Portal";case N:return"Profiler";case j:return"StrictMode";case A:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return R({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return R({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ye=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Se=null,je=null;function Ne(e){if(e=bi(e)){if("function"!==typeof ke)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),ke(e.stateNode,e.type,t))}}function Ee(e){Se?je?je.push(e):je=[e]:Se=e}function _e(){if(Se){var e=Se,t=je;if(je=Se=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Oe=!1;function Te(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Ce(e,t,n)}finally{Oe=!1,(null!==Se||null!==je)&&(Ae(),_e())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ie=!1;if(u)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(ue){Ie=!1}function De(e,t,n,r,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Re=null,Ue=!1,Fe=null,Be={onError:function(e){Le=!0,Re=e}};function ze(e,t,n,r,i,a,o,s,l){Le=!1,Re=null,De.apply(Be,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ve(e)!==e)throw Error(a(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=dt(s):0!==(a&=o)&&(r=dt(a))}else 0!==(o=n&~i)?r=dt(o):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,kt,St,jt,Nt,Et=!1,_t=[],Ct=null,At=null,Ot=null,Tt=new Map,Pt=new Map,It=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Rt(e){var t=vi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void Nt(e.priority,function(){St(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function Bt(){Et=!1,null!==Ct&&Ut(Ct)&&(Ct=null),null!==At&&Ut(At)&&(At=null),null!==Ot&&Ut(Ot)&&(Ot=null),Tt.forEach(Ft),Pt.forEach(Ft)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Vt(e){function t(t){return zt(t,e)}if(0<_t.length){zt(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==At&&zt(At,e),null!==Ot&&zt(Ot,e),Tt.forEach(t),Pt.forEach(t),n=0;n<It.length;n++)(r=It[n]).blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)Rt(n),null===n.blockedOn&&It.shift()}var Wt=x.ReactCurrentBatchConfig,Ht=!0;function qt(e,t,n,r){var i=bt,a=Wt.transition;Wt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,Wt.transition=a}}function Kt(e,t,n,r){var i=bt,a=Wt.transition;Wt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,Wt.transition=a}}function Gt(e,t,n,r){if(Ht){var i=$t(e,t,n,r);if(null===i)Hr(e,t,r,Yt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Lt(At,e,t,n,r,i),!0;case"mouseover":return Ot=Lt(Ot,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Tt.set(a,Lt(Tt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Lt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Mt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Hr(e,t,r,Yt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Yt=null;function $t(e,t,n,r){if(Yt=null,null!==(e=vi(e=we(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=R({},cn,{view:0,detail:0}),hn=an(dn),fn=R({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(fn),mn=an(R({},fn,{dataTransfer:0})),gn=an(R({},dn,{relatedTarget:0})),yn=an(R({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=R({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(vn),xn=an(R({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Nn(){return jn}var En=R({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=an(En),Cn=an(R({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(R({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nn})),On=an(R({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tn=R({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Tn),In=[9,13,27,32],Mn=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Dn,Rn=u&&(!Mn||Dn&&8<Dn&&11>=Dn),Un=String.fromCharCode(32),Fn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function qn(e,t,n,r){Ee(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Yn(e){Ur(e,0)}function $n(e){if(G(xi(e)))return e}function Qn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];qn(t,Gn,e,we(e)),Te(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=ur(n,a);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Y(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},jr={};function Nr(e){if(Sr[e])return Sr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in jr)return Sr[e]=n[t];return e}u&&(jr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Er=Nr("animationend"),_r=Nr("animationiteration"),Cr=Nr("animationstart"),Ar=Nr("transitionend"),Or=new Map,Tr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Or.set(e,t),l(t,[e])}for(var Ir=0;Ir<Tr.length;Ir++){var Mr=Tr[Ir];Pr(Mr.toLowerCase(),"on"+(Mr[0].toUpperCase()+Mr.slice(1)))}Pr(Er,"onAnimationEnd"),Pr(_r,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Rr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(a(198));var u=Re;Le=!1,Re=null,Ue||(Ue=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Rr(i,s,c),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Rr(i,s,c),a=l}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[zr]){e[zr]=!0,o.forEach(function(t){"selectionchange"!==t&&(Lr.has(t)||Br(t,!1,e),Br(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Br("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Qt(t)){case 1:var i=qt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=vi(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}Te(function(){var r=a,i=we(n),o=[];e:{var s=Or.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=_n;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Er:case _r:case Cr:l=yn;break;case Ar:l=On;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Pe(p,h))&&u.push(qr(p,m,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),o.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(d=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:xi(l),f=null==c?s:xi(c),(s=new u(m,p+"leave",l,n,i)).target=d,s.relatedTarget=f,m=null,vi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=h;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)h=Gr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Yr(o,s,l,u,!1),null!==c&&null!==d&&Yr(o,d,c,u,!0)}if("select"===(l=(s=r?xi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Qn;else if(Hn(s))if(Xn)g=or;else{g=ir;var y=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ar);switch(g&&(g=g(e,r))?qn(o,g,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?xi(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(o,n,i)}var v;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Rn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(v=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Vn=!0)),0<(y=Kr(r,b)).length&&(b=new xn(b,e,null,n,i),o.push({event:b,listeners:y}),v?b.data=v:null!==(v=zn(n))&&(b.data=v))),(v=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Mn&&Bn(e,t)?(e=en(),Zt=Jt=Xt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}Ur(o,t)})}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(qr(e,a,i)),null!=(a=Pe(e,t))&&r.push(qr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Pe(n,a))&&o.unshift(qr(n,l,s)):i||null!=(l=Pe(n,a))&&o.push(qr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Qr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,yi="__reactHandles$"+di;function vi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[fi]||null}var ki=[],Si=-1;function ji(e){return{current:e}}function Ni(e){0>Si||(e.current=ki[Si],ki[Si]=null,Si--)}function Ei(e,t){Si++,ki[Si]=e.current,e.current=t}var _i={},Ci=ji(_i),Ai=ji(!1),Oi=_i;function Ti(e,t){var n=e.type.contextTypes;if(!n)return _i;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ii(){Ni(Ai),Ni(Ci)}function Mi(e,t,n){if(Ci.current!==_i)throw Error(a(168));Ei(Ci,t),Ei(Ai,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,W(e)||"Unknown",i));return R({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_i,Oi=Ci.current,Ei(Ci,e),Ei(Ai,Ai.current),!0}function Ri(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Di(e,t,Oi),r.__reactInternalMemoizedMergedChildContext=e,Ni(Ai),Ni(Ci),Ei(Ci,e)):Ni(Ai),Ei(Ai,n)}var Ui=null,Fi=!1,Bi=!1;function zi(e){null===Ui?Ui=[e]:Ui.push(e)}function Vi(){if(!Bi&&null!==Ui){Bi=!0;var e=0,t=bt;try{var n=Ui;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Fi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ge(Ze,Vi),i}finally{bt=t,Bi=!1}}return null}var Wi=[],Hi=0,qi=null,Ki=0,Gi=[],Yi=0,$i=null,Qi=1,Xi="";function Ji(e,t){Wi[Hi++]=Ki,Wi[Hi++]=qi,qi=e,Ki=t}function Zi(e,t,n){Gi[Yi++]=Qi,Gi[Yi++]=Xi,Gi[Yi++]=$i,$i=e;var r=Qi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Qi=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Qi=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===qi;)qi=Wi[--Hi],Wi[Hi]=null,Ki=Wi[--Hi],Wi[Hi]=null;for(;e===$i;)$i=Gi[--Yi],Gi[Yi]=null,Xi=Gi[--Yi],Gi[Yi]=null,Qi=Gi[--Yi],Gi[Yi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Tc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Qi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Tc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(la(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!ia)return ua(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function fa(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var ma=x.ReactCurrentBatchConfig;function ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ya(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function va(e){return(0,e._init)(e._payload)}function ba(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ic(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Rc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&va(a)===t.type)?((r=i(t,n.props)).ref=ga(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=ga(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Rc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=ga(e,null,t),n.return=e,n;case k:return(t=Uc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Dc(t,e.mode,n,null)).return=e,t;ya(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case k:return n.key===i?u(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:d(e,t,n,r,null);ya(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return d(t,e=e.get(n)||null,r,i,null);ya(t,r)}return null}function m(i,a,s,l){for(var c=null,u=null,d=a,m=a=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(i,d,s[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),a=o(y,a,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===s.length)return n(i,d),ia&&Ji(i,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],l))&&(a=o(d,a,m),null===u?c=d:u.sibling=d,u=d);return ia&&Ji(i,m),c}for(d=r(i,d);m<s.length;m++)null!==(g=p(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=o(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),ia&&Ji(i,m),c}function g(i,s,l,c){var u=D(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,m=s,g=s=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(i,m),ia&&Ji(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,c))&&(s=o(v,s,g),null===d?u=v:d.sibling=v,d=v);return ia&&Ji(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=o(v,s,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(i,e)}),ia&&Ji(i,g),u}return function e(r,a,o,l){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,u=a;null!==u;){if(u.key===c){if((c=o.type)===S){if(7===u.tag){n(r,u.sibling),(a=i(u,o.props.children)).return=r,r=a;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&va(c)===u.type){n(r,u.sibling),(a=i(u,o.props)).ref=ga(r,u,o),a.return=r,r=a;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===S?((a=Dc(o.props.children,r.mode,l,o.key)).return=r,r=a):((l=Mc(o.type,o.key,o.props,null,r.mode,l)).ref=ga(r,a,o),l.return=r,r=l)}return s(r);case k:e:{for(u=o.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,l)).return=r,r=a}return s(r);case P:return e(r,a,(u=o._init)(o._payload),l)}if(te(o))return m(r,a,o,l);if(D(o))return g(r,a,o,l);ya(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Rc(o,r.mode,l)).return=r,r=a),s(r)):n(r,a)}}var xa=ba(!0),wa=ba(!1),ka=ji(null),Sa=null,ja=null,Na=null;function Ea(){Na=ja=Sa=null}function _a(e){var t=ka.current;Ni(ka),e._currentValue=t}function Ca(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Aa(e,t){Sa=e,Na=ja=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Oa(e){var t=e._currentValue;if(Na!==e)if(e={context:e,memoizedValue:t,next:null},null===ja){if(null===Sa)throw Error(a(308));ja=e,Sa.dependencies={lanes:0,firstContext:e}}else ja=ja.next=e;return t}var Ta=null;function Pa(e){null===Ta?Ta=[e]:Ta.push(e)}function Ia(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Pa(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ma(e,r)}function Ma(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Da=!1;function La(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ua(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ma(e,n)}return null===(i=r.interleaved)?(t.next=t,Pa(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ma(e,n)}function Ba(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function za(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Va(e,t,n,r){var i=e.updateQueue;Da=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(o=0,u=c=l=null,s=a;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=R({},d,h);break e;case 2:Da=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ll|=o,e.lanes=o,e.memoizedState=d}}function Wa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ha={},qa=ji(Ha),Ka=ji(Ha),Ga=ji(Ha);function Ya(e){if(e===Ha)throw Error(a(174));return e}function $a(e,t){switch(Ei(Ga,t),Ei(Ka,e),Ei(qa,Ha),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ni(qa),Ei(qa,t)}function Qa(){Ni(qa),Ni(Ka),Ni(Ga)}function Xa(e){Ya(Ga.current);var t=Ya(qa.current),n=le(t,e.type);t!==n&&(Ei(Ka,e),Ei(qa,n))}function Ja(e){Ka.current===e&&(Ni(qa),Ni(Ka))}var Za=ji(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=x.ReactCurrentDispatcher,io=x.ReactCurrentBatchConfig,ao=0,oo=null,so=null,lo=null,co=!1,uo=!1,ho=0,fo=0;function po(){throw Error(a(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function go(e,t,n,r,i,o){if(ao=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:es,e=n(r,i),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(a(301));o+=1,lo=so=null,t.updateQueue=null,ro.current=ts,e=n(r,i)}while(uo)}if(ro.current=Jo,t=null!==so&&null!==so.next,ao=0,lo=so=oo=null,co=!1,t)throw Error(a(300));return e}function yo(){var e=0!==ho;return ho=0,e}function vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function bo(){if(null===so){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,so=e;else{if(null===e)throw Error(a(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function xo(e,t){return"function"===typeof t?t(e):t}function wo(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=so,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=s=null,c=null,u=o;do{var d=u.lane;if((ao&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,oo.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==o);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,Ll|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ko(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function So(){}function jo(e,t){var n=oo,r=bo(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,Lo(_o.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,To(9,Eo.bind(null,n,r,i,t),void 0,null),null===Al)throw Error(a(349));0!==(30&ao)||No(n,t,i)}return i}function No(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Eo(e,t,n,r){t.value=n,t.getSnapshot=r,Co(t)&&Ao(e)}function _o(e,t,n){return n(function(){Co(t)&&Ao(e)})}function Co(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Ao(e){var t=Ma(e,1);null!==t&&nc(t,e,1,-1)}function Oo(e){var t=vo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:e},t.queue=e,e=e.dispatch=Yo.bind(null,oo,e),[t.memoizedState,e]}function To(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Po(){return bo().memoizedState}function Io(e,t,n,r){var i=vo();oo.flags|=e,i.memoizedState=To(1|t,n,void 0,void 0===r?null:r)}function Mo(e,t,n,r){var i=bo();r=void 0===r?null:r;var a=void 0;if(null!==so){var o=so.memoizedState;if(a=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=To(t,n,a,r))}oo.flags|=e,i.memoizedState=To(1|t,n,a,r)}function Do(e,t){return Io(8390656,8,e,t)}function Lo(e,t){return Mo(2048,8,e,t)}function Ro(e,t){return Mo(4,2,e,t)}function Uo(e,t){return Mo(4,4,e,t)}function Fo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mo(4,4,Fo.bind(null,t,e),n)}function zo(){}function Vo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ho(e,t,n){return 0===(21&ao)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),oo.lanes|=n,Ll|=n,e.baseState=!0),t)}function qo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{bt=n,io.transition=r}}function Ko(){return bo().memoizedState}function Go(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$o(e))Qo(t,n);else if(null!==(n=Ia(e,t,n,r))){nc(n,e,r,ec()),Xo(n,t,r)}}function Yo(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($o(e))Qo(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var l=t.interleaved;return null===l?(i.next=i,Pa(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ia(e,t,i,r))&&(nc(n,e,r,i=ec()),Xo(n,t,r))}}function $o(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Qo(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Jo={readContext:Oa,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Zo={readContext:Oa,useCallback:function(e,t){return vo().memoizedState=[e,void 0===t?null:t],e},useContext:Oa,useEffect:Do,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Io(4194308,4,Fo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Io(4194308,4,e,t)},useInsertionEffect:function(e,t){return Io(4,2,e,t)},useMemo:function(e,t){var n=vo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Go.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vo().memoizedState=e},useState:Oo,useDebugValue:zo,useDeferredValue:function(e){return vo().memoizedState=e},useTransition:function(){var e=Oo(!1),t=e[0];return e=qo.bind(null,e[1]),vo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=vo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Al)throw Error(a(349));0!==(30&ao)||No(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Do(_o.bind(null,r,o,e),[e]),r.flags|=2048,To(9,Eo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=vo(),t=Al.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Qi&~(1<<32-ot(Qi)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Oa,useCallback:Vo,useContext:Oa,useEffect:Lo,useImperativeHandle:Bo,useInsertionEffect:Ro,useLayoutEffect:Uo,useMemo:Wo,useReducer:wo,useRef:Po,useState:function(){return wo(xo)},useDebugValue:zo,useDeferredValue:function(e){return Ho(bo(),so.memoizedState,e)},useTransition:function(){return[wo(xo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:jo,useId:Ko,unstable_isNewReconciler:!1},ts={readContext:Oa,useCallback:Vo,useContext:Oa,useEffect:Lo,useImperativeHandle:Bo,useInsertionEffect:Ro,useLayoutEffect:Uo,useMemo:Wo,useReducer:ko,useRef:Po,useState:function(){return ko(xo)},useDebugValue:zo,useDeferredValue:function(e){var t=bo();return null===so?t.memoizedState=e:Ho(t,so.memoizedState,e)},useTransition:function(){return[ko(xo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:jo,useId:Ko,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=R({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:R({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Ua(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Fa(e,a,i))&&(nc(t,e,i,r),Ba(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Ua(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Fa(e,a,i))&&(nc(t,e,i,r),Ba(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Ua(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Fa(e,i,r))&&(nc(t,e,r,n),Ba(t,e,r))}};function as(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function os(e,t,n){var r=!1,i=_i,a=t.contextType;return"object"===typeof a&&null!==a?a=Oa(a):(i=Pi(t)?Oi:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ti(e,i):_i),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},La(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Oa(a):(a=Pi(t)?Oi:Ci.current,i.context=Ti(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(rs(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),Va(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Ua(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,ql=r),ds(0,t)},n}function ps(e,t,n){(n=Ua(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Nc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ua(-1,1)).tag=2,Fa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var vs=x.ReactCurrentOwner,bs=!1;function xs(e,t,n,r){t.child=null===e?wa(t,null,n,r):xa(t,e.child,n,r)}function ws(e,t,n,r,i){n=n.render;var a=t.ref;return Aa(t,i),r=go(e,t,n,r,a,i),n=yo(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,xs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function ks(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Ic(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Es(e,t,n,r,i)}function js(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Il,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Il,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Il,Pl),Pl|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Il,Pl),Pl|=r;return xs(e,t,i,n),t.child}function Ns(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Es(e,t,n,r,i){var a=Pi(n)?Oi:Ci.current;return a=Ti(t,a),Aa(t,i),n=go(e,t,n,r,a,i),r=yo(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,xs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function _s(e,t,n,r,i){if(Pi(n)){var a=!0;Li(t)}else a=!1;if(Aa(t,i),null===t.stateNode)Ws(e,t),os(t,n,r),ls(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Oa(c):c=Ti(t,c=Pi(n)?Oi:Ci.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,o,r,c),Da=!1;var h=t.memoizedState;o.state=h,Va(t,r,o,i),l=t.memoizedState,s!==r||h!==l||Ai.current||Da?("function"===typeof u&&(rs(t,n,u,r),l=t.memoizedState),(s=Da||as(t,n,s,r,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Oa(l):l=Ti(t,l=Pi(n)?Oi:Ci.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&ss(t,o,r,l),Da=!1,h=t.memoizedState,o.state=h,Va(t,r,o,i);var p=t.memoizedState;s!==d||h!==p||Ai.current||Da?("function"===typeof f&&(rs(t,n,f,r),p=t.memoizedState),(c=Da||as(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Cs(e,t,n,r,a,i)}function Cs(e,t,n,r,i,a){Ns(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ri(t,n,!1),Hs(e,t,a);r=t.stateNode,vs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=xa(t,e.child,null,a),t.child=xa(t,null,s,a)):xs(e,t,s,a),t.memoizedState=r.state,i&&Ri(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Mi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Mi(0,t.context,!1),$a(e,t.containerInfo)}function Os(e,t,n,r,i){return fa(),pa(i),t.flags|=256,xs(e,t,n,r),t.child}var Ts,Ps,Is,Ms,Ds={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rs(e,t,n){var r,i=t.pendingProps,o=Za.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(Za,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Lc(l,i,0,null),e=Dc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=Ds,e):Us(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Fs(e,t,s,r=us(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(o=Dc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&xa(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Ds,o);if(0===(1&t.mode))return Fs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Fs(e,t,s,r=us(o=Error(a(419)),r,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(r=Al)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ma(e,i),nc(r,e,i,-1))}return mc(),Fs(e,t,s,r=us(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=_c.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Yi++]=Qi,Gi[Yi++]=Xi,Gi[Yi++]=$i,Qi=e.id,Xi=e.overflow,$i=t),t=Us(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(s){s=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Ic(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Ic(r,s):(s=Dc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Ls(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ds,i}return e=(s=e.child).sibling,i=Ic(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,n,r){return null!==r&&pa(r),xa(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ca(e.return,t,n)}function zs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Vs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(xs(e,t,r.children,n),0!==(2&(r=Za.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(Za,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,a);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ic(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ic(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Pi(t.type)&&Ii(),Ks(t),null;case 3:return r=t.stateNode,Qa(),Ni(Ai),Ni(Ci),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Ps(e,t),Ks(t),null;case 5:Ja(t);var i=Ya(Ga.current);if(n=t.type,null!==e&&null!=t.stateNode)Is(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ks(t),null}if(e=Ya(qa.current),da(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Fr(Dr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Q(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var l in ve(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Ts(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Fr(Dr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":Q(e,r),i=$(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=R({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ve(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Fr("scroll",e):null!=u&&b(e,o,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Ms(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ya(Ga.current),Ya(qa.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ks(t),null;case 13:if(Ni(Za),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),fa(),t.flags|=98560,o=!1;else if(o=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Za.current)?0===Ml&&(Ml=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return Qa(),Ps(e,t),null===e&&Vr(t.stateNode.containerInfo),Ks(t),null;case 10:return _a(t.type._context),Ks(t),null;case 19:if(Ni(Za),null===(o=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)qs(o,!1);else{if(0!==Ml||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,qs(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(Za,1&Za.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Vl&&(t.flags|=128,r=!0,qs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ia)return Ks(t),null}else 2*Xe()-o.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,qs(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=Za.current,Ei(Za,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Ii(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qa(),Ni(Ai),Ni(Ci),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ja(t),null;case 13:if(Ni(Za),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ni(Za),null;case 4:return Qa(),null;case 10:return _a(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ts=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ps=function(){},Is=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ya(qa.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=R({},i,{value:void 0}),r=R({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Ms=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Qs=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){jc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){jc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&el(t,n,a)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Qs||Zs(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Vt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Qs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&el(n,t,o),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Qs&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){jc(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Qs=(r=Qs)||null!==n.memoizedState,hl(e,t,n),Qs=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach(function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(a(160));fl(o,s,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){jc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){jc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){jc(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){jc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&X(i,o),be(l,s);var u=be(l,o);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){jc(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){jc(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){jc(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Xe())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qs=(u=Qs)||d,ml(t,e),Qs=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Js=e,d=e.child;null!==d;){for(h=Js=d;null!==Js;){switch(p=(f=Js).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zs(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){jc(r,n,g)}}break;case 5:Zs(f,f.return);break;case 22:if(null!==f.memoizedState){wl(h);continue}}null!==p?(p.return=f,Js=p):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){jc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){jc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,sl(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,sl(e),o);break;default:throw Error(a(161))}}catch(s){jc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Js=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$s;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Qs;s=$s;var c=Qs;if($s=o,(Qs=l)&&!c)for(Js=i;null!==Js;)l=(o=Js).child,22===o.tag&&null!==o.memoizedState?kl(i):null!==l?(l.return=o,Js=l):kl(i);for(;null!==a;)Js=a,bl(a,t,n),a=a.sibling;Js=i,$s=s,Qs=c}xl(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Js=a):xl(e)}}function xl(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qs||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Wa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wa(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(a(163))}Qs||512&t.flags&&il(t)}catch(f){jc(t,t.return,f)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function wl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function kl(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){jc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){jc(t,i,l)}}var a=t.return;try{il(t)}catch(l){jc(t,a,l)}break;case 5:var o=t.return;try{il(t)}catch(l){jc(t,o,l)}}}catch(l){jc(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var Sl,jl=Math.ceil,Nl=x.ReactCurrentDispatcher,El=x.ReactCurrentOwner,_l=x.ReactCurrentBatchConfig,Cl=0,Al=null,Ol=null,Tl=0,Pl=0,Il=ji(0),Ml=0,Dl=null,Ll=0,Rl=0,Ul=0,Fl=null,Bl=null,zl=0,Vl=1/0,Wl=null,Hl=!1,ql=null,Kl=null,Gl=!1,Yl=null,$l=0,Ql=0,Xl=null,Jl=-1,Zl=0;function ec(){return 0!==(6&Cl)?Xe():-1!==Jl?Jl:Jl=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Tl?Tl&-Tl:null!==ma.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,r){if(50<Ql)throw Ql=0,Xl=null,Error(a(185));yt(e,n,r),0!==(2&Cl)&&e===Al||(e===Al&&(0===(2&Cl)&&(Rl|=n),4===Ml&&sc(e,Tl)),rc(e,r),1===n&&0===Cl&&0===(1&t.mode)&&(Vl=Xe()+500,Fi&&Vi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=ft(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Al?Tl:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Fi=!0,zi(e)}(lc.bind(null,e)):zi(lc.bind(null,e)),oi(function(){0===(6&Cl)&&Vi()}),n=null;else{switch(xt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,Zl=0,0!==(6&Cl))throw Error(a(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=ht(e,e===Al?Tl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Cl;Cl|=2;var o=pc();for(Al===e&&Tl===t||(Wl=null,Vl=Xe()+500,hc(e,t));;)try{vc();break}catch(l){fc(e,l)}Ea(),Nl.current=o,Cl=i,null!==Ol?t=0:(Al=null,Tl=0,t=Ml)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Dl,hc(e,0),sc(e,r),rc(e,Xe()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Dl,hc(e,0),sc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Bl,Wl);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=zl+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Bl,Wl),t);break}wc(e,Bl,Wl);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jl(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Bl,Wl),r);break}wc(e,Bl,Wl);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Bl,Bl=n,null!==t&&oc(t)),e}function oc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function sc(e,t){for(t&=~Ul,t&=~Rl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Cl))throw Error(a(327));kc();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Dl,hc(e,0),sc(e,t),rc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Bl,Wl),rc(e,Xe()),null}function cc(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(Vl=Xe()+500,Fi&&Vi())}}function uc(e){null!==Yl&&0===Yl.tag&&0===(6&Cl)&&kc();var t=Cl;Cl|=1;var n=_l.transition,r=bt;try{if(_l.transition=null,bt=1,e)return e()}finally{bt=r,_l.transition=n,0===(6&(Cl=t))&&Vi()}}function dc(){Pl=Il.current,Ni(Il)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ol)for(n=Ol.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ii();break;case 3:Qa(),Ni(Ai),Ni(Ci),no();break;case 5:Ja(r);break;case 4:Qa();break;case 13:case 19:Ni(Za);break;case 10:_a(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Al=e,Ol=e=Ic(e.current,null),Tl=Pl=t,Ml=0,Dl=null,Ul=Rl=Ll=0,Bl=Fl=null,null!==Ta){for(t=0;t<Ta.length;t++)if(null!==(r=(n=Ta[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ta=null}return e}function fc(e,t){for(;;){var n=Ol;try{if(Ea(),ro.current=Jo,co){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}co=!1}if(ao=0,lo=so=oo=null,uo=!1,ho=0,El.current=null,null===n||null===n.return){Ml=1,Dl=t,Ol=null;break}e:{var o=e,s=n.return,l=n,c=t;if(t=Tl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,t),1&p.mode&&ms(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ms(o,u,t),mc();break e}c=Error(a(426))}else if(ia&&1&l.mode){var y=gs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ys(y,s,l,0,t),pa(cs(c,l));break e}}o=c=cs(c,l),4!==Ml&&(Ml=2),null===Fl?Fl=[o]:Fl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,za(o,fs(0,c,t));break e;case 1:l=c;var v=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Kl||!Kl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,za(o,ps(o,l,t));break e}}o=o.return}while(null!==o)}xc(n)}catch(x){t=x,Ol===n&&null!==n&&(Ol=n=n.return);continue}break}}function pc(){var e=Nl.current;return Nl.current=Jo,null===e?Jo:e}function mc(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===Al||0===(268435455&Ll)&&0===(268435455&Rl)||sc(Al,Tl)}function gc(e,t){var n=Cl;Cl|=2;var r=pc();for(Al===e&&Tl===t||(Wl=null,hc(e,t));;)try{yc();break}catch(i){fc(e,i)}if(Ea(),Cl=n,Nl.current=r,null!==Ol)throw Error(a(261));return Al=null,Tl=0,Ml}function yc(){for(;null!==Ol;)bc(Ol)}function vc(){for(;null!==Ol&&!$e();)bc(Ol)}function bc(e){var t=Sl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?xc(e):Ol=t,El.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Pl)))return void(Ol=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Ol=n);if(null===e)return Ml=6,void(Ol=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ol=t);Ol=t=e}while(null!==t);0===Ml&&(Ml=5)}function wc(e,t,n){var r=bt,i=_l.transition;try{_l.transition=null,bt=1,function(e,t,n,r){do{kc()}while(null!==Yl);if(0!==(6&Cl))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Al&&(Ol=Al=null,Tl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Ac(tt,function(){return kc(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=_l.transition,_l.transition=null;var s=bt;bt=1;var l=Cl;Cl|=4,El.current=null,function(e,t){if(ei=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=s),f===o&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(a(163))}}catch(w){jc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Qe(),Cl=l,bt=s,_l.transition=o}else e.current=n;if(Gl&&(Gl=!1,Yl=e,$l=i),o=e.pendingLanes,0===o&&(Kl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=ql,ql=null,e;0!==(1&$l)&&0!==e.tag&&kc(),o=e.pendingLanes,0!==(1&o)?e===Xl?Ql++:(Ql=0,Xl=e):Ql=0,Vi()}(e,t,n,r)}finally{_l.transition=i,bt=r}return null}function kc(){if(null!==Yl){var e=xt($l),t=_l.transition,n=bt;try{if(_l.transition=null,bt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,$l=0,0!==(6&Cl))throw Error(a(331));var i=Cl;for(Cl|=4,Js=e.current;null!==Js;){var o=Js,s=o.child;if(0!==(16&Js.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Js=u;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:nl(8,d,o)}var h=d.child;if(null!==h)h.return=d,Js=h;else for(;null!==Js;){var f=(d=Js).sibling,p=d.return;if(al(d),d===u){Js=null;break}if(null!==f){f.return=p,Js=f;break}Js=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Js=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Js=s;else e:for(;null!==Js;){if(0!==(2048&(o=Js).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Js=v;break e}Js=o.return}}var b=e.current;for(Js=b;null!==Js;){var x=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,Js=x;else e:for(s=b;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(k){jc(l,l.return,k)}if(l===s){Js=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Js=w;break e}Js=l.return}}if(Cl=i,Vi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(k){}r=!0}return r}finally{bt=n,_l.transition=t}}return!1}function Sc(e,t,n){e=Fa(e,t=fs(0,t=cs(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function jc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Fa(t,e=ps(t,e=cs(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Nc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Tl&n)===n&&(4===Ml||3===Ml&&(130023424&Tl)===Tl&&500>Xe()-zl?hc(e,0):Ul|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ma(e,t))&&(yt(e,t,n),rc(e,n))}function _c(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ec(e,n)}function Ac(e,t){return Ge(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tc(e,t,n,r){return new Oc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ic(e,t){var n=e.alternate;return null===n?((n=Tc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Pc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Dc(n.children,i,o,t);case j:s=8,i|=8;break;case N:return(e=Tc(12,n,t,2|i)).elementType=N,e.lanes=o,e;case A:return(e=Tc(13,n,t,i)).elementType=A,e.lanes=o,e;case O:return(e=Tc(19,n,t,i)).elementType=O,e.lanes=o,e;case I:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case _:s=9;break e;case C:s=11;break e;case T:s=14;break e;case P:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Tc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Dc(e,t,n,r){return(e=Tc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Tc(22,e,r,t)).elementType=I,e.lanes=n,e.stateNode={isHidden:!1},e}function Rc(e,t,n){return(e=Tc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Tc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,a,o,s,l){return e=new Fc(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Tc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},La(a),e}function zc(e){if(!e)return _i;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Di(e,n,t)}return t}function Vc(e,t,n,r,i,a,o,s,l){return(e=Bc(n,r,!0,e,0,a,0,s,l)).context=zc(null),n=e.current,(a=Ua(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Fa(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Wc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ua(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fa(i,t,o))&&(nc(e,i,o,a),Ba(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:As(t),fa();break;case 5:Xa(t);break;case 1:Pi(t.type)&&Li(t);break;case 4:$a(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ka,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(Za,1&Za.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Rs(e,t,n):(Ei(Za,1&Za.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ei(Za,1&Za.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(Za,Za.current),r)break;return null;case 22:case 23:return t.lanes=0,js(e,t,n)}return Hs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var i=Ti(t,Ci.current);Aa(t,n),i=go(null,t,r,e,i,n);var o=yo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,La(t),i.updater=is,t.stateNode=i,i._reactInternals=t,ls(t,r,e,n),t=Cs(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),xs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===T)return 14}return 2}(r),e=ns(r,e),i){case 0:t=Es(null,t,r,e,n);break e;case 1:t=_s(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=ks(null,t,r,ns(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Es(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 1:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 3:e:{if(As(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),Va(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Os(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=Os(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=wa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fa(),r===i){t=Hs(e,t,n);break e}xs(e,t,r,n)}t=t.child}return t;case 5:return Xa(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ns(e,t),xs(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Rs(e,t,n);case 4:return $a(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xa(t,null,r,n):xs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ws(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 7:return xs(e,t,t.pendingProps,n),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ei(ka,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ai.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ua(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ca(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ca(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}xs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Aa(t,n),r=r(i=Oa(i)),t.flags|=1,xs(e,t,r,n),t.child;case 14:return i=ns(r=t.type,t.pendingProps),ks(e,t,r,i=ns(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),Ws(e,t),t.tag=1,Pi(r)?(e=!0,Li(t)):e=!1,Aa(t,n),os(t,r,i),ls(t,r,i,n),Cs(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return js(e,t,n)}throw Error(a(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Hc(o);s.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}var o=Vc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[pi]=o.current,Vr(8===e.nodeType?e.parentNode:e),uc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hc(l);s.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[pi]=l.current,Vr(8===e.nodeType?e.parentNode:e),uc(function(){Wc(t,l,n,r)}),l}(n,t,e,i,r);return Hc(o)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Wc(null,e,null,null)}),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=jt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&0!==t&&t<It[n].priority;n++);It.splice(n,0,e),0===n&&Rt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Xe()),0===(6&Cl)&&(Vl=Xe()+500,Vi()))}break;case 13:uc(function(){var t=Ma(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Kc(e,1)}},kt=function(e){if(13===e.tag){var t=Ma(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Ma(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},jt=function(){return bt},Nt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ae=uc;var eu={usingClientEntryPoint:!1,Events:[bi,xi,wi,Ee,_e,cc]},tu={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),at=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(a(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[pi]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2777:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isSymbol=function(e){return"symbol"===typeof e||e instanceof Symbol}},2897:(e,t,n)=>{var r=n(3693);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},3272:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toKey=function(e){var t;return"string"===typeof e||"symbol"===typeof e?e:Object.is(null===e||void 0===e||null===(t=e.valueOf)||void 0===t?void 0:t.call(e),-0)?"-0":String(e)}},3693:(e,t,n)=>{var r=n(7736);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},3738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3757:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}},3799:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4704),i=n(1203),a=n(870),o=n(9972);t.isIterateeCall=function(e,t,n){return!!a.isObject(n)&&(!!("number"===typeof t&&i.isArrayLike(n)&&r.isIndex(t)&&t<n.length||"string"===typeof t&&t in n)&&o.eq(n[t],e))}},3808:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8268),i=n(5261);t.matches=function(e){return e=i.cloneDeep(e),t=>r.isMatch(t,e)}},3821:(e,t,n)=>{e.exports=n(2204).sortBy},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var x=b.prototype=new v;x.constructor=b,m(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,S={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)k.call(t,i)&&!j.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:S.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===a?"."+C(l,0):a,w(o)?(i="",null!=e&&(i=e.replace(_,"$&/")+"/"),A(o,t,i,"",function(e){return e})):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(_,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var u=a+C(s=e[c],c);l+=A(s,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=A(s=s.value,t,i,u=a+C(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function O(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",function(e){return t.call(n,e,i++)}),r}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},I={transition:null},M={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:I,ReactCurrentOwner:S};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:O,forEach:function(e,t,n){O(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return O(e,function(){t++}),t},toArray:function(e){return O(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.act=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!j.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=N,t.createFactory=function(e){var t=N.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},4208:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.uniqBy=function(e,t){const n=new Map;for(let r=0;r<e.length;r++){const i=e[r],a=t(i);n.has(a)||n.set(a,i)}return Array.from(n.values())}},4250:(e,t,n)=>{e.exports=n(8182).isEqual},4332:(e,t,n)=>{e.exports=n(5053).uniqBy},4385:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if(!e||"object"!==typeof e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t))&&"[object Object]"===Object.prototype.toString.call(e)}},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4704:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=/^(?:0|[1-9]\d*)$/;t.isIndex=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<t;case"symbol":return!1;case"string":return n.test(e)}}},4737:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.noop=function(){}},4803:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPrimitive=function(e){return null==e||"object"!==typeof e&&"function"!==typeof e}},4830:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.debounce=function(e,t){let n,{signal:r,edges:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=null;const o=null!=i&&i.includes("leading"),s=null==i||i.includes("trailing"),l=()=>{null!==a&&(e.apply(n,a),n=void 0,a=null)};let c=null;const u=()=>{null!=c&&clearTimeout(c),c=setTimeout(()=>{c=null,s&&l(),d()},t)},d=()=>{null!==c&&(clearTimeout(c),c=null),n=void 0,a=null},h=function(){if(null!==r&&void 0!==r&&r.aborted)return;n=this;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];a=t;const s=null==c;u(),o&&s&&l()};return h.schedule=u,h.cancel=d,h.flush=()=>{l()},null===r||void 0===r||r.addEventListener("abort",d,{once:!0}),h}},4879:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6770);t.toFinite=function(e){if(!e)return 0===e?e:0;if((e=r.toNumber(e))===1/0||e===-1/0){return(e<0?-1:1)*Number.MAX_VALUE}return e===e?e:0}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5053:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4208),i=n(9599),a=n(2104),o=n(2715);t.uniqBy=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.identity;return a.isArrayLikeObject(e)?r.uniqBy(Array.from(e),o.iteratee(t)):[]}},5082:(e,t)=>{"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,s=60109,l=60110,c=60112,u=60113,d=60120,h=60115,f=60116,p=60121,m=60122,g=60117,y=60129,v=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),a=b("react.strict_mode"),o=b("react.profiler"),s=b("react.provider"),l=b("react.context"),c=b("react.forward_ref"),u=b("react.suspense"),d=b("react.suspense_list"),h=b("react.memo"),f=b("react.lazy"),p=b("react.block"),m=b("react.server.block"),g=b("react.fundamental"),y=b("react.debug_trace_mode"),v=b("react.legacy_hidden")}function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case u:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case h:case s:return e;default:return t}}case r:return t}}}t.isFragment=function(e){return x(e)===i}},5261:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6433);t.cloneDeep=function(e){return r.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}},5303:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2489),i=n(4704),a=n(6321),o=n(1444);t.has=function(e,t){let n;if(n=Array.isArray(t)?t:"string"===typeof t&&r.isDeepKey(t)&&null==(null===e||void 0===e?void 0:e[t])?o.toPath(t):[t],0===n.length)return!1;let s=e;for(let r=0;r<n.length;r++){const e=n[r];if(null==s||!Object.hasOwn(s,e)){if(!((Array.isArray(s)||a.isArguments(s))&&i.isIndex(e)&&e<s.length))return!1}s=s[e]}return!0}},5316:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9709),i=n(7043),a=n(1444);t.orderBy=function(e,t,n,o){if(null==e)return[];n=o?void 0:n,Array.isArray(e)||(e=Object.values(e)),Array.isArray(t)||(t=null==t?[null]:[t]),0===t.length&&(t=[null]),Array.isArray(n)||(n=null==n?[]:[n]),n=n.map(e=>String(e));const s=(e,t)=>{let n=e;for(let r=0;r<t.length&&null!=n;++r)n=n[t[r]];return n},l=t.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"===typeof e||Array.isArray(e)||i.isKey(e)?e:{key:e,path:a.toPath(e)}));return e.map(e=>({original:e,criteria:l.map(t=>((e,t)=>null==t||null==e?t:"object"===typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:s(t,e.path):"function"===typeof e?e(t):Array.isArray(e)?s(t,e):"object"===typeof t?t[e]:t)(t,e))})).slice().sort((e,t)=>{for(let i=0;i<l.length;i++){const a=r.compareValues(e.criteria[i],t.criteria[i],n[i]);if(0!==a)return a}return 0}).map(e=>e.original)}},5414:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1293);t.throttle=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{leading:i=!0,trailing:a=!0}=n;return r.debounce(e,t,{leading:i,maxWait:t,trailing:a})}},5508:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6433),i=n(7599);t.cloneDeepWith=function(e,t){return r.cloneDeepWith(e,(n,a,o,s)=>{const l=null===t||void 0===t?void 0:t(n,a,o,s);if(null!=l)return l;if("object"===typeof e)switch(Object.prototype.toString.call(e)){case i.numberTag:case i.stringTag:case i.booleanTag:{const t=new e.constructor(null===e||void 0===e?void 0:e.valueOf());return r.copyProperties(t,e),t}case i.argumentsTag:{const t={};return r.copyProperties(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}})}},5990:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}},6321:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5990);t.isArguments=function(e){return null!==e&&"object"===typeof e&&"[object Arguments]"===r.getTag(e)}},6392:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.last=function(e){return e[e.length-1]}},6433:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6443),i=n(5990),a=n(7599),o=n(4803),s=n(3757);function l(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const d=null===u||void 0===u?void 0:u(e,t,n,r);if(null!=d)return d;if(o.isPrimitive(e))return e;if(r.has(e))return r.get(e);if(Array.isArray(e)){const t=new Array(e.length);r.set(e,t);for(let i=0;i<e.length;i++)t[i]=l(e[i],i,n,r,u);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;r.set(e,t);for(const[i,a]of e)t.set(i,l(a,i,n,r,u));return t}if(e instanceof Set){const t=new Set;r.set(e,t);for(const i of e)t.add(l(i,void 0,n,r,u));return t}if("undefined"!==typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(s.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);r.set(e,t);for(let i=0;i<e.length;i++)t[i]=l(e[i],i,n,r,u);return t}if(e instanceof ArrayBuffer||"undefined"!==typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return r.set(e,t),c(t,e,n,r,u),t}if("undefined"!==typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return r.set(e,t),c(t,e,n,r,u),t}if(e instanceof Blob){const t=new Blob([e],{type:e.type});return r.set(e,t),c(t,e,n,r,u),t}if(e instanceof Error){const t=new e.constructor;return r.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,c(t,e,n,r,u),t}if("object"===typeof e&&function(e){switch(i.getTag(e)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return r.set(e,t),c(t,e,n,r,u),t}return e}function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;const o=[...Object.keys(t),...r.getSymbols(t)];for(let r=0;r<o.length;r++){const s=o[r],c=Object.getOwnPropertyDescriptor(e,s);(null==c||c.writable)&&(e[s]=l(t[s],s,n,i,a))}}t.cloneDeepWith=function(e,t){return l(e,void 0,e,new Map,t)},t.cloneDeepWithImpl=l,t.copyProperties=c},6443:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}},6770:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2777);t.toNumber=function(e){return r.isSymbol(e)?NaN:Number(e)}},7043:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2777),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.isKey=function(e,t){return!Array.isArray(e)&&(!("number"!==typeof e&&"boolean"!==typeof e&&null!=e&&!r.isSymbol(e))||("string"===typeof e&&(a.test(e)||!i.test(e))||null!=t&&Object.hasOwn(t,e)))}},7231:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3799),i=n(4879);t.range=function(e,t,n){n&&"number"!==typeof n&&r.isIterateeCall(e,t,n)&&(t=n=void 0),e=i.toFinite(e),void 0===t?(t=e,e=0):t=i.toFinite(t),n=void 0===n?e<t?1:-1:i.toFinite(n);const a=Math.max(Math.ceil((t-e)/(n||1)),0),o=new Array(a);for(let r=0;r<a;r++)o[r]=e,e+=n;return o}},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,I(k);else{var t=r(u);null!==t&&M(w,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,v(E),E=-1),p=!0;var a=f;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),x(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&M(w,d.startTime-n),l=!1}return l}finally{h=null,f=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,j=!1,N=null,E=-1,_=5,C=-1;function A(){return!(t.unstable_now()-C<_)}function O(){if(null!==N){var e=t.unstable_now();C=e;var n=!0;try{n=N(!0,e)}finally{n?S():(j=!1,N=null)}}else j=!1}if("function"===typeof b)S=function(){b(O)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,P=T.port2;T.port1.onmessage=O,S=function(){P.postMessage(null)}}else S=function(){y(O,0)};function I(e){N=e,j||(j=!0,S())}function M(e,n){E=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,I(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(v(E),E=-1):g=!0,M(w,a-o))):(e.sortIndex=s,n(c,e),m||p||(m=!0,I(k))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},7237:(e,t,n)=>{"use strict";n(8365)},7260:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isUnsafeProperty=function(e){return"__proto__"===e}},7312:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.flatten=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=[],r=Math.floor(t),i=(e,t)=>{for(let a=0;a<e.length;a++){const o=e[a];Array.isArray(o)&&t<r?i(o,t+1):n.push(o)}};return i(e,0),n}},7330:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9323);t.property=function(e){return function(t){return r.get(t,e)}}},7599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.argumentsTag="[object Arguments]",t.arrayBufferTag="[object ArrayBuffer]",t.arrayTag="[object Array]",t.bigInt64ArrayTag="[object BigInt64Array]",t.bigUint64ArrayTag="[object BigUint64Array]",t.booleanTag="[object Boolean]",t.dataViewTag="[object DataView]",t.dateTag="[object Date]",t.errorTag="[object Error]",t.float32ArrayTag="[object Float32Array]",t.float64ArrayTag="[object Float64Array]",t.functionTag="[object Function]",t.int16ArrayTag="[object Int16Array]",t.int32ArrayTag="[object Int32Array]",t.int8ArrayTag="[object Int8Array]",t.mapTag="[object Map]",t.numberTag="[object Number]",t.objectTag="[object Object]",t.regexpTag="[object RegExp]",t.setTag="[object Set]",t.stringTag="[object String]",t.symbolTag="[object Symbol]",t.uint16ArrayTag="[object Uint16Array]",t.uint32ArrayTag="[object Uint32Array]",t.uint8ArrayTag="[object Uint8Array]",t.uint8ClampedArrayTag="[object Uint8ClampedArray]"},7736:(e,t,n)=>{var r=n(3738).default,i=n(9045);e.exports=function(e){var t=i(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},7770:(e,t,n)=>{e.exports=n(9323).get},7820:(e,t,n)=>{e.exports=n(5414).throttle},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8182:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9330),i=n(4737);t.isEqual=function(e,t){return r.isEqualWith(e,t,i.noop)}},8210:function(e,t,n){var r;!function(){"use strict";var i,a=1e9,o={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,g=d(1286742750677284.5),y={};function v(e,t){var n,r,i,a,o,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),s?C(t,h):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i){for(a<0?(r=c,a=-a,l=u.length):(r=u,i=o,l=c.length),a>(l=(o=Math.ceil(h/7))>l?o+1:l+1)&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for((l=c.length)-(a=u.length)<0&&(a=l,r=u,u=c,c=r),n=0;a;)n=(c[--a]=c[a]+u[a]+n)/p|0,c[a]%=p;for(n&&(c.unshift(n),++i),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=i,s?C(t,h):t}function b(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function x(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(a+=N(n)),a+=r;(n=7-(r=(o=e[t])+"").length)&&(a+=N(n))}else if(0===o)return"0";for(;o%10===0;)o/=10;return a+o}y.absoluteValue=y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},y.comparedTo=y.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(t=0,n=(r=a.d.length)<(i=e.d.length)?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1},y.decimalPlaces=y.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},y.dividedBy=y.div=function(e){return w(this,new this.constructor(e))},y.dividedToIntegerBy=y.idiv=function(e){var t=this.constructor;return C(w(this,new t(e),0,1),t.precision)},y.equals=y.eq=function(e){return!this.cmp(e)},y.exponent=function(){return S(this)},y.greaterThan=y.gt=function(e){return this.cmp(e)>0},y.greaterThanOrEqualTo=y.gte=function(e){return this.cmp(e)>=0},y.isInteger=y.isint=function(){return this.e>this.d.length-2},y.isNegative=y.isneg=function(){return this.s<0},y.isPositive=y.ispos=function(){return this.s>0},y.isZero=function(){return 0===this.s},y.lessThan=y.lt=function(e){return this.cmp(e)<0},y.lessThanOrEqualTo=y.lte=function(e){return this.cmp(e)<1},y.logarithm=y.log=function(e){var t,n=this,r=n.constructor,a=r.precision,o=a+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(i))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(i)?new r(0):(s=!1,t=w(E(n,o),E(e,o),o),s=!0,C(t,a))},y.minus=y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?A(t,e):v(t,(e.s=-e.s,e))},y.modulo=y.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(s=!1,t=w(n,e,0,1).times(e),s=!0,n.minus(t)):C(new r(n),i)},y.naturalExponential=y.exp=function(){return k(this)},y.naturalLogarithm=y.ln=function(){return E(this)},y.negated=y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},y.plus=y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):A(t,(e.s=-e.s,e))},y.precision=y.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=S(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},y.squareRoot=y.sqrt=function(){var e,t,n,r,i,a,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=S(c),s=!1,0==(i=Math.sqrt(+c))||i==1/0?(((t=x(c.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new u(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(i.toString()),i=o=(n=u.precision)+3;;)if(r=(a=r).plus(w(c,a,o+2)).times(.5),x(a.d).slice(0,o)===(t=x(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&"4999"==t){if(C(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if("9999"!=t)break;o+=4}return s=!0,C(r,n)},y.times=y.mul=function(e){var t,n,r,i,a,o,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,(c=f.length)<(u=m.length)&&(a=f,f=m,m=a,o=c,c=u,u=o),a=[],r=o=c+u;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,i=c+r;i>r;)l=a[i]+m[r]*f[i-r-1]+t,a[i--]=l%p|0,t=l/p|0;a[i]=(a[i]+t)%p|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,s?C(e,h.precision):e},y.toDecimalPlaces=y.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(b(e,0,a),void 0===t?t=r.rounding:b(t,0,8),C(n,e+S(n)+1,t))},y.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=O(r,!0):(b(e,0,a),void 0===t?t=i.rounding:b(t,0,8),n=O(r=C(new i(r),e+1,t),!0,e+1)),n},y.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?O(i):(b(e,0,a),void 0===t?t=o.rounding:b(t,0,8),n=O((r=C(new o(i),e+S(i)+1,t)).abs(),!1,e+S(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},y.toInteger=y.toint=function(){var e=this,t=e.constructor;return C(new t(e),S(e)+1,t.rounding)},y.toNumber=function(){return+this},y.toPower=y.pow=function(e){var t,n,r,a,o,c,u=this,h=u.constructor,f=+(e=new h(e));if(!e.s)return new h(i);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(i))return u;if(r=h.precision,e.eq(i))return C(u,r);if(c=(t=e.e)>=(n=e.d.length-1),o=u.s,c){if((n=f<0?-f:f)<=m){for(a=new h(i),t=Math.ceil(r/7+4),s=!1;n%2&&T((a=a.times(u)).d,t),0!==(n=d(n/2));)T((u=u.times(u)).d,t);return s=!0,e.s<0?new h(i).div(a):C(a,r)}}else if(o<0)throw Error(l+"NaN");return o=o<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,s=!1,a=e.times(E(u,r+12)),s=!0,(a=k(a)).s=o,a},y.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?r=O(i,(n=S(i))<=o.toExpNeg||n>=o.toExpPos):(b(e,1,a),void 0===t?t=o.rounding:b(t,0,8),r=O(i=C(new o(i),e,t),e<=(n=S(i))||n<=o.toExpNeg,e)),r},y.toSignificantDigits=y.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(b(e,1,a),void 0===t?t=n.rounding:b(t,0,8)),C(new n(this),e,t)},y.toString=y.valueOf=y.val=y.toJSON=function(){var e=this,t=S(e),n=e.constructor;return O(e,t<=n.toExpNeg||t>=n.toExpPos)};var w=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%p|0,r=n/p|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,a;if(n!=r)a=n>r?1:-1;else for(i=a=0;i<n;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*p+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,a,o){var s,c,u,d,h,f,m,g,y,v,b,x,w,k,j,N,E,_,A=r.constructor,O=r.s==i.s?1:-1,T=r.d,P=i.d;if(!r.s)return new A(r);if(!i.s)throw Error(l+"Division by zero");for(c=r.e-i.e,E=P.length,j=T.length,g=(m=new A(O)).d=[],u=0;P[u]==(T[u]||0);)++u;if(P[u]>(T[u]||0)&&--c,(x=null==a?a=A.precision:o?a+(S(r)-S(i))+1:a)<0)return new A(0);if(x=x/7+2|0,u=0,1==E)for(d=0,P=P[0],x++;(u<j||d)&&x--;u++)w=d*p+(T[u]||0),g[u]=w/P|0,d=w%P|0;else{for((d=p/(P[0]+1)|0)>1&&(P=e(P,d),T=e(T,d),E=P.length,j=T.length),k=E,v=(y=T.slice(0,E)).length;v<E;)y[v++]=0;(_=P.slice()).unshift(0),N=P[0],P[1]>=p/2&&++N;do{d=0,(s=t(P,y,E,v))<0?(b=y[0],E!=v&&(b=b*p+(y[1]||0)),(d=b/N|0)>1?(d>=p&&(d=p-1),1==(s=t(h=e(P,d),y,f=h.length,v=y.length))&&(d--,n(h,E<f?_:P,f))):(0==d&&(s=d=1),h=P.slice()),(f=h.length)<v&&h.unshift(0),n(y,h,v),-1==s&&(s=t(P,y,E,v=y.length))<1&&(d++,n(y,E<v?_:P,v)),v=y.length):0===s&&(d++,y=[0]),g[u++]=d,s&&y[0]?y[v++]=T[k]||0:(y=[T[k]],v=1)}while((k++<j||void 0!==y[0])&&x--)}return g[0]||g.shift(),m.e=c,C(m,o?a+S(m)+1:a)}}();function k(e,t){var n,r,a,o,l,c=0,d=0,f=e.constructor,p=f.precision;if(S(e)>16)throw Error(u+S(e));if(!e.s)return new f(i);for(null==t?(s=!1,l=p):l=t,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,n=r=a=new f(i),f.precision=l;;){if(r=C(r.times(e),l),n=n.times(++c),x((o=a.plus(w(r,n,l))).d).slice(0,l)===x(a.d).slice(0,l)){for(;d--;)a=C(a.times(a),l);return f.precision=p,null==t?(s=!0,C(a,p)):a}a=o}}function S(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function j(e,t,n){if(t>e.LN10.sd())throw s=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return C(new e(e.LN10),t)}function N(e){for(var t="";e--;)t+="0";return t}function E(e,t){var n,r,a,o,c,u,d,h,f,p=1,m=e,g=m.d,y=m.constructor,v=y.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(i))return new y(0);if(null==t?(s=!1,h=v):h=t,m.eq(10))return null==t&&(s=!0),j(y,h);if(h+=10,y.precision=h,r=(n=x(g)).charAt(0),o=S(m),!(Math.abs(o)<15e14))return d=j(y,h+2,v).times(o+""),m=E(new y(r+"."+n.slice(1)),h-10).plus(d),y.precision=v,null==t?(s=!0,C(m,v)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=x((m=m.times(e)).d)).charAt(0),p++;for(o=S(m),r>1?(m=new y("0."+n),o++):m=new y(r+"."+n.slice(1)),u=c=m=w(m.minus(i),m.plus(i),h),f=C(m.times(m),h),a=3;;){if(c=C(c.times(f),h),x((d=u.plus(w(c,new y(a),h))).d).slice(0,h)===x(u.d).slice(0,h))return u=u.times(2),0!==o&&(u=u.plus(j(y,h+2,v).times(o+""))),u=w(u,new y(p),h),y.precision=v,null==t?(s=!0,C(u,v)):u;u=d,a+=2}}function _(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),s&&(e.e>g||e.e<-g))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function C(e,t,n){var r,i,a,o,l,c,f,m,y=e.d;for(o=1,a=y[0];a>=10;a/=10)o++;if((r=t-o)<0)r+=7,i=t,f=y[m=0];else{if((m=Math.ceil((r+1)/7))>=(a=y.length))return e;for(f=a=y[m],o=1;a>=10;a/=10)o++;i=(r%=7)-7+o}if(void 0!==n&&(l=f/(a=h(10,o-i-1))%10|0,c=t<0||void 0!==y[m+1]||f%a,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?i>0?f/h(10,o-i):0:y[m-1])%10&1||n==(e.s<0?8:7))),t<1||!y[0])return c?(a=S(e),y.length=1,t=t-a-1,y[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(0==r?(y.length=m,a=1,m--):(y.length=m+1,a=h(10,7-r),y[m]=i>0?(f/h(10,o-i)%h(10,i)|0)*a:0),c)for(;;){if(0==m){(y[0]+=a)==p&&(y[0]=1,++e.e);break}if(y[m]+=a,y[m]!=p)break;y[m--]=0,a=1}for(r=y.length;0===y[--r];)y.pop();if(s&&(e.e>g||e.e<-g))throw Error(u+S(e));return e}function A(e,t){var n,r,i,a,o,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),s?C(t,m):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r){for((d=o<0)?(n=c,o=-o,l=h.length):(n=h,r=u,l=c.length),o>(i=Math.max(Math.ceil(m/7),l)+2)&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for((d=(i=c.length)<(l=h.length))&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}o=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>o;){if(c[--i]<h[i]){for(a=i;a&&0===c[--a];)c[a]=p-1;--c[a],c[i]+=p}c[i]-=h[i]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,s?C(t,m):t):new f(0)}function O(e,t,n){var r,i=S(e),a=x(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+N(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+N(-i-1)+a,n&&(r=n-o)>0&&(a+=N(r))):i>=o?(a+=N(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+N(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=N(r))),e.s<0?"-"+a:a}function T(e,t){if(e.length>t)return e.length=t,!0}function P(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,i=["precision",1,a,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(d(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}o=function e(t){var n,r,i;function a(e){var t=this;if(!(t instanceof a))return new a(e);if(t.constructor=a,e instanceof a)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):_(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);_(t,e)}if(a.prototype=y,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e,a.config=a.set=P,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return a.config(t),a}(o),o.default=o.Decimal=o,i=new o(1),void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},8268:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2132);t.isMatch=function(e,t){return r.isMatchWith(e,t,()=>{})}},8346:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}},8365:(e,t,n)=>{"use strict";var r=n(5043);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useSyncExternalStore,o=r.useRef,s=r.useEffect,l=r.useMemo,c=r.useDebugValue},8396:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5508);t.cloneDeep=function(e){return r.cloneDeepWith(e)}},8420:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}},8443:(e,t,n)=>{"use strict";e.exports=n(9717)},8499:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,o){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,a||e,o),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,o=new Array(a);i<a;i++)o[i]=r[i].fn;return o},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,a,o){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,a),!0;case 6:return u.fn.call(u.context,t,r,i,a,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return o(this,a),this;var s=this._events[a];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||o(this,a);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[a]=1===c.length?c[0]:c:o(this,a)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},8845:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8268),i=n(3272),a=n(8396),o=n(9323),s=n(5303);t.matchesProperty=function(e,t){switch(typeof e){case"object":var n;Object.is(null===(n=e)||void 0===n?void 0:n.valueOf(),-0)&&(e="-0");break;case"number":e=i.toKey(e)}return t=a.cloneDeep(t),function(n){const i=o.get(n,e);return void 0===i?s.has(n,e):void 0===t?void 0===i:r.isMatch(i,t)}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},9045:(e,t,n)=>{var r=n(3738).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9323:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7260),i=n(2489),a=n(3272),o=n(1444);t.get=function e(t,n,s){if(null==t)return s;switch(typeof n){case"string":{if(r.isUnsafeProperty(n))return s;const a=t[n];return void 0===a?i.isDeepKey(n)?e(t,o.toPath(n),s):s:a}case"number":case"symbol":{"number"===typeof n&&(n=a.toKey(n));const e=t[n];return void 0===e?s:e}default:{var l;if(Array.isArray(n))return function(e,t,n){if(0===t.length)return n;let i=e;for(let a=0;a<t.length;a++){if(null==i)return n;if(r.isUnsafeProperty(t[a]))return n;i=i[t[a]]}if(void 0===i)return n;return i}(t,n,s);if(n=Object.is(null===(l=n)||void 0===l?void 0:l.valueOf(),-0)?"-0":String(n),r.isUnsafeProperty(n))return s;const e=t[n];return void 0===e?s:e}}}},9330:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4385),i=n(6443),a=n(5990),o=n(7599),s=n(9972);function l(e,t,n,r,i,a,o){const s=o(e,t,n,r,i,a);if(void 0!==s)return s;if(typeof e===typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return e===t;case"number":return e===t||Object.is(e,t);case"object":return c(e,t,a,o)}return c(e,t,a,o)}function c(e,t,n,u){if(Object.is(e,t))return!0;let d=a.getTag(e),h=a.getTag(t);if(d===o.argumentsTag&&(d=o.objectTag),h===o.argumentsTag&&(h=o.objectTag),d!==h)return!1;switch(d){case o.stringTag:return e.toString()===t.toString();case o.numberTag:{const n=e.valueOf(),r=t.valueOf();return s.eq(n,r)}case o.booleanTag:case o.dateTag:case o.symbolTag:return Object.is(e.valueOf(),t.valueOf());case o.regexpTag:return e.source===t.source&&e.flags===t.flags;case o.functionTag:return e===t}const f=(n=null!==n&&void 0!==n?n:new Map).get(e),p=n.get(t);if(null!=f&&null!=p)return f===t;n.set(e,t),n.set(t,e);try{switch(d){case o.mapTag:if(e.size!==t.size)return!1;for(const[r,i]of e.entries())if(!t.has(r)||!l(i,t.get(r),r,e,t,n,u))return!1;return!0;case o.setTag:{if(e.size!==t.size)return!1;const r=Array.from(e.values()),i=Array.from(t.values());for(let a=0;a<r.length;a++){const o=r[a],s=i.findIndex(r=>l(o,r,void 0,e,t,n,u));if(-1===s)return!1;i.splice(s,1)}return!0}case o.arrayTag:case o.uint8ArrayTag:case o.uint8ClampedArrayTag:case o.uint16ArrayTag:case o.uint32ArrayTag:case o.bigUint64ArrayTag:case o.int8ArrayTag:case o.int16ArrayTag:case o.int32ArrayTag:case o.bigInt64ArrayTag:case o.float32ArrayTag:case o.float64ArrayTag:if("undefined"!==typeof Buffer&&Buffer.isBuffer(e)!==Buffer.isBuffer(t))return!1;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!l(e[r],t[r],r,e,t,n,u))return!1;return!0;case o.arrayBufferTag:return e.byteLength===t.byteLength&&c(new Uint8Array(e),new Uint8Array(t),n,u);case o.dataViewTag:return e.byteLength===t.byteLength&&e.byteOffset===t.byteOffset&&c(new Uint8Array(e),new Uint8Array(t),n,u);case o.errorTag:return e.name===t.name&&e.message===t.message;case o.objectTag:{if(!(c(e.constructor,t.constructor,n,u)||r.isPlainObject(e)&&r.isPlainObject(t)))return!1;const a=[...Object.keys(e),...i.getSymbols(e)],o=[...Object.keys(t),...i.getSymbols(t)];if(a.length!==o.length)return!1;for(let r=0;r<a.length;r++){const i=a[r],o=e[i];if(!Object.hasOwn(t,i))return!1;if(!l(o,t[i],i,e,t,n,u))return!1}return!0}default:return!1}}finally{n.delete(e),n.delete(t)}}t.isEqualWith=function(e,t,n){return l(e,t,void 0,void 0,void 0,void 0,n)}},9397:(e,t,n)=>{e.exports=n(2682).isPlainObject},9461:(e,t,n)=>{"use strict";e.exports=n(2330)},9599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.identity=function(e){return e}},9645:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6392),i=n(8346),a=n(1203);t.last=function(e){if(a.isArrayLike(e))return r.last(i.toArray(e))}},9709:(e,t)=>{"use strict";function n(e){return"symbol"===typeof e?1:null===e?2:void 0===e?3:e!==e?4:0}Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.compareValues=(e,t,r)=>{if(e!==t){const i=n(e),a=n(t);if(i===a&&0===i){if(e<t)return"desc"===r?1:-1;if(e>t)return"desc"===r?-1:1}return"desc"===r?a-i:i-a}return 0}},9717:(e,t,n)=>{"use strict";var r=n(5043),i=n(9461);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=s(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c(function(){function e(e){if(!l){if(l=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?(o=e,t):(o=e,s=n)}var o,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,i]);var f=o(e,d[0],d[1]);return l(function(){h.hasValue=!0,h.value=f},[f]),u(f),f}},9859:(e,t,n)=>{e.exports=n(7231).range},9921:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObjectLike=function(e){return"object"===typeof e&&null!==e}},9972:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>o[e]=()=>r[e]);return o.default=()=>r,n.d(a,o),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{scaleBand:()=>Iy,scaleDiverging:()=>_k,scaleDivergingLog:()=>Ck,scaleDivergingPow:()=>Ok,scaleDivergingSqrt:()=>Tk,scaleDivergingSymlog:()=>Ak,scaleIdentity:()=>wb,scaleImplicit:()=>Ty,scaleLinear:()=>xb,scaleLog:()=>Ob,scaleOrdinal:()=>Py,scalePoint:()=>Dy,scalePow:()=>Fb,scaleQuantile:()=>Xb,scaleQuantize:()=>Jb,scaleRadial:()=>Vb,scaleSequential:()=>xk,scaleSequentialLog:()=>wk,scaleSequentialPow:()=>Sk,scaleSequentialQuantile:()=>Nk,scaleSequentialSqrt:()=>jk,scaleSequentialSymlog:()=>kk,scaleSqrt:()=>Bb,scaleSymlog:()=>Mb,scaleThreshold:()=>Zb,scaleTime:()=>gk,scaleUtc:()=>yk,tickFormat:()=>vb});var t={};n.r(t),n.d(t,{Decoder:()=>iF,Encoder:()=>nF,PacketType:()=>tF,protocol:()=>eF});var r=n(5043),i=n.t(r,2),a=n(4391);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function l(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const d=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},h={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],a=i+1<e.length,o=a?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,h=63&l;s||(h=64,a||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(d(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==o||null==s)throw new f;const l=t<<2|a>>4;if(r.push(l),64!==o){const e=a<<4&240|o>>2;if(r.push(e),64!==s){const e=o<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class f extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p=function(e){return function(e){const t=d(e);return h.encodeByteArray(t,!0)}(e).replace(/\./g,"")},m=function(e){try{return h.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function g(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const y=()=>{try{return g().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&m(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},v=e=>{var t;return null===(t=y())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},b=()=>{var e;return null===(e=y())||void 0===e?void 0:e.config},x=e=>{var t;return null===(t=y())||void 0===t?void 0:t["_".concat(e)]};class w{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function k(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function S(e){return(await fetch(e,{credentials:"include"})).ok}const j={};let N=!1;function E(e,t){if("undefined"===typeof window||"undefined"===typeof document||!k(window.location.host)||j[e]===t||j[e]||N)return;function n(e){return"__firebase__banner__".concat(e)}j[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(j))j[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function a(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{N=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function o(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),o=document.getElementById(t)||document.createElement("span"),s=n("learnmore"),l=document.getElementById(s)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,s);const n=a();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,o,l,n),document.body.appendChild(t)}i?(o.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',o.innerText="Preview backend running in this workspace."),o.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}function _(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function C(){var e;const t=null===(e=y())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function A(){return!C()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function O(){try{return"object"===typeof indexedDB}catch(e){return!1}}class T extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,T.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,P.prototype.create)}}class P{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(I,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new T(n,a,t)}}const I=/\{\$([^}]+)}/g;function M(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],a=t[i];if(D(n)&&D(a)){if(!M(n,a))return!1}else if(n!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function D(e){return null!==e&&"object"===typeof e}function L(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function R(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function U(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class F{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=B),void 0===r.error&&(r.error=B),void 0===r.complete&&(r.complete=B);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function B(){}function z(e){return e&&e._delegate?e._delegate:e}class V{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const W="[DEFAULT]";class H{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new w;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:W})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&a.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===W?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;return this.component?this.component.multipleInstances?e:W:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class q{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new H(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const K=[];var G;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(G||(G={}));const Y={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},$=G.INFO,Q={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},X=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Q[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...a)};class J{constructor(e){this.name=e,this._logLevel=$,this._logHandler=X,this._userLogHandler=null,K.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in G))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Y[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...t),this._logHandler(this,G.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...t),this._logHandler(this,G.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,G.INFO,...t),this._logHandler(this,G.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,G.WARN,...t),this._logHandler(this,G.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,G.ERROR,...t),this._logHandler(this,G.ERROR,...t)}}let Z,ee;const te=new WeakMap,ne=new WeakMap,re=new WeakMap,ie=new WeakMap,ae=new WeakMap;let oe={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ne.get(e);if("objectStoreNames"===t)return e.objectStoreNames||re.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ce(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function se(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ee||(ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ue(this),n),ce(te.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ce(e.apply(ue(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=e.call(ue(this),t,...r);return re.set(a,t.sort?t.sort():[t]),ce(a)}}function le(e){return"function"===typeof e?se(e):(e instanceof IDBTransaction&&function(e){if(ne.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});ne.set(e,t)}(e),((e,t)=>t.some(t=>e instanceof t))(e,Z||(Z=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,oe):e)}function ce(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(ce(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(t=>{t instanceof IDBCursor&&te.set(t,e)}).catch(()=>{}),ae.set(t,e),t}(e);if(ie.has(e))return ie.get(e);const t=le(e);return t!==e&&(ie.set(e,t),ae.set(t,e)),t}const ue=e=>ae.get(e);const de=["get","getKey","getAll","getAllKeys","count"],he=["put","add","delete","clear"],fe=new Map;function pe(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(fe.get(t))return fe.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=he.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!de.includes(n))return;const a=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let a=t.store;for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return r&&(a=a.index(s.shift())),(await Promise.all([a[n](...s),i&&t.done]))[0]};return fe.set(t,a),a}oe=(e=>u(u({},e),{},{get:(t,n,r)=>pe(t,n)||e.get(t,n,r),has:(t,n)=>!!pe(t,n)||e.has(t,n)}))(oe);class me{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const ge="@firebase/app",ye="0.14.1",ve=new J("@firebase/app"),be="@firebase/app-compat",xe="@firebase/analytics-compat",we="@firebase/analytics",ke="@firebase/app-check-compat",Se="@firebase/app-check",je="@firebase/auth",Ne="@firebase/auth-compat",Ee="@firebase/database",_e="@firebase/data-connect",Ce="@firebase/database-compat",Ae="@firebase/functions",Oe="@firebase/functions-compat",Te="@firebase/installations",Pe="@firebase/installations-compat",Ie="@firebase/messaging",Me="@firebase/messaging-compat",De="@firebase/performance",Le="@firebase/performance-compat",Re="@firebase/remote-config",Ue="@firebase/remote-config-compat",Fe="@firebase/storage",Be="@firebase/storage-compat",ze="@firebase/firestore",Ve="@firebase/ai",We="@firebase/firestore-compat",He="firebase",qe="[DEFAULT]",Ke={[ge]:"fire-core",[be]:"fire-core-compat",[we]:"fire-analytics",[xe]:"fire-analytics-compat",[Se]:"fire-app-check",[ke]:"fire-app-check-compat",[je]:"fire-auth",[Ne]:"fire-auth-compat",[Ee]:"fire-rtdb",[_e]:"fire-data-connect",[Ce]:"fire-rtdb-compat",[Ae]:"fire-fn",[Oe]:"fire-fn-compat",[Te]:"fire-iid",[Pe]:"fire-iid-compat",[Ie]:"fire-fcm",[Me]:"fire-fcm-compat",[De]:"fire-perf",[Le]:"fire-perf-compat",[Re]:"fire-rc",[Ue]:"fire-rc-compat",[Fe]:"fire-gcs",[Be]:"fire-gcs-compat",[ze]:"fire-fst",[We]:"fire-fst-compat",[Ve]:"fire-vertex","fire-js":"fire-js",[He]:"fire-js-all"},Ge=new Map,Ye=new Map,$e=new Map;function Qe(e,t){try{e.container.addComponent(t)}catch(n){ve.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Xe(e){const t=e.name;if($e.has(t))return ve.debug("There were multiple attempts to register component ".concat(t,".")),!1;$e.set(t,e);for(const n of Ge.values())Qe(n,e);for(const n of Ye.values())Qe(n,e);return!0}function Je(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ze(e){return null!==e&&void 0!==e&&void 0!==e.settings}const et=new P("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class tt{constructor(e,t,n){this._isDeleted=!1,this._options=u({},e),this._config=u({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new V("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw et.create("app-deleted",{appName:this._name})}}const nt="12.1.0";function rt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=u({name:qe,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw et.create("bad-app-name",{appName:String(i)});if(n||(n=b()),!n)throw et.create("no-options");const a=Ge.get(i);if(a){if(M(n,a.options)&&M(r,a.config))return a;throw et.create("duplicate-app",{appName:i})}const o=new q(i);for(const l of $e.values())o.addComponent(l);const s=new tt(n,r,o);return Ge.set(i,s),s}function it(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe;const t=Ge.get(e);if(!t&&e===qe&&b())return rt();if(!t)throw et.create("no-app",{appName:e});return t}function at(e,t,n){var r;let i=null!==(r=Ke[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ve.warn(e.join(" "))}Xe(new V("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const ot="firebase-heartbeat-store";let st=null;function lt(){return st||(st=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),s=ce(o);return r&&o.addEventListener("upgradeneeded",e=>{r(ce(o.result),e.oldVersion,e.newVersion,ce(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{a&&e.addEventListener("close",()=>a()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ot)}catch(n){console.warn(n)}}}).catch(e=>{throw et.create("idb-open",{originalErrorMessage:e.message})})),st}async function ct(e,t){try{const n=(await lt()).transaction(ot,"readwrite"),r=n.objectStore(ot);await r.put(t,ut(e)),await n.done}catch(n){if(n instanceof T)ve.warn(n.message);else{const e=et.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});ve.warn(e.message)}}}function ut(e){return"".concat(e.name,"!").concat(e.options.appId)}class dt{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ft(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ht();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){ve.warn(n)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=ht(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),pt(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),pt(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=p(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return ve.warn(t),""}}}function ht(){return(new Date).toISOString().substring(0,10)}class ft{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!O()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await lt()).transaction(ot),n=await t.objectStore(ot).get(ut(e));return await t.done,n}catch(t){if(t instanceof T)ve.warn(t.message);else{const e=et.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});ve.warn(e.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return ct(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return ct(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function pt(e){return p(JSON.stringify({version:2,heartbeats:e})).length}var mt;mt="",Xe(new V("platform-logger",e=>new me(e),"PRIVATE")),Xe(new V("heartbeat",e=>new dt(e),"PRIVATE")),at(ge,ye,mt),at(ge,ye,"esm2020"),at("fire-js","");function gt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}at("firebase","12.1.0","app");const yt=["providerId"],vt=["uid","auth","stsTokenManager"],bt=["providerId","signInMethod"];function xt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wt=xt,kt=new P("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),St=new J("@firebase/auth");function jt(e){if(St.logLevel<=G.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];St.error("Auth (".concat(nt,"): ").concat(e),...n)}}function Nt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ot(e,...n)}function Et(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ot(e,...n)}function _t(e,t,n){const r=u(u({},wt()),{},{[t]:n});return new P("auth","Firebase",r).create(t,{appName:e.name})}function Ct(e){return _t(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function At(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Nt(e,"argument-error"),_t(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Ot(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return kt.create(e,...n)}function Tt(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ot(t,...r)}}function Pt(e){const t="INTERNAL ASSERTION FAILED: "+e;throw jt(t),new Error(t)}function It(e,t){e||Pt(t)}function Mt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Dt(){return"http:"===Lt()||"https:"===Lt()}function Lt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Rt(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Dt()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Ut{constructor(e,t){this.shortDelay=e,this.longDelay=t,It(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Rt()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ft(e,t){It(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Bt{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Pt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Pt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Pt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Vt=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Wt=new Ut(3e4,6e4);function Ht(e,t){return e.tenantId&&!t.tenantId?u(u({},t),{},{tenantId:e.tenantId}):t}async function qt(e,t,n,r){return Kt(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},a={};r&&("GET"===t?a=r:i={body:JSON.stringify(r)});const o=L(u({key:e.config.apiKey},a)).slice(1),s=await e._getAdditionalHeaders();s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode);const l=u({method:t,headers:s},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&k(e.emulatorConfig.host)&&(l.credentials="include"),Bt.fetch()(await Yt(e,e.config.apiHost,n,o),l)})}async function Kt(e,t,n){e._canInitEmulator=!1;const r=u(u({},zt),t);try{const t=new Qt(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Xt(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const t=i.ok?a.errorMessage:a.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Xt(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw Xt(e,"email-already-in-use",a);if("USER_DISABLED"===n)throw Xt(e,"user-disabled",a);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw _t(e,s,o);Nt(e,s)}}catch(i){if(i instanceof T)throw i;Nt(e,"network-request-failed",{message:String(i)})}}async function Gt(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a=await qt(e,t,n,r,i);return"mfaPendingCredential"in a&&Nt(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function Yt(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),a=e,o=a.config.emulator?Ft(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(Vt.includes(n)&&(await a._persistenceManagerAvailable,"COOKIE"===a._getPersistenceType())){return a._getPersistence()._getFinalTarget(o).toString()}return o}function $t(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Qt{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Et(this.auth,"network-request-failed")),Wt.get())})}}function Xt(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Et(e,t,r);return i.customData._tokenResponse=n,i}function Jt(e){return void 0!==e&&void 0!==e.enterprise}class Zt{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return $t(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function en(e,t){return qt(e,"GET","/v2/recaptchaConfig",Ht(e,t))}async function tn(e,t){return qt(e,"POST","/v1/accounts:lookup",t)}function nn(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function rn(e){return 1e3*Number(e)}function an(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return jt("JWT malformed, contained fewer than 3 sections"),null;try{const e=m(n);return e?JSON.parse(e):(jt("Failed to decode base64 JWT payload"),null)}catch(i){return jt("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function on(e){const t=an(e);return Tt(t,"internal-error"),Tt("undefined"!==typeof t.exp,"internal-error"),Tt("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function sn(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof T&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class ln{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class cn{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=nn(this.lastLoginAt),this.creationTime=nn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function un(e){var t;const n=e.auth,r=await e.getIdToken(),i=await sn(e,tn(n,{idToken:r}));Tt(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const o=null!==(t=a.providerUserInfo)&&void 0!==t&&t.length?dn(a.providerUserInfo):[],s=function(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,o),l=e.isAnonymous,c=!(e.email&&a.passwordHash)&&!(null!==s&&void 0!==s&&s.length),u=!!l&&c,d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new cn(a.createdAt,a.lastLoginAt),isAnonymous:u};Object.assign(e,d)}function dn(e){return e.map(e=>{let{providerId:t}=e,n=gt(e,yt);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class hn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Tt(e.idToken,"internal-error"),Tt("undefined"!==typeof e.idToken,"internal-error"),Tt("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):on(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Tt(0!==e.length,"internal-error");const t=on(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Tt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Kt(e,{},async()=>{const n=L({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=await Yt(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const s={method:"POST",headers:o,body:n};return e.emulatorConfig&&k(e.emulatorConfig.host)&&(s.credentials="include"),Bt.fetch()(a,s)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new hn;return n&&(Tt("string"===typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(Tt("string"===typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(Tt("number"===typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hn,this.toJSON())}_performRefresh(){return Pt("not implemented")}}function fn(e,t){Tt("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class pn{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,i=gt(e,vt);this.providerId="firebase",this.proactiveRefresh=new ln(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new cn(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await sn(this,this.stsTokenManager.getToken(this.auth,e));return Tt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=z(e),r=await n.getIdToken(t),i=an(r);Tt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a="object"===typeof i.firebase?i.firebase:void 0,o=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:nn(rn(i.auth_time)),issuedAtTime:nn(rn(i.iat)),expirationTime:nn(rn(i.exp)),signInProvider:o||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=z(e);await un(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Tt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>u({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new pn(u(u({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await un(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ze(this.auth.app))return Promise.reject(Ct(this.auth));const e=await this.getIdToken();return await sn(this,async function(e,t){return qt(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return u(u({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>u({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,a,o,s,l,c;const d=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(a=t.photoURL)&&void 0!==a?a:void 0,m=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,y=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:b,emailVerified:x,isAnonymous:w,providerData:k,stsTokenManager:S}=t;Tt(b&&S,e,"internal-error");const j=hn.fromJSON(this.name,S);Tt("string"===typeof b,e,"internal-error"),fn(d,e.name),fn(h,e.name),Tt("boolean"===typeof x,e,"internal-error"),Tt("boolean"===typeof w,e,"internal-error"),fn(f,e.name),fn(p,e.name),fn(m,e.name),fn(g,e.name),fn(y,e.name),fn(v,e.name);const N=new pn({uid:b,auth:e,email:h,emailVerified:x,displayName:d,isAnonymous:w,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:j,createdAt:y,lastLoginAt:v});return k&&Array.isArray(k)&&(N.providerData=k.map(e=>u({},e))),g&&(N._redirectEventId=g),N}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new hn;r.updateFromServerResponse(t);const i=new pn({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await un(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Tt(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?dn(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),o=new hn;o.updateFromIdToken(n);const s=new pn({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:a}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new cn(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(s,l),s}}const mn=new Map;function gn(e){It(e instanceof Function,"Expected a class definition");let t=mn.get(e);return t?(It(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,mn.set(e,t),t)}class yn{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}yn.type="NONE";const vn=yn;function bn(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class xn{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=bn(this.userKey,r.apiKey,i),this.fullPersistenceKey=bn("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await tn(this.auth,{idToken:e}).catch(()=>{});return t?pn._fromGetAccountInfoResponse(this.auth,t,e):null}return pn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new xn(gn(vn),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||gn(vn);const a=bn(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(a);if(t){let n;if("string"===typeof t){const r=await tn(e,{idToken:t}).catch(()=>{});if(!r)break;n=await pn._fromGetAccountInfoResponse(e,r,t)}else n=pn._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const s=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&s.length?(i=s[0],o&&await i._set(a,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(a)}catch(t){}})),new xn(i,e,n)):new xn(i,e,n)}}function wn(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Nn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(kn(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_n(t))return"Blackberry";if(Cn(t))return"Webos";if(Sn(t))return"Safari";if((t.includes("chrome/")||jn(t))&&!t.includes("edge/"))return"Chrome";if(En(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function kn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_();return/firefox\//i.test(e)}function Sn(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:_()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_();return/crios\//i.test(e)}function Nn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_();return/iemobile/i.test(e)}function En(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_();return/android/i.test(e)}function _n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_();return/blackberry/i.test(e)}function Cn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_();return/webos/i.test(e)}function An(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function On(){return function(){const e=_();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Tn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_();return An(e)||En(e)||Cn(e)||_n(e)||/windows phone/i.test(e)||Nn(e)}function Pn(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=wn(_());break;case"Worker":t="".concat(wn(_()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(nt,"/").concat(r)}class In{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(i){r(i)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Mn{constructor(e){var t,n,r,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=a.minPasswordLength)&&void 0!==t?t:6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),void 0!==a.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),void 0!==a.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),void 0!==a.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),void 0!==a.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,a,o;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(a=s.containsNumericCharacter)||void 0===a||a),s.isValid&&(s.isValid=null===(o=s.containsNonAlphanumericCharacter)||void 0===o||o),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Dn{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rn(this),this.idTokenSubscription=new Rn(this),this.beforeStateQueue=new In(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=gn(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await xn.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(a){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await tn(this,{idToken:e}),n=await pn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ze(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var i,a;await this.getOrInitRedirectPersistenceManager();const t=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,o=null===(a=n)||void 0===a?void 0:a._redirectEventId,s=await this.tryRedirectSignIn(e);t&&t!==o||null===s||void 0===s||!s.user||(n=s.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await un(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ze(this.app))return Promise.reject(Ct(this));const t=e?z(e):null;return t&&Tt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Tt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ze(this.app)?Promise.reject(Ct(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ze(this.app)?Promise.reject(Ct(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gn(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return qt(e,"GET","/v2/passwordPolicy",Ht(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Mn(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new P("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return qt(e,"POST","/v2/accounts:revokeToken",Ht(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&gn(e)||this._popupRedirectResolver;Tt(t,this,"argument-error"),this.redirectPersistenceManager=await xn.create(this,[gn(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(o,this,"internal-error"),o.then(()=>{a||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{a=!0,i()}}{const n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Pn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Ze(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(St.logLevel<=G.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];St.warn("Auth (".concat(nt,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Ln(e){return z(e)}class Rn{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new F(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Un={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Fn(e){return Un.loadJS(e)}function Bn(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class zn{constructor(){this.enterprise=new Vn}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Vn{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Wn="NO_RECAPTCHA";class Hn{constructor(e){this.type="recaptcha-enterprise",this.auth=Ln(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Jt(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Wn)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new zn).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{en(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Zt(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&Jt(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Un.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Fn(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function qn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a=new Hn(e);let o;if(i)o=Wn;else try{o=await a.verify(n)}catch(l){o=await a.verify(n,!0)}const s=u({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Kn(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var a;if(null!==(a=e._getRecaptchaConfig())&&void 0!==a&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await qn(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await qn(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){var o;if(null!==(o=e._getRecaptchaConfig())&&void 0!==o&&o.isProviderEnabled("PHONE_PROVIDER")){const i=await qn(e,t,n);return r(e,i).catch(async i=>{var a;if("AUDIT"===(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await qn(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await qn(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Gn(e){const t=Ln(e),n=await en(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Zt(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Hn(t).verify()}}function Yn(e,t,n){const r=Ln(e);Tt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!(null===n||void 0===n||!n.disableWarnings),a=$n(t),{host:o,port:s}=function(e){const t=$n(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Qn(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Qn(t)}}}(t),l=null===s?"":":".concat(s),c={url:"".concat(a,"//").concat(o).concat(l,"/")},u=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return Tt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Tt(M(c,r.config.emulator)&&M(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,k(o)?(S("".concat(a,"//").concat(o).concat(l)),E("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function $n(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Qn(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Xn{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Pt("not implemented")}_getIdTokenResponse(e){return Pt("not implemented")}_linkToIdToken(e,t){return Pt("not implemented")}_getReauthenticationResolver(e){return Pt("not implemented")}}async function Jn(e,t){return qt(e,"POST","/v1/accounts:signUp",t)}async function Zn(e,t){return Gt(e,"POST","/v1/accounts:signInWithPassword",Ht(e,t))}async function er(e,t){return qt(e,"POST","/v1/accounts:sendOobCode",Ht(e,t))}async function tr(e,t){return er(e,t)}class nr extends Xn{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new nr(e,t,"password")}static _fromEmailAndCode(e,t){return new nr(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Kn(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Zn,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Gt(e,"POST","/v1/accounts:signInWithEmailLink",Ht(e,t))}(e,{email:this._email,oobCode:this._password});default:Nt(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Kn(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Jn,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Gt(e,"POST","/v1/accounts:signInWithEmailLink",Ht(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Nt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function rr(e,t){return Gt(e,"POST","/v1/accounts:signInWithIdp",Ht(e,t))}class ir extends Xn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ir(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Nt("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=gt(t,bt);if(!n||!r)return null;const a=new ir(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return rr(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,rr(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,rr(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=L(t)}return e}}async function ar(e,t){return qt(e,"POST","/v1/accounts:sendVerificationCode",Ht(e,t))}const or={USER_NOT_FOUND:"user-not-found"};class sr extends Xn{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new sr({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new sr({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Gt(e,"POST","/v1/accounts:signInWithPhoneNumber",Ht(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Gt(e,"POST","/v1/accounts:signInWithPhoneNumber",Ht(e,t));if(n.temporaryProof)throw Xt(e,"account-exists-with-different-credential",n);return n}(e,u({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Gt(e,"POST","/v1/accounts:signInWithPhoneNumber",Ht(e,u(u({},t),{},{operation:"REAUTH"})),or)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new sr({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class lr{constructor(e){var t,n,r,i,a,o;const s=R(U(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);Tt(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(a=s.lang)&&void 0!==a?a:null,this.tenantId=null!==(o=s.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=R(U(e)).link,n=t?R(U(t)).deep_link_id:null,r=R(U(e)).deep_link_id;return(r?R(U(r)).link:null)||r||n||t||e}(e);try{return new lr(t)}catch(n){return null}}}class cr{constructor(){this.providerId=cr.PROVIDER_ID}static credential(e,t){return nr._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=lr.parseLink(t);return Tt(n,"argument-error"),nr._fromEmailAndCode(e,n.code,n.tenantId)}}cr.PROVIDER_ID="password",cr.EMAIL_PASSWORD_SIGN_IN_METHOD="password",cr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ur{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class dr extends ur{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class hr extends dr{constructor(){super("facebook.com")}static credential(e){return ir._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return hr.credential(t.oauthAccessToken)}catch(n){return null}}}hr.FACEBOOK_SIGN_IN_METHOD="facebook.com",hr.PROVIDER_ID="facebook.com";class fr extends dr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ir._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return fr.credential(n,r)}catch(i){return null}}}fr.GOOGLE_SIGN_IN_METHOD="google.com",fr.PROVIDER_ID="google.com";class pr extends dr{constructor(){super("github.com")}static credential(e){return ir._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return pr.credential(t.oauthAccessToken)}catch(n){return null}}}pr.GITHUB_SIGN_IN_METHOD="github.com",pr.PROVIDER_ID="github.com";class mr extends dr{constructor(){super("twitter.com")}static credential(e,t){return ir._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return mr.credential(n,r)}catch(i){return null}}}async function gr(e,t){return Gt(e,"POST","/v1/accounts:signUp",Ht(e,t))}mr.TWITTER_SIGN_IN_METHOD="twitter.com",mr.PROVIDER_ID="twitter.com";class yr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await pn._fromIdTokenResponse(e,n,r),a=vr(n);return new yr({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=vr(n);return new yr({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function vr(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class br extends T{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,br.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new br(e,t,n,r)}}function xr(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw br._fromErrorAndOperation(e,n,t,r);throw n})}async function wr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await sn(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return yr._forOperation(e,"link",r)}async function kr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Ze(r.app))return Promise.reject(Ct(r));const i="reauthenticate";try{const a=await sn(e,xr(r,i,t,e),n);Tt(a.idToken,r,"internal-error");const o=an(a.idToken);Tt(o,r,"internal-error");const{sub:s}=o;return Tt(e.uid===s,r,"user-mismatch"),yr._forOperation(e,i,a)}catch(a){throw(null===a||void 0===a?void 0:a.code)==="auth/".concat("user-not-found")&&Nt(r,"user-mismatch"),a}}async function Sr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Ze(e.app))return Promise.reject(Ct(e));const r="signIn",i=await xr(e,r,t),a=await yr._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function jr(e,t){return Sr(Ln(e),t)}function Nr(e,t,n){var r;Tt((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Tt("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),Tt("undefined"===typeof n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Tt(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Tt(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Er(e){const t=Ln(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function _r(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=z(e),a={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},o=await sn(i,async function(e,t){return qt(e,"POST","/v1/accounts:update",t)}(i.auth,a));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const s=i.providerData.find(e=>{let{providerId:t}=e;return"password"===t});s&&(s.displayName=i.displayName,s.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}function Cr(e,t){return qt(e,"POST","/v2/accounts/mfaEnrollment:start",Ht(e,t))}new WeakMap;const Ar="__sak";class Or{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ar,"1"),this.storage.removeItem(Ar),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Tr extends Or{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Tn(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);On()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Tr.type="LOCAL";const Pr=Tr;function Ir(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(i))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function Mr(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class Dr{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Mr(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Ir(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Mr(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=Mr(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=Ir(n);const i=setInterval(()=>{const e=Ir(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Dr.type="COOKIE";class Lr extends Or{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Lr.type="SESSION";const Rr=Lr;class Ur{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Ur(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(null===a||void 0===a||!a.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(a).map(async e=>e(t.origin,i)),s=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Fr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ur.receivers=[];class Br{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise((o,s)=>{const l=Fr("",20);r.port1.start();const c=setTimeout(()=>{s(new Error("unsupported_event"))},n);a={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{s(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function zr(){return window}function Vr(){return"undefined"!==typeof zr().WorkerGlobalScope&&"function"===typeof zr().importScripts}const Wr="firebaseLocalStorageDb",Hr="firebaseLocalStorage",qr="fbase_key";class Kr{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Gr(e,t){return e.transaction([Hr],t?"readwrite":"readonly").objectStore(Hr)}function Yr(){const e=indexedDB.open(Wr,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Hr,{keyPath:qr})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Hr)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Wr);return new Kr(e).toPromise()}(),t(await Yr()))})})}async function $r(e,t,n){const r=Gr(e,!0).put({[qr]:t,value:n});return new Kr(r).toPromise()}function Qr(e,t){const n=Gr(e,!0).delete(t);return new Kr(n).toPromise()}class Xr{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Yr()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Vr()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ur._getInstance(Vr()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new Br(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yr();return await $r(e,Ar,"1"),await Qr(e,Ar),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>$r(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Gr(e,!1).get(t),r=await new Kr(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Qr(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Gr(e,!1).getAll();return new Kr(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Xr.type="LOCAL";const Jr=Xr;function Zr(e,t){return qt(e,"POST","/v2/accounts/mfaSignIn:start",Ht(e,t))}Bn("rcb"),new Ut(3e4,6e4);const ei="recaptcha";async function ti(e,t,n){if(!e._getRecaptchaConfig())try{await Gn(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Tt("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},a=Kn(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Wn){Tt((null===n||void 0===n?void 0:n.type)===ei,e,"argument-error");return Cr(e,await ni(e,t,n))}return Cr(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;Tt("signin"===t.type,e,"internal-error");const a=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Tt(a,e,"missing-multi-factor-info");const o={mfaPendingCredential:t.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},s=Kn(e,o,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Wn){Tt((null===n||void 0===n?void 0:n.type)===ei,e,"argument-error");return Zr(e,await ni(e,t,n))}return Zr(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Kn(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===Wn){Tt((null===n||void 0===n?void 0:n.type)===ei,e,"argument-error");return ar(e,await ni(e,t,n))}return ar(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function ni(e,t,n){Tt(n.type===ei,e,"argument-error");const r=await n.verify();Tt("string"===typeof r,e,"argument-error");const i=u({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:a}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class ri{constructor(e){this.providerId=ri.PROVIDER_ID,this.auth=Ln(e)}verifyPhoneNumber(e,t){return ti(this.auth,e,z(t))}static credential(e,t){return sr._fromVerification(e,t)}static credentialFromResult(e){const t=e;return ri.credentialFromTaggedObject(t)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?sr._fromTokenResponse(n,r):null}}function ii(e,t){return t?gn(t):(Tt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ri.PROVIDER_ID="phone",ri.PHONE_SIGN_IN_METHOD="phone";class ai extends Xn{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rr(e,this._buildIdpRequest())}_linkToIdToken(e,t){return rr(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return rr(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function oi(e){return Sr(e.auth,new ai(e),e.bypassAuthState)}function si(e){const{auth:t,user:n}=e;return Tt(n,t,"internal-error"),kr(n,new ai(e),e.bypassAuthState)}async function li(e){const{auth:t,user:n}=e;return Tt(n,t,"internal-error"),wr(n,new ai(e),e.bypassAuthState)}class ci{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:o}=e;if(a)return void this.reject(a);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(s))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oi;case"linkViaPopup":case"linkViaRedirect":return li;case"reauthViaPopup":case"reauthViaRedirect":return si;default:Nt(this.auth,"internal-error")}}resolve(e){It(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){It(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ui=new Ut(2e3,1e4);class di extends ci{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,di.currentPopupAction&&di.currentPopupAction.cancel(),di.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Tt(e,this.auth,"internal-error"),e}async onExecution(){It(1===this.filter.length,"Popup operations only handle one event");const e=Fr();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Et(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Et(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,di.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Et(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,ui.get())};e()}}di.currentPopupAction=null;const hi=new Map;class fi extends ci{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=hi.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=gi(t),r=mi(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}hi.set(this.auth._key(),e)}return this.bypassAuthState||hi.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function pi(e,t){hi.set(e._key(),t)}function mi(e){return gn(e._redirectPersistence)}function gi(e){return bn("pendingRedirect",e.config.apiKey,e.name)}async function yi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Ze(e.app))return Promise.reject(Ct(e));const r=Ln(e),i=ii(r,t),a=new fi(r,i,n),o=await a.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class vi{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xi(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!xi(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Et(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(bi(e))}saveEventToCache(e){this.cachedEventUids.add(bi(e)),this.lastProcessedEventTime=Date.now()}}function bi(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function xi(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const wi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ki=/^https?/;async function Si(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return qt(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(ji(r))return}catch(n){}Nt(e,"unauthorized-domain")}function ji(e){const t=Mt(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!ki.test(n))return!1;if(wi.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Ni=new Ut(3e4,6e4);function Ei(){const e=zr().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function _i(e){return new Promise((t,n)=>{var r,i;function a(){Ei(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ei(),n(Et(e,"network-request-failed"))},timeout:Ni.get()})}if(null!==(r=zr().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(i=zr().gapi)||void 0===i||!i.load){const t=Bn("iframefcb");return zr()[t]=()=>{gapi.load?a():n(Et(e,"network-request-failed"))},Fn("".concat(Un.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}a()}}).catch(e=>{throw Ci=null,e})}let Ci=null;const Ai=new Ut(5e3,15e3),Oi={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ti=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pi(e){const t=e.config;Tt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ft(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:nt},i=Ti.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(L(r).slice(1))}async function Ii(e){const t=await function(e){return Ci=Ci||_i(e),Ci}(e),n=zr().gapi;return Tt(n,e,"internal-error"),t.open({where:document.body,url:Pi(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Oi,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Et(e,"network-request-failed"),a=zr().setTimeout(()=>{r(i)},Ai.get());function o(){zr().clearTimeout(a),n(t)}t.ping(o).then(o,()=>{r(i)})}))}const Mi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Di{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Li(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=u(u({},Mi),{},{width:r.toString(),height:i.toString(),top:a,left:o}),c=_().toLowerCase();n&&(s=jn(c)?"_blank":n),kn(c)&&(t=t||"http://localhost",l.scrollbars="yes");const d=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return An(arguments.length>0&&void 0!==arguments[0]?arguments[0]:_())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Di(null);const h=window.open(t||"",s,d);Tt(h,e,"popup-blocked");try{h.focus()}catch(f){}return new Di(h)}const Ri="__/auth/handler",Ui="emulator/auth/handler",Fi=encodeURIComponent("fac");async function Bi(e,t,n,r,i,a){Tt(e.config.authDomain,e,"auth-domain-config-required"),Tt(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:nt,eventId:i};if(t instanceof ur){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))o[e]=t}if(t instanceof dr){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const s=o;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Fi,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ri);return Ft(t,Ui)}(e),"?").concat(L(s).slice(1)).concat(c)}const zi="webStorageSupport";const Vi=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rr,this._completeRedirectFn=yi,this._overrideRedirectResult=pi}async _openPopup(e,t,n,r){var i;It(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Li(e,await Bi(e,t,n,Mt(),r),Fr())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){zr().location.href=e}(await Bi(e,t,n,Mt(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(It(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Ii(e),n=new vi(e);return t.register("authEvent",t=>{Tt(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(zi,{type:zi},n=>{var r;const i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[zi];void 0!==i&&t(!!i),Nt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Si(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Tn()||Sn()||An()}};var Wi="@firebase/auth",Hi="1.11.0";class qi{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ki=x("authIdTokenMaxAge")||300;let Gi=null;var Yi,$i;Yi={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Et("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Un=Yi,$i="Browser",Xe(new V("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;Tt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:s,clientPlatform:$i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pn($i)},c=new Dn(r,i,a,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gn);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Xe(new V("auth-internal",e=>(e=>new qi(e))(Ln(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),at(Wi,Hi,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}($i)),at(Wi,Hi,"esm2020");var Qi,Xi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ji={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,a=this.h,o=0;o<t;){if(0==a)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[a++]=e.charCodeAt(o++),a==this.blockSize){n(this,i),a=0;break}}else for(;o<t;)if(i[a++]=e[o++],a==this.blockSize){n(this,i),a=0;break}}this.h=a,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function a(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return s;if(0>e)return h(o(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var s=a(0),l=a(1),c=a(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(s,s);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),a=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=a.add(r);0>=c.l(e)&&(i=i.add(n),a=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=s;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(a=o(n)).j(t);d(c)||0<c.l(e);)c=(a=o(n-=r)).j(t);u(a)&&(a=l),i=i.add(a),e=f(e,c)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,a=[],o=0;o<i;o++)a[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(a,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,a=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,a=0;a<=t;a++){var o=i+(65535&this.i(a))+(65535&e.i(a)),s=(o>>>16)+(this.i(a)>>>16)+(e.i(a)>>>16);i=s>>>16,o&=65535,s&=65535,n[a]=s<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return s;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var a=0;a<e.g.length;a++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(a)>>>16,g=65535&e.i(a);n[2*i+2*a]+=f*g,p(n,2*i+2*a),n[2*i+2*a+1]+=l*g,p(n,2*i+2*a+1),n[2*i+2*a+1]+=f*m,p(n,2*i+2*a+1),n[2*i+2*a+2]+=l*m,p(n,2*i+2*a+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Ji.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),i=s,a=0;a<t.length;a+=8){var l=Math.min(8,t.length-a),c=parseInt(t.substring(a,a+l),n);8>l?(l=o(Math.pow(n,l)),i=i.j(l).add(o(c))):i=(i=i.j(r)).add(o(c))}return i},Qi=Ji.Integer=r}).apply("undefined"!==typeof Xi?Xi:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Zi,ea,ta,na,ra,ia,aa,oa,sa="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},la={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof sa&&sa];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var a=0;a<e.length-1;a++){var o=e[a];if(!(o in i))break e;i=i[o]}(r=r(a=i[e=e[e.length-1]]))!=a&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});var r=r||{},i=this||self;function a(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(a(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<x.length;t++)n=x[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function k(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S(e){i.setTimeout(()=>{throw e},0)}function j(){var e=A;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var N=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new E,e=>e.reset());class E{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let _,C=!1,A=new class{constructor(){this.h=this.g=null}add(e,t){const n=N.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},O=()=>{const e=i.Promise.resolve(void 0);_=()=>{e.then(T)}};var T=()=>{for(var e;e=j();){try{e.h.call(e.g)}catch(RP){S(RP)}var t=N;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}C=!1};function P(){this.s=this.s,this.C=this.C}function I(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},I.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(RP){}return e}();function D(e,t){if(I.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&D.aa.h.call(this)}}d(D,I);var L={2:"touch",3:"pen",4:"mouse"};D.prototype.h=function(){D.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var R="closure_listenable_"+(1e6*Math.random()|0),U=0;function F(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++U,this.da=this.fa=!1}function B(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function V(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Array.prototype.indexOf.call(i,t,void 0);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(B(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function W(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=W(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new F(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),q={};function K(e,t,n,r,i){if(r&&r.once)return Y(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)K(e,t[a],n,r,i);return null}return n=te(n),e&&e[R]?e.K(t,n,o(r)?!!r.capture:!!r,i):G(e,t,n,!1,r,i)}function G(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var s=o(i)?!!i.capture:!!i,l=Z(e);if(l||(e[H]=l=new z(e)),(n=l.add(t,n,r,s,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)M||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Y(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Y(e,t[a],n,r,i);return null}return n=te(n),e&&e[R]?e.L(t,n,o(r)?!!r.capture:!!r,i):G(e,t,n,!0,r,i)}function $(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)$(e,t[a],n,r,i);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[R]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=W(a=e.g[t],n,r,i))&&(B(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=W(t,n,r,i)),(n=-1<e?t[e]:null)&&Q(n))}function Q(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[R])V(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(V(n,e),0==n.h&&(n.src=null,t[H]=null)):B(e)}}}function X(e){return e in q?q[e]:q[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new D(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Q(e),e=n.call(r,t)}return e}function Z(e){return(e=e[H])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){P.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new I(t,e);else if(t instanceof I)t.target=t.target||e;else{var i=t;w(t=new I(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=ie(o,r,!0,t)&&i}if(i=ie(o=t.g=e,r,!0,t)&&i,i=ie(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ie(o=t.g=n[a],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.da&&o.capture==n){var s=o.listener,l=o.ha||o.src;o.fa&&V(e.i,o),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}function ae(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function oe(e){e.g=ae(()=>{e.g=null,e.i&&(e.i=!1,oe(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,P),ne.prototype[R]=!0,ne.prototype.removeEventListener=function(e,t,n,r){$(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)B(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class se extends P{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){P.call(this),this.h=e,this.g={}}d(le,P);var ce=[];function ue(e){v(e.g,function(e,t){this.g.hasOwnProperty(t)&&Q(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){I.call(this,"d")}function be(){I.call(this,"c")}d(ve,I),d(be,I);var xe={},we=null;function ke(){return we=we||new ne}function Se(e){I.call(this,xe.La,e)}function je(e){const t=ke();re(t,new Se(t))}function Ne(e,t){I.call(this,xe.STAT_EVENT,e),this.stat=t}function Ee(e){const t=ke();re(t,new Ne(t,e))}function _e(e,t){I.call(this,xe.Ma,e),this.size=t}function Ce(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Ae(){this.g=!0}function Oe(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return de(n)}catch(s){return t}}(e,n)+(r?" "+r:"")})}xe.La="serverreachability",d(Se,I),xe.STAT_EVENT="statevent",d(Ne,I),xe.Ma="timingevent",d(_e,I),Ae.prototype.xa=function(){this.g=!1},Ae.prototype.info=function(){};var Te,Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ie={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Me(){}function De(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}d(Me,pe),Me.prototype.g=function(){return new XMLHttpRequest},Me.prototype.i=function(){return{}},Te=new Me;var Re={},Ue={};function Fe(e,t,n){e.L=1,e.v=dt(ot(t)),e.m=n,e.P=!0,Be(e,null)}function Be(e,t){e.F=Date.now(),We(e),e.A=ot(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),jt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=hn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new se(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var a=0;a<i.length;a++){var o=K(n,i[a],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),je(),function(e,t,n,r,i,a){e.info(function(){if(e.g)if(a)for(var o="",s=a.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Ve(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ue:(n=Number(t.substring(n,r)),isNaN(n)?Re:(r+=1)+n>t.length?Ue:(t=t.slice(r,r+n),e.C=r+n,t))}function We(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ce(c(e.ba,e),t)}function qe(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||sn(e.j,e)}function Ge(e){qe(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ye(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),$t(n)}nn(n),Ee(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ce(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else cn(n,11)}else if((e.K||n.g==e)&&on(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.h;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(et(a,a.h),a.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),o.K){tt(r.h,o);var s=o,l=r.L;l&&(s.I=l),s.B&&(qe(s),We(s)),r.g=o}else tn(r);0<n.i.length&&Xt(n)}else"stop"!=c[0]&&"close"!=c[0]||cn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?cn(n,7):Yt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}je()}catch(u){}}De.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Ht(e)?t.j():this.Y(e)},De.prototype.Y=function(e){try{if(e==this.g)e:{const h=Ht(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||qt(this.g)))){this.J||4!=h||7==t||je(),qe(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=qt(this.g);e="";var a=r.length,o=4==Ht(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),Ke(this);var s="";break t}this.h.i=new i.TextDecoder}for(t=0;t<a;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==a-1)});r.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,a,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ee(12),Ge(this),Ke(this);break e}Oe(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ye(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<s.length;){if(e=Ve(this,s),e==Ue){4==h&&(this.s=4,Ee(14),n=!1),Oe(this.i,this.l,null,"[Incomplete Response]");break}if(e==Re){this.s=4,Ee(15),Oe(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}Oe(this.i,this.l,e,null),Ye(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=s.length||this.h.h||(this.s=1,Ee(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),rn(d),d.M=!0,Ee(11))}}else Oe(this.i,this.l,s,"[Invalid Chunked Response]"),Ge(this),Ke(this)}else Oe(this.i,this.l,s,null),Ye(this,s);4==h&&Ge(this),this.o&&!this.J&&(4==h?sn(this.j,this):(this.o=!1,We(this)))}else(function(e){const t={};e=(e.g&&2<=Ht(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=k(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const a=t[i]||[];t[i]=a,a.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Ee(12)):(this.s=0,Ee(13)),Ge(this),Ke(this)}}}catch(h){}},De.prototype.cancel=function(){this.J=!0,Ge(this)},De.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(je(),Ee(17)),Ge(this),this.s=2,Ke(this)):He(this,this.S-e)};var $e=class{constructor(e,t){this.g=e,this.map=t}};function Qe(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(a(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(a(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(a(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}Qe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function at(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof at){this.h=e.h,st(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new xt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,st(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new xt(null,this.h))}function ot(e){return new at(e)}function st(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof xt?(e.i=t,function(e,t){t&&!e.j&&(wt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(kt(this,t),jt(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,vt)),e.i=new xt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}at.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:gt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var mt=/[#\/\?@]/g,gt=/[#\?:]/g,yt=/[#\?]/g,vt=/[#\?@]/g,bt=/#/g;function xt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function kt(e,t){wt(e),t=Nt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function St(e,t){return wt(e),t=Nt(e,t),e.g.has(t)}function jt(e,t,n){kt(e,t),0<n.length&&(e.i=null,e.g.set(Nt(e,t),h(n)),e.h+=n.length)}function Nt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Et(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(a){}}function _t(){this.g=new fe}function Ct(e,t,n){const r=n||"";try{rt(e,function(e,n){let i=e;o(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function At(e){this.l=e.Ub||null,this.j=e.eb||!1}function Ot(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Tt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Pt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,It(e)}function It(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Mt(e){let t="";return v(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Dt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Mt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Lt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=xt.prototype).add=function(e,t){wt(this),this.i=null,e=Nt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){wt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){wt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){wt(this);let t=[];if("string"===typeof e)St(this,e)&&(t=t.concat(this.g.get(Nt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return wt(this),this.i=null,St(this,e=Nt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const a=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=a;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},d(At,pe),At.prototype.g=function(){return new Ot(this.l,this.j)},At.prototype.i=function(e){return function(){return e}}({}),d(Ot,ne),(e=Ot.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,It(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,It(this)),this.g&&(this.readyState=3,It(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Pt(this):It(this),3==this.readyState&&Tt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Pt(this))},e.Qa=function(e){this.g&&(this.response=e,Pt(this))},e.ga=function(){this.g&&Pt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ot.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Lt,ne);var Rt=/^https?$/i,Ut=["POST","PUT"];function Ft(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Bt(e),Vt(e)}function Bt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function zt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Ht(e)||2!=e.Z()))if(e.u&&4==Ht(e))ae(e.Ea,0,e);else if(re(e,"readystatechange"),4==Ht(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var a;if(a=0===r){var o=String(e.D).match(it)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),a=!Rt.test(o?o.toLowerCase():"")}n=a}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var s=2<Ht(e)?e.g.statusText:""}catch(l){s=""}e.l=s+" ["+e.Z()+"]",Bt(e)}}finally{Vt(e)}}}function Vt(e,t){if(e.g){Wt(e);const r=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Wt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Ht(e){return e.g?e.g.readyState:0}function qt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Kt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gt(e){this.Aa=0,this.i=[],this.j=new Ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kt("baseRetryDelayMs",5e3,e),this.cb=Kt("retryDelaySeedMs",1e4,e),this.Wa=Kt("forwardChannelMaxRetries",2,e),this.wa=Kt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Qe(e&&e.concurrentRequestLimit),this.Da=new _t,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Yt(e){if(Qt(e),3==e.G){var t=e.U++,n=ot(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),Zt(e,n),(t=new De(e,e.j,t)).L=2,t.v=dt(ot(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=hn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),We(t)}un(e)}function $t(e){e.g&&(rn(e),e.g.cancel(),e.g=null)}function Qt(e){$t(e),e.u&&(i.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;_||O(),C||(_(),C=!0),A.add(t,e),e.B=0}}function Jt(e,t){var n;n=t?t.l:e.U++;const r=ot(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),Zt(e,r),e.m&&e.o&&Dt(r,e.m,e.o),n=new De(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=en(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Fe(n,r,t)}function Zt(e,t){e.H&&v(e.H,function(e,n){ut(t,n,e)}),e.l&&rt({},function(e,n){ut(t,n,e)})}function en(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const l=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{Ct(l,e,"req"+n+"_")}catch(a){r&&r(l)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function tn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;_||O(),C||(_(),C=!0),A.add(t,e),e.v=0}}function nn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ce(c(e.Fa,e),ln(e,e.v)),e.v++,!0)}function rn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function an(e){e.g=new De(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),Zt(e,t),e.m&&e.o&&Dt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(ot(t)),n.m=null,n.P=!0,Be(n,e)}function on(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function sn(e,t){var n=null;if(e.g==t){on(e),rn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=ke(),new _e(r,n)),Xt(e)}else tn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ce(c(e.Ga,e,t),ln(e,e.B)),e.B++,!0))}(e,t)||2==r&&nn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}function ln(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function cn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new at(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||st(r,"https"),dt(r),t?function(e,t){const n=new Ae;if(i.Image){const r=new Image;r.onload=u(Et,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Et,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Et,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Et,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ae;const n=new AbortController,r=setTimeout(()=>{n.abort(),Et(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Et(0,0,!0,t):Et(0,0,!1,t)}).catch(()=>{clearTimeout(r),Et(0,0,!1,t)})}(r.toString(),n)}else Ee(2);e.G=0,e.l&&e.l.sa(t),un(e),Qt(e)}function un(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof at?ot(n):new at(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var a=i.location;r=a.protocol,t=t?t+"."+a.hostname:a.hostname,a=+a.port;var o=new at(null);r&&st(o,r),t&&(o.g=t),a&&lt(o,a),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),Zt(e,r),r}function hn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Lt(new At({eb:n})):new Lt(e.pa)).Ha(e.J),t}function fn(){}function pn(){}function mn(e,t){ne.call(this),this.g=new Gt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new vn(this)}function gn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function vn(e){this.g=e}(e=Lt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Te.g(),this.v=this.o?me(this.o):me(Te),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Ft(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)n.set(a,r[a]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),a=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ut,t,void 0))||r||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wt(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){Ft(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Vt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vt(this,!0)),Lt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?zt(this):this.bb())},e.bb=function(){zt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch(BP){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(BP){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Gt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ee(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new De(this,this.j,e);let a=this.o;if(this.S&&(a?(a=b(a),w(a,this.S)):a=this.S),null!==this.m||this.O||(i.H=a,a=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=en(this,i,t),ut(n=ot(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),Zt(this,n),a&&(this.O?t="headers="+encodeURIComponent(String(Mt(a)))+"&"+t:this.m&&Dt(n,this.m,a)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Fe(i,n,null)):Fe(i,n,t),this.G=2}}else 3==this.G&&(e?Jt(this,e):0==this.i.length||Xe(this.h)||Jt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ce(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ee(10),$t(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,$t(this),nn(this),Ee(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=fn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},pn.prototype.g=function(e,t){return new mn(e,t)},d(mn,ne),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Yt(this.g)},mn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new $e(t.Ya++,e)),3==t.G&&Xt(t)},mn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,mn.aa.N.call(this)},d(gn,ve),d(yn,be),d(vn,fn),vn.prototype.ua=function(){re(this.g,"a")},vn.prototype.ta=function(e){re(this.g,new gn(e))},vn.prototype.sa=function(e){re(this.g,new yn)},vn.prototype.ra=function(){re(this.g,"b")},pn.prototype.createWebChannel=pn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,oa=la.createWebChannelTransport=function(){return new pn},aa=la.getStatEventTarget=function(){return ke()},ia=la.Event=xe,ra=la.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,na=la.ErrorCode=Pe,Ie.COMPLETE="complete",ta=la.EventType=Ie,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,ea=la.WebChannel=ge,la.FetchXmlHttpFactory=At,Lt.prototype.listenOnce=Lt.prototype.L,Lt.prototype.getLastError=Lt.prototype.Ka,Lt.prototype.getLastErrorCode=Lt.prototype.Ba,Lt.prototype.getStatus=Lt.prototype.Z,Lt.prototype.getResponseJson=Lt.prototype.Oa,Lt.prototype.getResponseText=Lt.prototype.oa,Lt.prototype.send=Lt.prototype.ea,Lt.prototype.setWithCredentials=Lt.prototype.Ha,Zi=la.XhrIo=Lt}).apply("undefined"!==typeof sa?sa:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const ca="@firebase/firestore",ua="4.9.0";class da{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}da.UNAUTHENTICATED=new da(null),da.GOOGLE_CREDENTIALS=new da("google-credentials-uid"),da.FIRST_PARTY=new da("first-party-uid"),da.MOCK_USER=new da("mock-user");let ha="12.0.0";const fa=new J("@firebase/firestore");function pa(){return fa.logLevel}function ma(e){if(fa.logLevel<=G.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(va);fa.debug("Firestore (".concat(ha,"): ").concat(e),...i)}}function ga(e){if(fa.logLevel<=G.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(va);fa.error("Firestore (".concat(ha,"): ").concat(e),...i)}}function ya(e){if(fa.logLevel<=G.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(va);fa.warn("Firestore (".concat(ha,"): ").concat(e),...i)}}function va(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function ba(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,xa(e,r,n)}function xa(e,t,n){let r="FIRESTORE (".concat(ha,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw ga(r),new Error(r)}function wa(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||xa(t,i,r)}function ka(e,t){return e}const Sa={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ja extends T{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Na{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ea{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class _a{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(da.UNAUTHENTICATED))}shutdown(){}}class Ca{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Aa{constructor(e){this.t=e,this.currentUser=da.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){wa(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Na;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Na,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{ma("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(ma("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Na)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(ma("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(wa("string"==typeof t.accessToken,31837,{l:t}),new Ea(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wa(null===e||"string"==typeof e,2055,{h:e}),new da(e)}}class Oa{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=da.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ta{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Oa(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(da.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Pa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ia{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ze(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){wa(void 0===this.o,3512);const n=e=>{null!=e.error&&ma("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,ma("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{ma("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):ma("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Pa(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(wa("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Pa(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ma(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Da{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Ma(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function La(e,t){return e<t?-1:e>t?1:0}function Ra(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return Ba(n)===Ba(i)?La(n,i):Ba(n)?1:-1}return La(e.length,t.length)}const Ua=55296,Fa=57343;function Ba(e){const t=e.charCodeAt(0);return t>=Ua&&t<=Fa}function za(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const Va="__name__";class Wa{constructor(e,t,n){void 0===t?t=0:t>e.length&&ba(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&ba(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Wa.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Wa?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Wa.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return La(e.length,t.length)}static compareSegments(e,t){const n=Wa.isNumericId(e),r=Wa.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Wa.extractNumericId(e).compare(Wa.extractNumericId(t)):Ra(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qi.fromString(e.substring(4,e.length-2))}}class Ha extends Wa{construct(e,t,n){return new Ha(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new ja(Sa.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new Ha(e)}static emptyPath(){return new Ha([])}}const qa=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ka extends Wa{construct(e,t,n){return new Ka(e,t,n)}static isValidIdentifier(e){return qa.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ka.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Va}static keyField(){return new Ka([Va])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new ja(Sa.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new ja(Sa.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ja(Sa.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(a=!a,r++):"."!==t||a?(n+=t,r++):(i(),r++)}if(i(),a)throw new ja(Sa.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ka(t)}static emptyPath(){return new Ka([])}}class Ga{constructor(e){this.path=e}static fromPath(e){return new Ga(Ha.fromString(e))}static fromName(e){return new Ga(Ha.fromString(e).popFirst(5))}static empty(){return new Ga(Ha.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ha.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ha.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ga(new Ha(e.slice()))}}function Ya(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function $a(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":ba(12329,{type:typeof e})}function Qa(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ja(Sa.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$a(e);throw new ja(Sa.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Xa(e,t){const n={typeString:e};return t&&(n.value=t),n}function Ja(e,t){if(!Ya(e))throw new ja(Sa.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,a="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const o=e[r];if(i&&typeof o!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==a&&o!==a.value){n="Expected '".concat(r,"' field to equal '").concat(a.value,"'");break}}if(n)throw new ja(Sa.INVALID_ARGUMENT,n);return!0}const Za=-62135596800,eo=1e6;class to{static now(){return to.fromMillis(Date.now())}static fromDate(e){return to.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*eo);return new to(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ja(Sa.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ja(Sa.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Za)throw new ja(Sa.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ja(Sa.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/eo}_compareTo(e){return this.seconds===e.seconds?La(this.nanoseconds,e.nanoseconds):La(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:to._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ja(e,to._jsonSchema))return new to(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Za;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}to._jsonSchemaVersion="firestore/timestamp/1.0",to._jsonSchema={type:Xa("string",to._jsonSchemaVersion),seconds:Xa("number"),nanoseconds:Xa("number")};class no{static fromTimestamp(e){return new no(e)}static min(){return new no(new to(0,0))}static max(){return new no(new to(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ro=-1;class io{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}io.UNKNOWN_ID=-1;function ao(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=no.fromTimestamp(1e9===r?new to(n+1,0):new to(n,r));return new so(i,Ga.empty(),t)}function oo(e){return new so(e.readTime,e.key,ro)}class so{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new so(no.min(),Ga.empty(),ro)}static max(){return new so(no.max(),Ga.empty(),ro)}}function lo(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Ga.comparator(e.documentKey,t.documentKey),0!==n?n:La(e.largestBatchId,t.largestBatchId))}class co{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class uo{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ba(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new uo((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof uo?t:uo.resolve(t)}catch(e){return uo.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):uo.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):uo.reject(t)}static resolve(e){return new uo((t,n)=>{t(e)})}static reject(e){return new uo((t,n)=>{n(e)})}static waitFor(e){return new uo((t,n)=>{let r=0,i=0,a=!1;e.forEach(e=>{++r,e.next(()=>{++i,a&&i===r&&t()},e=>n(e))}),a=!0,i===r&&t()})}static or(e){let t=uo.resolve(!1);for(const n of e)t=t.next(e=>e?uo.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new uo((n,r)=>{const i=e.length,a=new Array(i);let o=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next(e=>{a[l]=e,++o,o===i&&n(a)},e=>r(e))}})}static doWhile(e,t){return new uo((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function ho(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fo(e){return"IndexedDbTransactionError"===e.name}class po{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}po.ce=-1;const mo=-1;function go(e){return null==e}function yo(e){return 0===e&&1/e==-1/0}const vo="remoteDocuments",bo="owner",xo="mutationQueues",wo="mutations";const ko="documentMutations",So="remoteDocumentsV14",jo="remoteDocumentGlobal",No="targets",Eo="targetDocuments",_o="targetGlobal",Co="collectionParents",Ao="clientMetadata",Oo="bundles",To="namedQueries",Po="indexConfiguration",Io="indexState",Mo="indexEntries",Do="documentOverlays",Lo="globals",Ro=[xo,wo,ko,vo,No,bo,_o,Eo,Ao,jo,Co,Oo,To],Uo=[xo,wo,ko,So,No,bo,_o,Eo,Ao,jo,Co,Oo,To,Do],Fo=Uo,Bo=[...Fo,Po,Io,Mo];function zo(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Vo(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Wo(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Ho{constructor(e,t){this.comparator=e,this.root=t||Ko.EMPTY}insert(e,t){return new Ho(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ko.BLACK,null,null))}remove(e){return new Ho(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ko.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qo(this.root,e,this.comparator,!1)}getReverseIterator(){return new qo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qo(this.root,e,this.comparator,!0)}}class qo{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ko{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ko.RED,this.left=null!=r?r:Ko.EMPTY,this.right=null!=i?i:Ko.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Ko(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ko.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ko.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ko.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ko.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ba(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ba(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ba(27949);return e+(this.isRed()?0:1)}}Ko.EMPTY=null,Ko.RED=!0,Ko.BLACK=!1,Ko.EMPTY=new class{constructor(){this.size=0}get key(){throw ba(57766)}get value(){throw ba(16141)}get color(){throw ba(16727)}get left(){throw ba(29726)}get right(){throw ba(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Ko(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Go{constructor(e){this.comparator=e,this.data=new Ho(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Yo(this.data.getIterator())}getIteratorFrom(e){return new Yo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Go))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Go(this.comparator);return t.data=e,t}}class Yo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $o{constructor(e){this.fields=e,e.sort(Ka.comparator)}static empty(){return new $o([])}unionWith(e){let t=new Go(Ka.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new $o(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return za(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Qo extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Qo("Invalid base64 string: "+e):e}}(e);return new Xo(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Xo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return La(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xo.EMPTY_BYTE_STRING=new Xo("");const Jo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zo(e){if(wa(!!e,39018),"string"==typeof e){let t=0;const n=Jo.exec(e);if(wa(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:es(e.seconds),nanos:es(e.nanos)}}function es(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ts(e){return"string"==typeof e?Xo.fromBase64String(e):Xo.fromUint8Array(e)}const ns="server_timestamp",rs="__type__",is="__previous_value__",as="__local_write_time__";function os(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[rs])||void 0===t?void 0:t.stringValue)===ns}function ss(e){const t=e.mapValue.fields[is];return os(t)?ss(t):t}function ls(e){const t=Zo(e.mapValue.fields[as].timestampValue);return new to(t.seconds,t.nanos)}const cs="(default)";class us{constructor(e,t){this.projectId=e,this.database=t||cs}static empty(){return new us("","")}get isDefaultDatabase(){return this.database===cs}isEqual(e){return e instanceof us&&e.projectId===this.projectId&&e.database===this.database}}const ds="__type__",hs="__max__",fs={mapValue:{fields:{__type__:{stringValue:hs}}}},ps="__vector__",ms="value";function gs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?os(e)?4:As(e)?9007199254740991:_s(e)?10:11:ba(28295,{value:e})}function ys(e,t){if(e===t)return!0;const n=gs(e);if(n!==gs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ls(e).isEqual(ls(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Zo(e.timestampValue),r=Zo(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ts(e.bytesValue).isEqual(ts(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return es(e.geoPointValue.latitude)===es(t.geoPointValue.latitude)&&es(e.geoPointValue.longitude)===es(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return es(e.integerValue)===es(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=es(e.doubleValue),r=es(t.doubleValue);return n===r?yo(n)===yo(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return za(e.arrayValue.values||[],t.arrayValue.values||[],ys);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(zo(n)!==zo(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ys(n[i],r[i])))return!1;return!0}(e,t);default:return ba(52216,{left:e})}}function vs(e,t){return void 0!==(e.values||[]).find(e=>ys(e,t))}function bs(e,t){if(e===t)return 0;const n=gs(e),r=gs(t);if(n!==r)return La(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return La(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=es(e.integerValue||e.doubleValue),r=es(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return xs(e.timestampValue,t.timestampValue);case 4:return xs(ls(e),ls(t));case 5:return Ra(e.stringValue,t.stringValue);case 6:return function(e,t){const n=ts(e),r=ts(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=La(n[i],r[i]);if(0!==e)return e}return La(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=La(es(e.latitude),es(t.latitude));return 0!==n?n:La(es(e.longitude),es(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return ws(e.arrayValue,t.arrayValue);case 10:return function(e,t,n,r,i,a){const o=e.fields||{},s=t.fields||{},l=null===(n=o[ms])||void 0===n?void 0:n.arrayValue,c=null===(r=s[ms])||void 0===r?void 0:r.arrayValue,u=La((null===l||void 0===l||null===(i=l.values)||void 0===i?void 0:i.length)||0,(null===c||void 0===c||null===(a=c.values)||void 0===a?void 0:a.length)||0);return 0!==u?u:ws(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===fs.mapValue&&t===fs.mapValue)return 0;if(e===fs.mapValue)return 1;if(t===fs.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let o=0;o<r.length&&o<a.length;++o){const e=Ra(r[o],a[o]);if(0!==e)return e;const t=bs(n[r[o]],i[a[o]]);if(0!==t)return t}return La(r.length,a.length)}(e.mapValue,t.mapValue);default:throw ba(23264,{he:n})}}function xs(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return La(e,t);const n=Zo(e),r=Zo(t),i=La(n.seconds,r.seconds);return 0!==i?i:La(n.nanos,r.nanos)}function ws(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=bs(n[i],r[i]);if(e)return e}return La(n.length,r.length)}function ks(e){return Ss(e)}function Ss(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Zo(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return ts(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Ga.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ss(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Ss(e.fields[i]));return n+"}"}(e.mapValue):ba(61005,{value:e})}function js(e){return!!e&&"integerValue"in e}function Ns(e){return!!e&&"arrayValue"in e}function Es(e){return!!e&&"mapValue"in e}function _s(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[ds])||void 0===t?void 0:t.stringValue)===ps}function Cs(e){if(e.geoPointValue)return{geoPointValue:u({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:u({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Vo(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Cs(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Cs(e.arrayValue.values[n]);return t}return u({},e)}function As(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===hs}class Os{constructor(e){this.value=e}static empty(){return new Os({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Es(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cs(t)}setAll(e){let t=Ka.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Cs(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Es(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ys(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Es(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Vo(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Os(Cs(this.value))}}class Ts{constructor(e,t,n,r,i,a,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Ts(e,0,no.min(),no.min(),no.min(),Os.empty(),0)}static newFoundDocument(e,t,n,r){return new Ts(e,1,t,no.min(),n,r,0)}static newNoDocument(e,t){return new Ts(e,2,t,no.min(),no.min(),Os.empty(),0)}static newUnknownDocument(e,t){return new Ts(e,3,t,no.min(),no.min(),Os.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(no.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Os.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Os.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=no.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ts&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ts(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Ps{constructor(e,t){this.position=e,this.inclusive=t}}function Is(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Ga.comparator(Ga.fromName(o.referenceValue),n.key):bs(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Ms(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ys(e.position[n],t.position[n]))return!1;return!0}class Ds{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Ls(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Rs{}class Us extends Rs{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Ks(e,t,n):"array-contains"===t?new Qs(e,n):"in"===t?new Xs(e,n):"not-in"===t?new Js(e,n):"array-contains-any"===t?new Zs(e,n):new Us(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Gs(e,n):new Ys(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(bs(t,this.value)):null!==t&&gs(this.value)===gs(t)&&this.matchesComparison(bs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ba(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fs extends Rs{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Fs(e,t)}matches(e){return Bs(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Bs(e){return"and"===e.op}function zs(e){return Vs(e)&&Bs(e)}function Vs(e){for(const t of e.filters)if(t instanceof Fs)return!1;return!0}function Ws(e){if(e instanceof Us)return e.field.canonicalString()+e.op.toString()+ks(e.value);if(zs(e))return e.filters.map(e=>Ws(e)).join(",");{const t=e.filters.map(e=>Ws(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Hs(e,t){return e instanceof Us?function(e,t){return t instanceof Us&&e.op===t.op&&e.field.isEqual(t.field)&&ys(e.value,t.value)}(e,t):e instanceof Fs?function(e,t){return t instanceof Fs&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Hs(n,t.filters[r]),!0)}(e,t):void ba(19439)}function qs(e){return e instanceof Us?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(ks(e.value))}(e):e instanceof Fs?function(e){return e.op.toString()+" {"+e.getFilters().map(qs).join(" ,")+"}"}(e):"Filter"}class Ks extends Us{constructor(e,t,n){super(e,t,n),this.key=Ga.fromName(n.referenceValue)}matches(e){const t=Ga.comparator(e.key,this.key);return this.matchesComparison(t)}}class Gs extends Us{constructor(e,t){super(e,"in",t),this.keys=$s("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ys extends Us{constructor(e,t){super(e,"not-in",t),this.keys=$s("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function $s(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Ga.fromName(e.referenceValue))}class Qs extends Us{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ns(t)&&vs(t.arrayValue,this.value)}}class Xs extends Us{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&vs(this.value.arrayValue,t)}}class Js extends Us{constructor(e,t){super(e,"not-in",t)}matches(e){if(vs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!vs(this.value.arrayValue,t)}}class Zs extends Us{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ns(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>vs(this.value.arrayValue,e))}}class el{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=o,this.Te=null}}function tl(e){return new el(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function nl(e){const t=ka(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Ws(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),go(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>ks(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>ks(e)).join(",")),t.Te=e}return t.Te}function rl(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ls(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Hs(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ms(e.startAt,t.startAt)&&Ms(e.endAt,t.endAt)}class il{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=s,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function al(e,t,n,r,i,a,o,s){return new il(e,t,n,r,i,a,o,s)}function ol(e){return new il(e)}function sl(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ll(e){return null!==e.collectionGroup}function cl(e){const t=ka(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Go(Ka.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Ds(r,n))}),e.has(Ka.keyField().canonicalString())||t.Ie.push(new Ds(Ka.keyField(),n))}return t.Ie}function ul(e){const t=ka(e);return t.Ee||(t.Ee=dl(t,cl(e))),t.Ee}function dl(e,t){if("F"===e.limitType)return tl(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Ds(e.field,t)});const n=e.endAt?new Ps(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ps(e.startAt.position,e.startAt.inclusive):null;return tl(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function hl(e,t,n){return new il(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function fl(e,t){return rl(ul(e),ul(t))&&e.limitType===t.limitType}function pl(e){return"".concat(nl(ul(e)),"|lt:").concat(e.limitType)}function ml(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>qs(e)).join(", "),"]")),go(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>ks(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>ks(e)).join(",")),"Target(".concat(t,")")}(ul(e)),"; limitType=").concat(e.limitType,")")}function gl(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ga.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of cl(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Is(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,cl(e),t))&&!(e.endAt&&!function(e,t,n){const r=Is(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,cl(e),t))}(e,t)}function yl(e){return(t,n)=>{let r=!1;for(const i of cl(e)){const e=vl(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function vl(e,t,n){const r=e.field.isKeyField()?Ga.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?bs(r,i):ba(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ba(19790,{direction:e.dir})}}class bl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Vo(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Wo(this.inner)}size(){return this.innerSize}}const xl=new Ho(Ga.comparator);function wl(){return xl}const kl=new Ho(Ga.comparator);function Sl(){let e=kl;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function jl(e){let t=kl;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Nl(){return _l()}function El(){return _l()}function _l(){return new bl(e=>e.toString(),(e,t)=>e.isEqual(t))}new Ho(Ga.comparator);const Cl=new Go(Ga.comparator);function Al(){let e=Cl;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Ol=new Go(La);function Tl(){return Ol}function Pl(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yo(t)?"-0":t}}function Il(e){return{integerValue:""+e}}class Ml{constructor(){this._=void 0}}function Dl(e,t,n){return e instanceof Ul?function(e,t){const n={fields:{[rs]:{stringValue:ns},[as]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&os(t)&&(t=ss(t)),t&&(n.fields[is]=t),{mapValue:n}}(n,t):e instanceof Fl?Bl(e,t):e instanceof zl?Vl(e,t):function(e,t){const n=Rl(e,t),r=Hl(n)+Hl(e.Ae);return js(n)&&js(e.Ae)?Il(r):Pl(e.serializer,r)}(e,t)}function Ll(e,t,n){return e instanceof Fl?Bl(e,t):e instanceof zl?Vl(e,t):n}function Rl(e,t){return e instanceof Wl?function(e){return js(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Ul extends Ml{}class Fl extends Ml{constructor(e){super(),this.elements=e}}function Bl(e,t){const n=ql(t);for(const r of e.elements)n.some(e=>ys(e,r))||n.push(r);return{arrayValue:{values:n}}}class zl extends Ml{constructor(e){super(),this.elements=e}}function Vl(e,t){let n=ql(t);for(const r of e.elements)n=n.filter(e=>!ys(e,r));return{arrayValue:{values:n}}}class Wl extends Ml{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Hl(e){return es(e.integerValue||e.doubleValue)}function ql(e){return Ns(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Kl{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Kl}static exists(e){return new Kl(void 0,e)}static updateTime(e){return new Kl(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gl(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Yl{}function $l(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new ic(e.key,Kl.none()):new Zl(e.key,e.data,Kl.none());{const n=e.data,r=Os.empty();let i=new Go(Ka.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new ec(e.key,r,new $o(i.toArray()),Kl.none())}}function Ql(e,t,n){e instanceof Zl?function(e,t,n){const r=e.value.clone(),i=nc(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ec?function(e,t,n){if(!Gl(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=nc(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(tc(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Xl(e,t,n,r){return e instanceof Zl?function(e,t,n,r){if(!Gl(e.precondition,t))return n;const i=e.value.clone(),a=rc(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof ec?function(e,t,n,r){if(!Gl(e.precondition,t))return n;const i=rc(e.fieldTransforms,r,t),a=t.data;return a.setAll(tc(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Gl(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Jl(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&za(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Fl&&t instanceof Fl||e instanceof zl&&t instanceof zl?za(e.elements,t.elements,ys):e instanceof Wl&&t instanceof Wl?ys(e.Ae,t.Ae):e instanceof Ul&&t instanceof Ul}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Zl extends Yl{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ec extends Yl{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function tc(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function nc(e,t,n){const r=new Map;wa(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Ll(o,s,n[i]))}return r}function rc(e,t,n){const r=new Map;for(const i of e){const e=i.transform,a=n.data.field(i.field);r.set(i.field,Dl(e,a,t))}return r}class ic extends Yl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ac{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Ql(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Xl(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Xl(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=El();return this.mutations.forEach(r=>{const i=e.get(r.key),a=i.overlayedDocument;let o=this.applyToLocalView(a,i.mutatedFields);o=t.has(r.key)?null:o;const s=$l(a,o);null!==s&&n.set(r.key,s),a.isValidDocument()||a.convertToNoDocument(no.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Al())}isEqual(e){return this.batchId===e.batchId&&za(this.mutations,e.mutations,(e,t)=>Jl(e,t))&&za(this.baseMutations,e.baseMutations,(e,t)=>Jl(e,t))}}class oc{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}var sc,lc;function cc(e){if(void 0===e)return ga("GRPC error has no .code"),Sa.UNKNOWN;switch(e){case sc.OK:return Sa.OK;case sc.CANCELLED:return Sa.CANCELLED;case sc.UNKNOWN:return Sa.UNKNOWN;case sc.DEADLINE_EXCEEDED:return Sa.DEADLINE_EXCEEDED;case sc.RESOURCE_EXHAUSTED:return Sa.RESOURCE_EXHAUSTED;case sc.INTERNAL:return Sa.INTERNAL;case sc.UNAVAILABLE:return Sa.UNAVAILABLE;case sc.UNAUTHENTICATED:return Sa.UNAUTHENTICATED;case sc.INVALID_ARGUMENT:return Sa.INVALID_ARGUMENT;case sc.NOT_FOUND:return Sa.NOT_FOUND;case sc.ALREADY_EXISTS:return Sa.ALREADY_EXISTS;case sc.PERMISSION_DENIED:return Sa.PERMISSION_DENIED;case sc.FAILED_PRECONDITION:return Sa.FAILED_PRECONDITION;case sc.ABORTED:return Sa.ABORTED;case sc.OUT_OF_RANGE:return Sa.OUT_OF_RANGE;case sc.UNIMPLEMENTED:return Sa.UNIMPLEMENTED;case sc.DATA_LOSS:return Sa.DATA_LOSS;default:return ba(39323,{code:e})}}(lc=sc||(sc={}))[lc.OK=0]="OK",lc[lc.CANCELLED=1]="CANCELLED",lc[lc.UNKNOWN=2]="UNKNOWN",lc[lc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lc[lc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lc[lc.NOT_FOUND=5]="NOT_FOUND",lc[lc.ALREADY_EXISTS=6]="ALREADY_EXISTS",lc[lc.PERMISSION_DENIED=7]="PERMISSION_DENIED",lc[lc.UNAUTHENTICATED=16]="UNAUTHENTICATED",lc[lc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lc[lc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lc[lc.ABORTED=10]="ABORTED",lc[lc.OUT_OF_RANGE=11]="OUT_OF_RANGE",lc[lc.UNIMPLEMENTED=12]="UNIMPLEMENTED",lc[lc.INTERNAL=13]="INTERNAL",lc[lc.UNAVAILABLE=14]="UNAVAILABLE",lc[lc.DATA_LOSS=15]="DATA_LOSS";new Qi([4294967295,4294967295],0);Error;class uc{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function dc(e){return wa(!!e,49232),no.fromTimestamp(function(e){const t=Zo(e);return new to(t.seconds,t.nanos)}(e))}function hc(e,t){const n=function(e){return new Ha(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function fc(e){const t=Ha.fromString(e);return wa(bc(t),10190,{key:t.toString()}),t}function pc(e){const t=fc(e);return 4===t.length?Ha.emptyPath():mc(t)}function mc(e){return wa(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function gc(e){let t=pc(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){wa(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){const t=yc(e);return t instanceof Fs&&zs(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map(e=>function(e){return new Ds(vc(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,go(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Ps(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Ps(n,t)}(n.endAt)),al(t,i,o,a,s,"F",l,c)}function yc(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=vc(e.unaryFilter.field);return Us.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=vc(e.unaryFilter.field);return Us.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=vc(e.unaryFilter.field);return Us.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=vc(e.unaryFilter.field);return Us.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ba(61313);default:return ba(60726)}}(e):void 0!==e.fieldFilter?function(e){return Us.create(vc(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ba(58110);default:return ba(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Fs.create(e.compositeFilter.filters.map(e=>yc(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ba(1026)}}(e.compositeFilter.op))}(e):ba(30097,{filter:e})}function vc(e){return Ka.fromServerFormat(e.fieldPath)}function bc(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class xc{constructor(e){this.yt=e}}function wc(e){const t=gc({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?hl(t,t.limit,"L"):t}class kc{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(es(e.integerValue));else if("doubleValue"in e){const n=es(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),yo(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=Zo(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(ts(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?As(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):_s(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):ba(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const i=ms,a=(null===(n=r[i].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(es(a)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),Ga.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}kc.Kt=new kc;class Sc{constructor(){this.Cn=new jc}addToCollectionParentIndex(e,t){return this.Cn.add(t),uo.resolve()}getCollectionParents(e,t){return uo.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return uo.resolve()}deleteFieldIndex(e,t){return uo.resolve()}deleteAllFieldIndexes(e){return uo.resolve()}createTargetIndexes(e,t){return uo.resolve()}getDocumentsMatchingTarget(e,t){return uo.resolve(null)}getIndexType(e,t){return uo.resolve(0)}getFieldIndexes(e,t){return uo.resolve([])}getNextCollectionGroupToUpdate(e){return uo.resolve(null)}getMinOffset(e,t){return uo.resolve(so.min())}getMinOffsetFromCollectionGroup(e,t){return uo.resolve(so.min())}updateCollectionGroup(e,t,n){return uo.resolve()}updateIndexEntries(e,t){return uo.resolve()}}class jc{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Go(Ha.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Go(Ha.comparator)).toArray()}}new Uint8Array(0);const Nc=41943040;class Ec{static withCacheSize(e){return new Ec(e,Ec.DEFAULT_COLLECTION_PERCENTILE,Ec.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Ec.DEFAULT_COLLECTION_PERCENTILE=10,Ec.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ec.DEFAULT=new Ec(Nc,Ec.DEFAULT_COLLECTION_PERCENTILE,Ec.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ec.DISABLED=new Ec(-1,0,0);class _c{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new _c(0)}static cr(){return new _c(-1)}}const Cc=1048576;class Ac{constructor(){this.changes=new bl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ts.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?uo.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Oc{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Tc{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Xl(n.mutation,e,$o.empty(),to.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Al()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Al();const r=Nl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Sl();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Nl();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Al()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=wl();const a=_l(),o=_l();return t.forEach((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof ec)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Xl(o.mutation,t,o.mutation.getFieldMask(),to.now())):a.set(t.key,$o.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>a.set(e,t)),t.forEach((e,t)=>{var n;return o.set(e,new Oc(t,null!==(n=a.get(e))&&void 0!==n?n:null))}),o))}recalculateAndSaveOverlays(e,t){const n=_l();let r=new Ho((e,t)=>e-t),i=Al();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const a=t.get(e);if(null===a)return;let o=n.get(e)||$o.empty();o=i.applyToLocalView(a,o),n.set(e,o);const s=(r.get(i.batchId)||Al()).add(e);r=r.insert(i.batchId,s)})}).next(()=>{const a=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),s=r.key,l=r.value,c=El();l.forEach(e=>{if(!i.has(e)){const r=$l(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),a.push(this.documentOverlayCache.saveOverlays(e,s,c))}return uo.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Ga.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ll(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):uo.resolve(Nl());let o=ro,s=i;return a.next(t=>uo.forEach(t,(t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?uo.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{s=s.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,s,t,Al())).next(e=>({batchId:o,changes:jl(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ga(t)).next(e=>{let t=Sl();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let a=Sl();return this.indexManager.getCollectionParents(e,i).next(o=>uo.forEach(o,o=>{const s=function(e,t){return new il(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next(e=>{e.forEach((e,t)=>{a=a.insert(e,t)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Ts.newInvalidDocument(r)))});let n=Sl();return e.forEach((e,r)=>{const a=i.get(e);void 0!==a&&Xl(a.mutation,r,$o.empty(),to.now()),gl(t,r)&&(n=n.insert(e,r))}),n})}}class Pc{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return uo.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:dc(e.createTime)}}(t)),uo.resolve()}getNamedQuery(e,t){return uo.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:wc(e.bundledQuery),readTime:dc(e.readTime)}}(t)),uo.resolve()}}class Ic{constructor(){this.overlays=new Ho(Ga.comparator),this.qr=new Map}getOverlay(e,t){return uo.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Nl();return uo.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),uo.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),uo.resolve()}getOverlaysForCollection(e,t,n){const r=Nl(),i=t.length+1,a=new Ga(t.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const e=o.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return uo.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Ho((e,t)=>e-t);const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Nl(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Nl(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=r)););return uo.resolve(o)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new oc(t,n));let i=this.qr.get(t);void 0===i&&(i=Al(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}class Mc{constructor(){this.sessionToken=Xo.EMPTY_BYTE_STRING}getSessionToken(e){return uo.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,uo.resolve()}}class Dc{constructor(){this.Qr=new Go(Lc.$r),this.Ur=new Go(Lc.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new Lc(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new Lc(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new Ga(new Ha([])),n=new Lc(t,e),r=new Lc(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ga(new Ha([])),n=new Lc(t,e),r=new Lc(t,e+1);let i=Al();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Lc(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Lc{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ga.comparator(e.key,t.key)||La(e.Yr,t.Yr)}static Kr(e,t){return La(e.Yr,t.Yr)||Ga.comparator(e.key,t.key)}}class Rc{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Go(Lc.$r)}checkEmpty(e){return uo.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new ac(i,t,n,r);this.mutationQueue.push(a);for(const o of r)this.Zr=this.Zr.add(new Lc(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return uo.resolve(a)}lookupMutationBatch(e,t){return uo.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return uo.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return uo.resolve(0===this.mutationQueue.length?mo:this.tr-1)}getAllMutationBatches(e){return uo.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Lc(t,0),r=new Lc(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),uo.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Go(La);return t.forEach(e=>{const t=new Lc(e,0),r=new Lc(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),uo.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Ga.isDocumentKey(i)||(i=i.child(""));const a=new Lc(new Ga(i),0);let o=new Go(La);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Yr)),!0)},a),uo.resolve(this.ti(o))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){wa(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return uo.forEach(t.mutations,r=>{const i=new Lc(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new Lc(t,0),r=this.Zr.firstAfterOrEqual(n);return uo.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,uo.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Uc{constructor(e){this.ri=e,this.docs=new Ho(Ga.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return uo.resolve(n?n.document.mutableCopy():Ts.newInvalidDocument(t))}getEntries(e,t){let n=wl();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Ts.newInvalidDocument(e))}),uo.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=wl();const a=t.path,o=new Ga(a.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){const{key:e,value:{document:o}}=s.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||lo(oo(o),n)<=0||(r.has(o.key)||gl(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return uo.resolve(i)}getAllFromCollectionGroup(e,t,n,r){ba(9500)}ii(e,t){return uo.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Fc(this)}getSize(e){return uo.resolve(this.size)}}class Fc extends Ac{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),uo.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class Bc{constructor(e){this.persistence=e,this.si=new bl(e=>nl(e),rl),this.lastRemoteSnapshotVersion=no.min(),this.highestTargetId=0,this.oi=0,this._i=new Dc,this.targetCount=0,this.ai=_c.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),uo.resolve()}getLastRemoteSnapshotVersion(e){return uo.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return uo.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),uo.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),uo.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new _c(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,uo.resolve()}updateTargetData(e,t){return this.Pr(t),uo.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,uo.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((a,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),uo.waitFor(i).next(()=>r)}getTargetCount(e){return uo.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return uo.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),uo.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),uo.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),uo.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return uo.resolve(n)}containsKey(e,t){return uo.resolve(this._i.containsKey(t))}}class zc{constructor(e,t){this.ui={},this.overlays={},this.ci=new po(0),this.li=!1,this.li=!0,this.hi=new Mc,this.referenceDelegate=e(this),this.Pi=new Bc(this),this.indexManager=new Sc,this.remoteDocumentCache=function(e){return new Uc(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new xc(t),this.Ii=new Pc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ic,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new Rc(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){ma("MemoryPersistence","Starting transaction:",e);const r=new Vc(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return uo.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class Vc extends co{constructor(e){super(),this.currentSequenceNumber=e}}class Wc{constructor(e){this.persistence=e,this.Ri=new Dc,this.Vi=null}static mi(e){return new Wc(e)}get fi(){if(this.Vi)return this.Vi;throw ba(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),uo.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),uo.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),uo.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return uo.forEach(this.fi,n=>{const r=Ga.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,no.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return uo.or([()=>uo.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Hc{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=Al(),r=Al();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Hc(e,t.fromCache,n,r)}}class qc{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Kc{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=A()?8:ho(_())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new qc;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(pa()<=G.DEBUG&&ma("QueryEngine","SDK will not create cache indexes for query:",ml(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),uo.resolve()):(pa()<=G.DEBUG&&ma("QueryEngine","Query:",ml(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(pa()<=G.DEBUG&&ma("QueryEngine","The SDK decides to create cache indexes for query:",ml(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ul(t))):uo.resolve())}ys(e,t){if(sl(t))return uo.resolve(null);let n=ul(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=hl(t,null,"F"),n=ul(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=Al(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const a=this.Ds(t,r);return this.Cs(t,a,i,n.readTime)?this.ys(e,hl(t,null,"F")):this.vs(e,a,t,n)}))})))}ws(e,t,n,r){return sl(t)||r.isEqual(no.min())?uo.resolve(null):this.ps.getDocuments(e,n).next(i=>{const a=this.Ds(t,i);return this.Cs(t,a,n,r)?uo.resolve(null):(pa()<=G.DEBUG&&ma("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ml(t)),this.vs(e,a,t,ao(r,ro)).next(e=>e))})}Ds(e,t){let n=new Go(yl(e));return t.forEach((t,r)=>{gl(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return pa()<=G.DEBUG&&ma("QueryEngine","Using full collection scan to execute query:",ml(t)),this.ps.getDocumentsMatchingQuery(e,t,so.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const Gc="LocalStore";class Yc{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Ho(La),this.xs=new bl(e=>nl(e),rl),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Tc(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function $c(e,t,n,r){return new Yc(e,t,n,r)}async function Qc(e,t){const n=ka(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],a=[];let o=Al();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:a}))})})}class Xc{constructor(){this.activeTargetIds=Tl()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Jc{constructor(){this.Mo=new Xc,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Xc,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Zc{Oo(e){}shutdown(){}}const eu="ConnectivityMonitor";class tu{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ma(eu,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ma(eu,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let nu=null;function ru(){return null===nu?nu=268435456+Math.round(2147483648*Math.random()):nu++,"0x"+nu.toString(16)}const iu="RestConnection",au={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ou{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===cs?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,i){const a=ru(),o=this.zo(e,t.toUriEncodedString());ma(iu,"Sending RPC '".concat(e,"' ").concat(a,":"),o,n);const s={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(s,r,i);const{host:l}=new URL(o),c=k(l);return this.Jo(e,o,s,n,c).then(t=>(ma(iu,"Received RPC '".concat(e,"' ").concat(a,": "),t),t),t=>{throw ya(iu,"RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t})}Ho(e,t,n,r,i,a){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ha,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=au[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class su{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const lu="WebChannelConnection";class cu extends ou{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const a=ru();return new Promise((i,o)=>{const s=new Zi;s.setWithCredentials(!0),s.listenOnce(ta.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case na.NO_ERROR:const n=s.getResponseJson();ma(lu,"XHR for RPC '".concat(e,"' ").concat(a," received:"),JSON.stringify(n)),i(n);break;case na.TIMEOUT:ma(lu,"RPC '".concat(e,"' ").concat(a," timed out")),o(new ja(Sa.DEADLINE_EXCEEDED,"Request time out"));break;case na.HTTP_ERROR:const r=s.getStatus();if(ma(lu,"RPC '".concat(e,"' ").concat(a," failed with status:"),r,"response text:",s.getResponseText()),r>0){var t;let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Sa).indexOf(t)>=0?t:Sa.UNKNOWN}(n.status);o(new ja(e,n.message))}else o(new ja(Sa.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new ja(Sa.UNAVAILABLE,"Connection failed."));break;default:ba(9055,{l_:e,streamId:a,h_:s.getLastErrorCode(),P_:s.getLastError()})}}finally{ma(lu,"RPC '".concat(e,"' ").concat(a," completed."))}});const l=JSON.stringify(r);ma(lu,"RPC '".concat(e,"' ").concat(a," sending request:"),r),s.send(t,"POST",l,n,15)})}T_(e,t,n){const r=ru(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=oa(),o=aa(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.jo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");ma(lu,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);const u=a.createWebChannel(c,s);this.I_(u);let d=!1,h=!1;const f=new su({Yo:t=>{h?ma(lu,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(ma(lu,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),ma(lu,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,ea.EventType.OPEN,()=>{h||(ma(lu,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.o_())}),p(u,ea.EventType.CLOSE,()=>{h||(h=!0,ma(lu,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.a_(),this.E_(u))}),p(u,ea.EventType.ERROR,t=>{h||(h=!0,ya(lu,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.a_(new ja(Sa.UNAVAILABLE,"The operation could not be completed")))}),p(u,ea.EventType.MESSAGE,t=>{if(!h){var n;const i=t.data[0];wa(!!i,16349);const a=i,o=(null===a||void 0===a?void 0:a.error)||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){ma(lu,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=sc[e];if(void 0!==t)return cc(t)}(t),i=o.message;void 0===n&&(n=Sa.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),h=!0,f.a_(new ja(n,i)),u.close()}else ma(lu,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.u_(i)}}),p(o,ia.STAT_EVENT,t=>{t.stat===ra.PROXY?ma(lu,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===ra.NOPROXY&&ma(lu,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function uu(){return"undefined"!=typeof document?document:null}function du(e){return new uc(e,!0)}class hu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&ma("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}class fu{}class pu extends fu{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new ja(Sa.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[a,o]=i;return this.connection.Go(e,hc(t,n),r,a,o)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Sa.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ja(Sa.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(a=>{let[o,s]=a;return this.connection.Ho(e,hc(t,n),r,o,s,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Sa.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ja(Sa.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class mu{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(ga(t),this.aa=!1):ma("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const gu="RemoteStore";class yu{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{xu(this)&&(ma(gu,"Restarting streams for network reachability change."),await async function(e){const t=ka(e);t.Ea.add(4),await bu(t),t.Ra.set("Unknown"),t.Ea.delete(4),await vu(t)}(this))})}),this.Ra=new mu(n,r)}}async function vu(e){if(xu(e))for(const t of e.da)await t(!0)}async function bu(e){for(const t of e.da)await t(!1)}function xu(e){return 0===ka(e).Ea.size}async function wu(e,t){const n=ka(e);t?(n.Ea.delete(2),await vu(n)):t||(n.Ea.add(2),await bu(n),n.Ra.set("Unknown"))}class ku{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const a=Date.now()+n,o=new ku(e,t,a,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ja(Sa.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class Su{constructor(){this.queries=ju(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=ka(e),r=n.queries;n.queries=ju(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new ja(Sa.ABORTED,"Firestore shutting down"))}}function ju(){return new bl(e=>pl(e),fl)}function Nu(e){e.Ca.forEach(e=>{e.next()})}var Eu,_u;(_u=Eu||(Eu={})).Ma="default",_u.Cache="cache";const Cu="SyncEngine";class Au{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new bl(e=>pl(e),fl),this.Iu=new Map,this.Eu=new Set,this.du=new Ho(Ga.comparator),this.Au=new Map,this.Ru=new Dc,this.Vu={},this.mu=new Map,this.fu=_c.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}function Ou(e,t,n){const r=ka(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=ka(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.va(t)&&(r=!0)}),r&&Nu(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Tu(e,t,n){const r=ka(e),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((e,s)=>{o.push(r.pu(s,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const i=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Hc.As(s.targetId,e);a.push(t)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(e,t){const n=ka(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>uo.forEach(t,t=>uo.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>uo.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!fo(e))throw e;ma(Gc,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,i)}}}(r.localStore,a))}async function Pu(e,t){const n=ka(e);if(!n.currentUser.isEqual(t)){ma(Cu,"User change. New user:",t.toKey());const e=await Qc(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new ja(Sa.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Tu(n,e.Ls)}}class Iu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=du(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return $c(this.persistence,new Kc,e.initialUser,this.serializer)}Cu(e){return new zc(Wc.mi,this.serializer)}Du(e){return new Jc}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Iu.provider={build:()=>new Iu};class Mu{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Ou(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Pu.bind(null,this.syncEngine),await wu(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Su}createDatastore(e){const t=du(e.databaseInfo.databaseId),n=function(e){return new cu(e)}(e.databaseInfo);return function(e,t,n,r){return new pu(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new yu(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>Ou(this.syncEngine,e,0),tu.v()?new tu:new Zc)}createSyncEngine(e,t){return function(e,t,n,r,i,a,o){const s=new Au(e,t,n,r,i,a);return o&&(s.gu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=ka(e);ma(gu,"RemoteStore shutting down."),t.Ea.add(5),await bu(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Mu.provider={build:()=>new Mu};function Du(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Lu=new Map,Ru="firestore.googleapis.com",Uu=!0;class Fu{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new ja(Sa.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ru,this.ssl=Uu}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Uu;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Nc;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Cc)throw new ja(Sa.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new ja(Sa.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Du(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ja(Sa.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new ja(Sa.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new ja(Sa.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bu{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fu({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ja(Sa.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ja(Sa.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fu(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new _a;switch(e.type){case"firstParty":return new Ta(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ja(Sa.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Lu.get(e);t&&(ma("ComponentProvider","Removing Datastore"),Lu.delete(e),t.terminate())}(this),Promise.resolve()}}function zu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Qa(e,Bu);const i=k(t),a=e._getSettings(),o=u(u({},a),{},{emulatorOptions:e._getEmulatorOptions()}),s="".concat(t,":").concat(n);i&&(S("https://".concat(s)),E("Firestore",!0)),a.host!==Ru&&a.host!==s&&ya("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=u(u({},a),{},{host:s,ssl:i,emulatorOptions:r});if(!M(l,o)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=da.MOCK_USER;else{var c;t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=u({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[p(JSON.stringify({alg:"none",type:"JWT"})),p(JSON.stringify(a)),""].join(".")}(r.mockUserToken,null===(c=e._app)||void 0===c?void 0:c.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new ja(Sa.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new da(i)}e._authCredentials=new Ca(new Ea(t,n))}}class Vu{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Vu(this.firestore,e,this._query)}}class Wu{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wu(this.firestore,e,this._key)}toJSON(){return{type:Wu._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Ja(t,Wu._jsonSchema))return new Wu(e,n||null,new Ga(Ha.fromString(t.referencePath)))}}Wu._jsonSchemaVersion="firestore/documentReference/1.0",Wu._jsonSchema={type:Xa("string",Wu._jsonSchemaVersion),referencePath:Xa("string")};class Hu extends Vu{constructor(e,t,n){super(e,t,ol(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wu(this.firestore,null,new Ga(e))}withConverter(e){return new Hu(this.firestore,e,this._path)}}const qu="AsyncQueue";class Ku{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new hu(this,"async_queue_retry"),this._c=()=>{const e=uu();e&&ma(qu,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=uu();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=uu();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Na;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!fo(e))throw e;ma(qu,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,ga("INTERNAL UNHANDLED ERROR: ",Gu(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=ku.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&ba(47125,{Pc:Gu(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Gu(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class Yu extends Bu{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Ku,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ku(e),this._firestoreClient=void 0,await e}}}class $u{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $u(Xo.fromBase64String(e))}catch(e){throw new ja(Sa.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new $u(Xo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$u._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ja(e,$u._jsonSchema))return $u.fromBase64String(e.bytes)}}$u._jsonSchemaVersion="firestore/bytes/1.0",$u._jsonSchema={type:Xa("string",$u._jsonSchemaVersion),bytes:Xa("string")};class Qu{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new ja(Sa.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ka(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Xu{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ja(Sa.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ja(Sa.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return La(this._lat,e._lat)||La(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xu._jsonSchemaVersion}}static fromJSON(e){if(Ja(e,Xu._jsonSchema))return new Xu(e.latitude,e.longitude)}}Xu._jsonSchemaVersion="firestore/geoPoint/1.0",Xu._jsonSchema={type:Xa("string",Xu._jsonSchemaVersion),latitude:Xa("number"),longitude:Xa("number")};class Ju{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ju._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ja(e,Ju._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new Ju(e.vectorValues);throw new ja(Sa.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ju._jsonSchemaVersion="firestore/vectorValue/1.0",Ju._jsonSchema={type:Xa("string",Ju._jsonSchemaVersion),vectorValues:Xa("object")};const Zu=new RegExp("[~\\*/\\[\\]]");function ed(e,t,n){if(t.search(Zu)>=0)throw td("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Qu(...t.split("."))._internalPath}catch(Jd){throw td("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function td(e,t,n,r,i){const a=r&&!r.isEmpty(),o=void 0!==i;let s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new ja(Sa.INVALID_ARGUMENT,s+e+l)}class nd{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Wu(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new rd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(id("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class rd extends nd{data(){return super.data()}}function id(e,t){return"string"==typeof t?ed(e,t):t instanceof Qu?t._internalPath:t._delegate._internalPath}class ad{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class od extends nd{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new sd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(id("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ja(Sa.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=od._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}od._jsonSchemaVersion="firestore/documentSnapshot/1.0",od._jsonSchema={type:Xa("string",od._jsonSchemaVersion),bundleSource:Xa("string","DocumentSnapshot"),bundleName:Xa("string"),bundle:Xa("string")};class sd extends od{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class ld{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ad(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new sd(this._firestore,this._userDataWriter,n.key,n,new ad(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ja(Sa.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new sd(e._firestore,e._userDataWriter,n.doc.key,n.doc,new ad(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new sd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ad(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,a=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:cd(t.type),doc:r,oldIndex:i,newIndex:a}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ja(Sa.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ld._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Da.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cd(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ba(61501,{type:e})}}ld._jsonSchemaVersion="firestore/querySnapshot/1.0",ld._jsonSchema={type:Xa("string",ld._jsonSchemaVersion),bundleSource:Xa("string","QuerySnapshot"),bundleName:Xa("string"),bundle:Xa("string")};new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ha=e}(nt),Xe(new V("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const a=e.getProvider("app").getImmediate(),o=new Yu(new Aa(e.getProvider("auth-internal")),new Ia(a,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ja(Sa.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new us(e.options.projectId,t)}(a,r),a);return i=u({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),at(ca,ua,e),at(ca,ua,"esm2020")}();const ud=rt({apiKey:"AIzaSyCISg_gPZvBTSyRD_VxYHYzaIYKaBq8TI8",authDomain:"xpenses-2453a.firebaseapp.com",projectId:"xpenses-2453a",storageBucket:"xpenses-2453a.firebasestorage.app",messagingSenderId:"76919416089",appId:"1:76919416089:web:77d2ce565514427bb19188",measurementId:"G-QWZZT1NRTB"}),dd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it();const t=Je(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Je(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(M(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Nt(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Vi,persistence:[Jr,Pr,Rr]}),r=x("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Ki)return;const i=null===n||void 0===n?void 0:n.token;Gi!==i&&(Gi=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:"Bearer ".concat(i)}:{}}))})(e.toString());!function(e,t,n){z(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){z(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}const i=v("auth");return i&&Yn(n,"http://".concat(i)),n}(ud),hd=(function(e,t){const n="object"==typeof e?e:it(),r="string"==typeof e?e:t||cs,i=Je(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(e=>{const t=v(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&zu(i,...e)}}(ud),new fr);hd.setCustomParameters({prompt:"select_account"});const fd=async()=>{try{console.log("Firebase: Starting Google sign-in popup...");const e=await async function(e,t,n){if(Ze(e.app))return Promise.reject(Et(e,"operation-not-supported-in-this-environment"));const r=Ln(e);At(e,t,ur);const i=ii(r,n);return new di(r,"signInViaPopup",t,i).executeNotNull()}(dd,hd);return console.log("Firebase: Google sign-in successful:",e.user.email),{success:!0,user:e.user}}catch(e){return console.error("Firebase: Google sign-in error:",e),{success:!1,error:e.message}}},pd=async(e,t)=>{try{console.log("Firebase: Starting email sign-in...");const n=await function(e,t,n){return Ze(e.app)?Promise.reject(Ct(e)):jr(z(e),cr.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Er(e),t})}(dd,e,t);return console.log("Firebase: Email sign-in successful:",n.user.email),{success:!0,user:n.user}}catch(n){return console.error("Firebase: Email sign-in error:",n),{success:!1,error:n.message}}},md=async(e,t,n)=>{try{console.log("Firebase: Starting email sign-up...");const r=await async function(e,t,n){if(Ze(e.app))return Promise.reject(Ct(e));const r=Ln(e),i=Kn(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gr,"EMAIL_PASSWORD_PROVIDER"),a=await i.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Er(e),t}),o=await yr._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}(dd,e,t);return n&&await _r(r.user,{displayName:n}),console.log("Firebase: Email sign-up successful:",r.user.email),{success:!0,user:r.user}}catch(r){return console.error("Firebase: Email sign-up error:",r),{success:!1,error:r.message}}},gd=async()=>{try{return console.log("Firebase: Starting sign-out..."),await function(e){return z(e).signOut()}(dd),console.log("Firebase: Sign-out successful"),{success:!0}}catch(e){return console.error("Firebase: Sign-out error:",e),{success:!1,error:e.message}}},yd=async e=>{try{return console.log("Firebase: Starting password reset..."),await async function(e,t,n){const r=Ln(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Nr(r,i,n),await Kn(r,i,"getOobCode",tr,"EMAIL_PASSWORD_PROVIDER")}(dd,e),console.log("Firebase: Password reset email sent"),{success:!0}}catch(t){return console.error("Firebase: Password reset error:",t),{success:!1,error:t.message}}},vd=e=>(console.log("Firebase: Setting up auth state observer..."),function(e,t,n,r){return z(e).onAuthStateChanged(t,n,r)}(dd,t=>{console.log("Firebase: Auth state changed:",t?"User: ".concat(t.email):"No user"),e(t)})),bd=()=>{const[e,t]=(0,r.useState)(null),[n,i]=(0,r.useState)(!0),[a,o]=(0,r.useState)(null);(0,r.useEffect)(()=>{console.log("Setting up auth state listener...");const e=vd(e=>{console.log("Auth state changed:",e?"User logged in":"User logged out"),t(e),i(!1)});return()=>{console.log("Cleaning up auth state listener..."),e()}},[]);return{user:e,loading:n,error:a,signInWithGoogle:async()=>{try{console.log("Starting Google sign-in..."),o(null),i(!0);const e=await fd();if(console.log("Google sign-in result:",e),!e.success)throw o(e.error),new Error(e.error);return console.log("Google sign-in successful"),e.user}catch(a){throw console.error("Google sign-in error:",a),o(a.message),a}finally{i(!1)}},signInWithEmail:async(e,t)=>{try{console.log("Starting email sign-in..."),o(null),i(!0);const n=await pd(e,t);if(console.log("Email sign-in result:",n),!n.success)throw o(n.error),new Error(n.error);return console.log("Email sign-in successful"),n.user}catch(a){throw console.error("Email sign-in error:",a),o(a.message),a}finally{i(!1)}},signUpWithEmail:async(e,t,n)=>{try{console.log("Starting email sign-up..."),o(null),i(!0);const r=await md(e,t,n);if(console.log("Email sign-up result:",r),!r.success)throw o(r.error),new Error(r.error);return console.log("Email sign-up successful"),r.user}catch(a){throw console.error("Email sign-up error:",a),o(a.message),a}finally{i(!1)}},signOutUser:async()=>{try{console.log("Starting sign-out..."),o(null);const e=await gd();if(console.log("Sign-out result:",e),!e.success)throw o(e.error),new Error(e.error);console.log("Sign-out successful")}catch(a){throw console.error("Sign-out error:",a),o(a.message),a}},resetPassword:async e=>{try{console.log("Starting password reset..."),o(null);const t=await yd(e);if(console.log("Password reset result:",t),!t.success)throw o(t.error),new Error(t.error);console.log("Password reset successful")}catch(a){throw console.error("Password reset error:",a),o(a.message),a}},getUserDisplayName:()=>{var t;return e?e.displayName||(null===(t=e.email)||void 0===t?void 0:t.split("@")[0])||"User":""},getUserEmail:()=>(null===e||void 0===e?void 0:e.email)||"",getUserPhotoURL:()=>(null===e||void 0===e?void 0:e.photoURL)||"",clearError:()=>{o(null)},isAuthenticated:!!e}},xd={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"https://xpenses-backend.workers.dev/api";const wd=new class{constructor(){var e=this;this.auth={register:e=>this.request("/auth/register",{method:"POST",body:JSON.stringify(e),includeAuth:!1}),login:e=>this.request("/auth/login",{method:"POST",body:JSON.stringify(e),includeAuth:!1}),getProfile:()=>this.request("/auth/profile"),refreshToken:()=>this.request("/auth/refresh-token",{method:"POST"}),initiateOAuth:()=>this.request("/auth/oauth/initiate",{method:"POST"}),connectBankAccount:e=>this.request("/auth/connect-bank",{method:"POST",body:JSON.stringify(e)})},this.accounts={getAll:async()=>{console.log("API: Fetching all accounts...");const e=await this.request("/accounts");return console.log("API: Accounts result:",e),e},getById:e=>this.request("/accounts/".concat(e)),syncAll:()=>this.request("/accounts/sync",{method:"POST"}),syncById:e=>this.request("/accounts/".concat(e,"/sync"),{method:"POST"}),disconnect:e=>this.request("/accounts/".concat(e),{method:"DELETE"}),getSyncStatus:async()=>{console.log("API: Fetching sync status...");const e=await this.request("/accounts/sync-status");return console.log("API: Sync status result:",e),e},getBalanceSummary:async()=>{console.log("API: Fetching balance summary...");const e=await this.request("/accounts/balance-summary");return console.log("API: Balance summary result:",e),e}},this.transactions={getAll:function(){const t=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).toString();return e.request("/transactions".concat(t?"?".concat(t):""))},getById:e=>this.request("/transactions/".concat(e)),create:e=>this.request("/transactions",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>this.request("/transactions/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:e=>this.request("/transactions/".concat(e),{method:"DELETE"}),getStats:function(){const t=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).toString();return e.request("/transactions/stats".concat(t?"?".concat(t):""))}},this.webhooks={getEvents:function(){const t=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).toString();return e.request("/webhooks/events".concat(t?"?".concat(t):""))},markEventProcessed:e=>this.request("/webhooks/events/".concat(e,"/processed"),{method:"PATCH"})},this.consents={start:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:180;return e.request("/consents/start",{method:"POST",body:JSON.stringify({durationDays:t})})},getDetails:e=>this.request("/consents/".concat(e)),getAll:()=>this.request("/consents"),revoke:e=>this.request("/consents/".concat(e),{method:"DELETE"})},this.health=()=>this.request("/health",{includeAuth:!1}),this.splitwise={groups:{getAll:()=>this.request("/splitwise/groups"),getById:e=>this.request("/splitwise/groups/".concat(e)),create:e=>this.request("/splitwise/groups",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>this.request("/splitwise/groups/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:e=>this.request("/splitwise/groups/".concat(e),{method:"DELETE"}),addMember:(e,t)=>this.request("/splitwise/groups/".concat(e,"/members"),{method:"POST",body:JSON.stringify(t)}),removeMember:(e,t)=>this.request("/splitwise/groups/".concat(e,"/members/").concat(t),{method:"DELETE"}),updateMemberRole:(e,t,n)=>this.request("/splitwise/groups/".concat(e,"/members/").concat(t),{method:"PATCH",body:JSON.stringify(n)})},expenses:{getByGroup:function(t){const n=new URLSearchParams(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).toString();return e.request("/splitwise/expenses/groups/".concat(t,"/expenses").concat(n?"?".concat(n):""))},getById:e=>this.request("/splitwise/expenses/".concat(e)),create:(e,t)=>this.request("/splitwise/expenses/groups/".concat(e,"/expenses"),{method:"POST",body:JSON.stringify(t)}),update:(e,t)=>this.request("/splitwise/expenses/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:e=>this.request("/splitwise/expenses/".concat(e),{method:"DELETE"}),getSplitTypes:()=>this.request("/splitwise/expenses/split-types")},balances:{getGroupBalances:e=>this.request("/splitwise/balances/groups/".concat(e,"/balances")),getMyBalance:e=>this.request("/splitwise/balances/groups/".concat(e,"/balances/my-balance")),getMyGroupBalances:()=>this.request("/splitwise/balances/my-groups"),validateGroupBalances:e=>this.request("/splitwise/balances/groups/".concat(e,"/balances/validate")),getBalanceHistory:function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;return e.request("/splitwise/balances/groups/".concat(t,"/balances/history?days=").concat(n))},getSettlementSuggestions:e=>this.request("/splitwise/balances/groups/".concat(e,"/balances/settlements"))},invites:{sendInvite:(e,t)=>this.request("/splitwise/groups/".concat(e,"/invites"),{method:"POST",body:JSON.stringify(t)}),acceptInvite:e=>this.request("/splitwise/invites/accept",{method:"POST",body:JSON.stringify({token:e})}),getPendingInvites:()=>this.request("/splitwise/invites/pending"),cancelInvite:e=>this.request("/splitwise/invites/".concat(e),{method:"DELETE"})},settlements:{getByGroup:function(t){const n=new URLSearchParams(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).toString();return e.request("/splitwise/settlements/groups/".concat(t,"/settlements").concat(n?"?".concat(n):""))},getById:e=>this.request("/splitwise/settlements/".concat(e)),create:(e,t)=>this.request("/splitwise/settlements/groups/".concat(e,"/settlements"),{method:"POST",body:JSON.stringify(t)}),update:(e,t)=>this.request("/splitwise/settlements/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:e=>this.request("/splitwise/settlements/".concat(e),{method:"DELETE"}),getByUser:function(t,n){const r=new URLSearchParams(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).toString();return e.request("/splitwise/settlements/groups/".concat(t,"/settlements/user/").concat(n).concat(r?"?".concat(r):""))}}},this.baseURL=xd}async getAuthToken(){try{const e=dd.currentUser;if(console.log("API: Checking auth state - currentUser:",e?"exists":"null"),!e){await new Promise(e=>setTimeout(e,100));const e=dd.currentUser;if(console.log("API: Retry auth check - currentUser:",e?"exists":"null"),!e)throw new Error("No authenticated user");return await e.getIdToken()}return await e.getIdToken()}catch(e){throw console.error("Failed to get auth token:",e),e}}async getHeaders(){const e={"Content-Type":"application/json"};if(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])try{const t=await this.getAuthToken();e.Authorization="Bearer ".concat(t),console.log("API: Successfully added auth token to headers")}catch(t){if(console.error("Failed to get auth token for headers:",t),"No authenticated user"===t.message)throw console.log("API: No authenticated user found, throwing auth error"),new Error("Please login to use Splitwise features")}return e}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.maxRetries||2,r=t.baseDelay||2e3;for(let a=0;a<=n;a++)try{const i="".concat(this.baseURL).concat(e),o=u({headers:await this.getHeaders(!1!==t.includeAuth)},t),s=await fetch(i,o);if(401===s.status)throw console.error("Unauthorized request - user may need to re-authenticate"),new Error("Unauthorized - Please login again");if(429===s.status){if(a<n){const e=r*Math.pow(2,a);console.log("Rate limited, retrying in ".concat(e,"ms (attempt ").concat(a+1,"/").concat(n,")")),await new Promise(t=>setTimeout(t,e));continue}throw new Error("Rate limit exceeded - please try again later")}if(!s.ok){const e=await s.json().catch(()=>({})),t=e.error||e.message||e.errorMessage||"HTTP error! status: ".concat(s.status);if(503===s.status){const e=new Error(t);throw e.name="ServiceUnavailable",e}throw new Error(t)}return await s.json()}catch(i){if(a===n)throw console.error("API Request Error:",i),i;if(i.message.includes("Unauthorized")||i.message.includes("Rate limit exceeded")||"ServiceUnavailable"===i.name||"string"===typeof i.message&&(i.message.includes("Service Unavailable")||i.message.includes("503")))throw i;console.log("Request failed, retrying... (attempt ".concat(a+1,"/").concat(n,")"))}}},kd=wd;var Sd={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const jd=["color","size","strokeWidth","absoluteStrokeWidth","children"],Nd=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();var Ed=(e,t)=>{const n=(0,r.forwardRef)((n,i)=>{let{color:a="currentColor",size:o=24,strokeWidth:s=2,absoluteStrokeWidth:l,children:c}=n,d=gt(n,jd);return(0,r.createElement)("svg",u(u({ref:i},Sd),{},{width:o,height:o,stroke:a,strokeWidth:l?24*Number(s)/Number(o):s,className:"lucide lucide-".concat(Nd(e))},d),[...t.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...(Array.isArray(c)?c:[c])||[]])});return n.displayName="".concat(e),n};const _d=Ed("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Cd=Ed("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ad=Ed("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]),Od=Ed("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Td=Ed("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Pd=Ed("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Id=Ed("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Md=Ed("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var Dd=n(579);const Ld=e=>{let{isOpen:t,onClose:n,onGoogleSignIn:i,onEmailSignIn:a,onEmailSignUp:o,onResetPassword:s,loading:l,error:c,isAuthenticated:u}=e;const[d,h]=(0,r.useState)("login"),[f,p]=(0,r.useState)(""),[m,g]=(0,r.useState)(""),[y,v]=(0,r.useState)(""),[b,x]=(0,r.useState)(!1),[w,k]=(0,r.useState)(!1),[S,j]=(0,r.useState)(!1),[N,E]=(0,r.useState)(null),[_,C]=(0,r.useState)(null),A=()=>{h("login"),E(null),C(null)};return t?(0,Dd.jsx)(Dd.Fragment,{children:t&&(0,Dd.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur flex items-center justify-center z-50 p-4",children:(0,Dd.jsx)("div",{className:"modal-enter w-full max-w-md bg-white rounded-2xl shadow-2xl border border-gray-200 overflow-hidden",children:(0,Dd.jsxs)("div",{className:"p-8",children:[(0,Dd.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Dd.jsxs)("div",{className:"flex items-center space-x-3",children:["login"!==d&&(0,Dd.jsx)("button",{onClick:A,className:"scale-active p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all duration-200",children:(0,Dd.jsx)(_d,{className:"w-5 h-5"})}),(0,Dd.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:(()=>{switch(d){case"signup":return"Create Account";case"reset":return"Reset Password";default:return"Welcome Back"}})()})]}),u&&(0,Dd.jsx)("button",{onClick:n,className:"scale-active p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all duration-200",children:(0,Dd.jsx)(Cd,{className:"w-5 h-5"})})]}),(0,Dd.jsxs)("div",{className:"space-y-6",children:[(0,Dd.jsxs)("button",{onClick:async()=>{try{j(!0),E(null),C(null),await i(),C("Successfully signed in with Google!")}catch(c){console.error("Google sign-in error:",c),E(c.message||"Google sign-in failed")}finally{j(!1)}},disabled:S||w||l,className:"btn-smooth w-full bg-white border-2 border-gray-300 hover:border-gray-400 text-gray-700 py-4 px-6 rounded-xl font-medium transition-all duration-200 flex items-center justify-center space-x-3 shadow-sm hover:shadow-md disabled:opacity-50",children:[S?(0,Dd.jsx)("div",{className:"spinner w-5 h-5 border-2 border-gray-400 border-t-transparent rounded-full"}):(0,Dd.jsx)(Ad,{className:"w-5 h-5"}),(0,Dd.jsx)("span",{children:S?"Signing in...":"Continue with Google"})]}),(0,Dd.jsxs)("div",{className:"relative",children:[(0,Dd.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Dd.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,Dd.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,Dd.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with email"})})]}),(0,Dd.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),k(!0),E(null),C(null);try{"login"===d?(await a(f,m),C("Successfully signed in!")):"signup"===d?(await o(f,m,y),C("Account created successfully!")):"reset"===d&&(await s(f),C("Password reset email sent! Check your inbox."))}catch(c){E(c.message||"Authentication failed")}finally{k(!1)}},className:"space-y-4",children:["signup"===d&&(0,Dd.jsxs)("div",{children:[(0,Dd.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),(0,Dd.jsxs)("div",{className:"relative",children:[(0,Dd.jsx)("input",{type:"text",value:y,onChange:e=>v(e.target.value),className:"input-smooth w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter your full name",required:"signup"===d}),(0,Dd.jsx)(Od,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"})]})]}),(0,Dd.jsxs)("div",{children:[(0,Dd.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,Dd.jsxs)("div",{className:"relative",children:[(0,Dd.jsx)("input",{type:"email",value:f,onChange:e=>p(e.target.value),className:"input-smooth w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter your email",required:!0}),(0,Dd.jsx)(Td,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"})]})]}),"reset"!==d&&(0,Dd.jsxs)("div",{children:[(0,Dd.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,Dd.jsxs)("div",{className:"relative",children:[(0,Dd.jsx)("input",{type:b?"text":"password",value:m,onChange:e=>g(e.target.value),className:"input-smooth w-full pl-12 pr-12 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter your password",required:"reset"!==d,minLength:"signup"===d?6:void 0}),(0,Dd.jsx)(Pd,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),(0,Dd.jsx)("button",{type:"button",onClick:()=>x(!b),className:"scale-active absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 transition-colors",children:b?(0,Dd.jsx)(Id,{className:"w-5 h-5"}):(0,Dd.jsx)(Md,{className:"w-5 h-5"})})]})]}),(0,Dd.jsxs)("button",{type:"submit",disabled:w||S||l,className:"btn-smooth w-full bg-gray-900 hover:bg-gray-800 text-white py-4 px-6 rounded-xl font-medium transition-all duration-200 flex items-center justify-center space-x-3 disabled:opacity-50",children:[w?(0,Dd.jsx)("div",{className:"spinner w-5 h-5 border-2 border-white border-t-transparent rounded-full"}):null,(0,Dd.jsx)("span",{children:w?"Loading...":"login"===d?"Sign In":"signup"===d?"Create Account":"Send Reset Email"})]})]}),(0,Dd.jsxs)("div",{className:"text-center space-y-2",children:["login"===d&&(0,Dd.jsxs)(Dd.Fragment,{children:[(0,Dd.jsx)("button",{onClick:()=>{h("signup"),E(null),C(null)},className:"text-blue-600 hover:text-blue-700 text-sm font-medium transition-colors",children:"Don't have an account? Sign up"}),(0,Dd.jsx)("div",{children:(0,Dd.jsx)("button",{onClick:()=>{h("reset"),E(null),C(null)},className:"text-gray-600 hover:text-gray-700 text-sm transition-colors",children:"Forgot your password?"})})]}),"signup"===d&&(0,Dd.jsx)("button",{onClick:A,className:"text-blue-600 hover:text-blue-700 text-sm font-medium transition-colors",children:"Already have an account? Sign in"}),"reset"===d&&(0,Dd.jsx)("button",{onClick:A,className:"text-blue-600 hover:text-blue-700 text-sm font-medium transition-colors",children:"Back to sign in"})]}),_&&(0,Dd.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:(0,Dd.jsx)("p",{className:"text-green-600 text-sm",children:_})}),N&&(0,Dd.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:(0,Dd.jsx)("p",{className:"text-red-600 text-sm",children:N})}),c&&(0,Dd.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:(0,Dd.jsx)("p",{className:"text-red-600 text-sm",children:c})}),(0,Dd.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})]})})})}):null},Rd=Ed("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Ud=Ed("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Fd=Ed("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Bd=e=>{let{onAddCard:t}=e;return(0,Dd.jsx)("div",{className:"relative overflow-hidden",children:(0,Dd.jsxs)("div",{className:"relative h-48 w-full rounded-2xl bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-xl border border-white/20 shadow-2xl hover:shadow-3xl transition-all duration-500 group",children:[(0,Dd.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/20 via-purple-500/20 to-pink-500/20 rounded-2xl"}),(0,Dd.jsx)("div",{className:"absolute top-4 right-4 w-16 h-16 bg-white/10 rounded-full blur-xl animate-pulse"}),(0,Dd.jsx)("div",{className:"absolute bottom-8 left-8 w-20 h-20 bg-purple-400/20 rounded-full blur-xl animate-pulse delay-1000"}),(0,Dd.jsxs)("div",{className:"relative z-10 h-full flex flex-col justify-between p-6",children:[(0,Dd.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Dd.jsx)("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center backdrop-blur-sm",children:(0,Dd.jsx)(Rd,{className:"w-6 h-6 text-white",strokeWidth:2})}),(0,Dd.jsx)("button",{onClick:()=>{t&&t()},className:"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-lg flex items-center justify-center hover:bg-white/30 transition-all duration-300 group-hover:scale-110",children:(0,Dd.jsx)(Ud,{className:"w-5 h-5 text-white",strokeWidth:2})})]}),(0,Dd.jsx)("div",{className:"flex-1 flex flex-col justify-center",children:(0,Dd.jsxs)("div",{className:"space-y-2",children:[(0,Dd.jsx)("h3",{className:"text-xl font-bold text-white/90",children:"Add Bank Card"}),(0,Dd.jsx)("p",{className:"text-white/70 text-sm leading-relaxed",children:"Connect your bank account to track expenses and manage your finances"})]})}),(0,Dd.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Dd.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Dd.jsx)(Fd,{className:"w-4 h-4 text-white/60"}),(0,Dd.jsx)("span",{className:"text-white/60 text-xs font-medium",children:"Secure Connection"})]}),(0,Dd.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Dd.jsx)("div",{className:"w-2 h-2 bg-white/40 rounded-full"}),(0,Dd.jsx)("div",{className:"w-2 h-2 bg-white/40 rounded-full"}),(0,Dd.jsx)("div",{className:"w-2 h-2 bg-white/40 rounded-full"}),(0,Dd.jsx)("div",{className:"w-2 h-2 bg-white/40 rounded-full"})]})]})]}),(0,Dd.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000"})]})})},zd=e=>{let{isOpen:t,onClose:n,title:r,children:i,size:a="md"}=e;if(!t)return null;return(0,Dd.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Dd.jsxs)("div",{className:"bg-white rounded-2xl p-6 m-4 w-full ".concat({sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl"}[a]," max-h-screen overflow-y-auto"),children:[(0,Dd.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Dd.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:r}),(0,Dd.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 transition-colors",children:(0,Dd.jsx)(Cd,{className:"w-6 h-6"})})]}),i]})})},Vd=e=>{let{isOpen:t,onClose:n,onSuccess:i}=e;const{user:a}=bd(),[o,s]=(0,r.useState)(!1),[l,c]=(0,r.useState)(null),[u,d]=(0,r.useState)("consent"),[h,f]=(0,r.useState)(180),[p,m]=(0,r.useState)(null),[g,y]=(0,r.useState)("");(0,r.useEffect)(()=>{t&&(d("consent"),f(180),m(null),y(""))},[t]),(0,r.useEffect)(()=>{console.log("Step changed to:",u)},[u]);const v=async()=>{try{c(null),s(!0),d("connecting");const e=await kd.consents.start(h);if(!e.success)throw new Error(e.error||"Failed to start consent flow");m(e.consentId),d("connecting"),window.location.href=e.redirectUrl}catch(l){console.error("Error starting consent:",l),c(l.message),d("error")}finally{s(!1)}},b=()=>(0,Dd.jsxs)("div",{className:"space-y-6",children:[(0,Dd.jsxs)("div",{className:"text-center",children:[(0,Dd.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Connect Your Bank Account"}),(0,Dd.jsx)("p",{className:"text-sm text-gray-600",children:"Securely connect your bank account to automatically import transactions and track your expenses."})]}),(0,Dd.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,Dd.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"What we'll access:"}),(0,Dd.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,Dd.jsx)("li",{children:"\u2022 Account information (names, types, balances)"}),(0,Dd.jsx)("li",{children:"\u2022 Transaction history (last 90 days)"}),(0,Dd.jsx)("li",{children:"\u2022 Real-time balance updates"})]})]}),(0,Dd.jsxs)("div",{className:"space-y-4",children:[(0,Dd.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Consent Duration"}),(0,Dd.jsxs)("select",{value:h,onChange:e=>f(Number(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Dd.jsx)("option",{value:90,children:"3 months"}),(0,Dd.jsx)("option",{value:180,children:"6 months"}),(0,Dd.jsx)("option",{value:365,children:"12 months"})]}),(0,Dd.jsx)("p",{className:"text-xs text-gray-500",children:"You can revoke access at any time from your account settings."})]}),(0,Dd.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[(0,Dd.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Security & Privacy:"}),(0,Dd.jsxs)("ul",{className:"text-sm text-gray-700 space-y-1",children:[(0,Dd.jsx)("li",{children:"\u2022 Your data is encrypted and secure"}),(0,Dd.jsx)("li",{children:"\u2022 We never store your banking credentials"}),(0,Dd.jsx)("li",{children:"\u2022 Access is read-only (we cannot make transactions)"}),(0,Dd.jsx)("li",{children:"\u2022 You can revoke access anytime"})]})]}),(0,Dd.jsxs)("div",{className:"flex space-x-3",children:[(0,Dd.jsx)("button",{onClick:n,className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),(0,Dd.jsx)("button",{onClick:v,disabled:o,className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:o?"Connecting...":"Connect Bank Account"})]})]});return(0,r.useEffect)(()=>{const e=new URLSearchParams(window.location.search),t=e.get("success"),n=e.get("error"),r=e.get("consentId");"true"===t&&r?(m(r),async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;console.log("handleConsentSuccess called with consentIdParam:",e),d("syncing"),y("Syncing your accounts and transactions...");const t=e||p;if(!t)return console.error("No consent ID available for polling"),void d("error");let r=0;const a=setInterval(async()=>{try{r++,console.log("Polling attempt ".concat(r," for consent ").concat(t));const e=await kd.consents.getDetails(t);e.success&&e.consent.accounts.length>0?(clearInterval(a),console.log("Success! Found accounts, moving to success step"),d("success"),y("Successfully connected ".concat(e.consent.accounts.length," account(s)")),i&&i()):console.log("Consent found but no accounts yet, continuing to poll...")}catch(n){console.error("Error polling sync status (attempt ".concat(r,"):"),n),r>=5&&console.log("Multiple polling failures, but continuing...")}},2e3);setTimeout(()=>{clearInterval(a),console.log("Polling timeout reached, moving to success step"),"syncing"===u&&(d("success"),y("Connection completed. Some data may still be syncing."))},3e4)}(r),window.history.replaceState({},document.title,window.location.pathname)):n&&(d("error"),window.history.replaceState({},document.title,window.location.pathname))},[]),(0,r.useEffect)(()=>{"success"===u&&i&&i()},[u,i]),(0,Dd.jsx)(zd,{isOpen:t,onClose:n,title:"Connect Bank Account",size:"md",children:(()=>{switch(u){case"consent":default:return b();case"connecting":return(0,Dd.jsxs)("div",{className:"text-center space-y-4",children:[(0,Dd.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,Dd.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Redirecting to Your Bank"}),(0,Dd.jsx)("p",{className:"text-sm text-gray-600",children:"You'll be redirected to your bank's secure login page to authorize access to your account information."})]});case"syncing":return(0,Dd.jsxs)("div",{className:"text-center space-y-4",children:[(0,Dd.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),(0,Dd.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Syncing Your Data"}),(0,Dd.jsx)("p",{className:"text-sm text-gray-600",children:g||"Connecting to your bank and importing your account information..."}),(0,Dd.jsx)("p",{className:"text-xs text-gray-500",children:"This may take a few minutes. You can close this window and check back later."})]});case"success":return(0,Dd.jsxs)("div",{className:"text-center space-y-4",children:[(0,Dd.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:(0,Dd.jsx)("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,Dd.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Successfully Connected!"}),(0,Dd.jsx)("p",{className:"text-sm text-gray-600",children:g||"Your bank account has been connected successfully."}),(0,Dd.jsx)("button",{onClick:()=>{i&&i(),n()},className:"w-full px-4 py-2 text-sm font-medium text-white bg-green-600 border border-transparent rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Continue"})]});case"error":return(0,Dd.jsxs)("div",{className:"text-center space-y-4",children:[(0,Dd.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:(0,Dd.jsx)("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,Dd.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Connection Failed"}),(0,Dd.jsx)("p",{className:"text-sm text-gray-600",children:l||"There was an error connecting your bank account. Please try again."}),(0,Dd.jsxs)("div",{className:"flex space-x-3",children:[(0,Dd.jsx)("button",{onClick:()=>d("consent"),className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Try Again"}),(0,Dd.jsx)("button",{onClick:n,className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Cancel"})]})]})}})()})},Wd=Ed("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Hd=e=>{let{user:t,onSignOut:n,isOpen:i,onToggle:a,onClose:o}=e;const s=(0,r.useRef)(null);(0,r.useEffect)(()=>{const e=e=>{s.current&&!s.current.contains(e.target)&&o()};return i&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[i,o]);return i?(0,Dd.jsxs)("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",ref:s,children:[(0,Dd.jsx)("div",{className:"px-4 py-3 border-b border-gray-100",children:(0,Dd.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Dd.jsx)("div",{className:"w-10 h-10 bg-black rounded-full flex items-center justify-center",children:(0,Dd.jsx)(Od,{className:"w-5 h-5 text-white"})}),(0,Dd.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Dd.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:(null===t||void 0===t?void 0:t.displayName)||"User"}),(0,Dd.jsx)("p",{className:"text-xs text-gray-500 truncate",children:null===t||void 0===t?void 0:t.email})]})]})}),(0,Dd.jsx)("div",{className:"py-1",children:(0,Dd.jsxs)("button",{onClick:()=>{n(),o()},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center space-x-3 transition-colors",children:[(0,Dd.jsx)(Wd,{className:"w-4 h-4"}),(0,Dd.jsx)("span",{children:"Sign Out"})]})})]}):null},qd=e=>{let{currentView:t,setCurrentView:n}=e;const r=[{id:"home",label:"Home",icon:(0,Dd.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})},{id:"transactions",label:"Transactions",icon:(0,Dd.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})},{id:"splitwise",label:"Split",icon:(0,Dd.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})},{id:"stats",label:"Stats",icon:(0,Dd.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{id:"advisor",label:"Advisor",icon:(0,Dd.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}];return(0,Dd.jsx)("div",{className:"bg-white border-t border-gray-200",children:(0,Dd.jsx)("div",{className:"flex justify-around",children:r.map(e=>(0,Dd.jsxs)("button",{onClick:()=>n(e.id),className:"flex flex-col items-center py-3 px-4 flex-1 transition-colors duration-200 ".concat(t===e.id?"text-blue-600":"text-gray-500 hover:text-gray-700"),children:[(0,Dd.jsx)("div",{className:"transition-colors duration-200 ".concat(t===e.id?"text-blue-600":"text-gray-500"),children:e.icon}),(0,Dd.jsx)("span",{className:"text-xs mt-1 font-medium",children:e.label})]},e.id))})})},Kd=e=>{var t;let{onConnectBank:n,currentView:i,setCurrentView:a,setShowAddTransaction:o,userName:s,userPhotoURL:l,onSignOut:c,onSignIn:u,authLoading:d,authError:h,isAuthenticated:f,user:p}=e;const[m,g]=(0,r.useState)(!1),[y,v]=(0,r.useState)(!1);return(0,Dd.jsxs)("div",{className:"bg-gray-100 min-h-screen flex flex-col",children:[(0,Dd.jsxs)("div",{className:"max-w-sm mx-auto bg-white rounded-3xl shadow-2xl overflow-hidden flex flex-col h-screen max-h-screen",children:[(0,Dd.jsx)("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:(0,Dd.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Dd.jsx)("div",{className:"flex items-center"}),(0,Dd.jsx)("div",{className:"flex items-center space-x-3",children:(0,Dd.jsxs)("div",{className:"relative",children:[(0,Dd.jsx)("button",{onClick:()=>{f?v(!y):u&&u()},disabled:d,className:"flex items-center justify-center w-8 h-8 rounded-full bg-black hover:bg-gray-800 transition-colors disabled:opacity-50",children:d?(0,Dd.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):null!==p&&void 0!==p&&p.photoURL?(0,Dd.jsx)("img",{src:p.photoURL,alt:"Profile",className:"h-8 w-8 rounded-full object-cover"}):(0,Dd.jsx)("span",{className:"text-sm font-medium text-white",children:null!==p&&void 0!==p&&p.displayName?p.displayName.charAt(0).toUpperCase():(null===p||void 0===p||null===(t=p.email)||void 0===t?void 0:t.charAt(0).toUpperCase())||"U"})}),f&&(0,Dd.jsx)(Hd,{user:p,onSignOut:c,isOpen:y,onClose:()=>v(!1)})]})})]})}),(0,Dd.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,Dd.jsxs)("div",{className:"px-6 py-6",children:[(0,Dd.jsxs)("div",{className:"mb-6",children:[(0,Dd.jsx)("h1",{className:"text-xl font-bold text-gray-900 mb-1",children:"Welcome back!"}),(0,Dd.jsx)("p",{className:"text-gray-600 text-sm",children:"Here's your financial overview"})]}),(0,Dd.jsx)("div",{className:"space-y-4 mb-6",children:(0,Dd.jsx)(Bd,{onAddCard:()=>{n?n():g(!0)}})}),(0,Dd.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 mb-6",children:[(0,Dd.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Dd.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Transactions"}),(0,Dd.jsx)("button",{onClick:()=>a("transactions"),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View All"})]}),(0,Dd.jsxs)("div",{className:"text-center py-6",children:[(0,Dd.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,Dd.jsx)("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),(0,Dd.jsx)("h3",{className:"text-base font-medium text-gray-900 mb-2",children:"No transactions yet"}),(0,Dd.jsx)("p",{className:"text-gray-500 text-sm",children:"Connect your bank account to see your transactions here."})]})]})]})}),(0,Dd.jsx)(qd,{currentView:i,setCurrentView:a})]}),(0,Dd.jsx)(Vd,{isOpen:m,onClose:()=>g(!1)})]})},Gd=(e,t)=>{const n=e.find(e=>e.id===t);if(n)return n;const r=e.find(e=>e.name===t);if(r)return r;return{FOOD_AND_DRINK:{name:"Food & Drink",icon:"\ud83c\udf7d\ufe0f",color:"bg-orange-100",type:"expense"},TRANSPORT:{name:"Transport",icon:"\ud83d\ude97",color:"bg-blue-100",type:"expense"},SHOPPING:{name:"Shopping",icon:"\ud83d\udecd\ufe0f",color:"bg-purple-100",type:"expense"},ENTERTAINMENT:{name:"Entertainment",icon:"\ud83c\udfac",color:"bg-pink-100",type:"expense"},HEALTH:{name:"Health",icon:"\ud83c\udfe5",color:"bg-red-100",type:"expense"},EDUCATION:{name:"Education",icon:"\ud83d\udcda",color:"bg-indigo-100",type:"expense"},INCOME:{name:"Income",icon:"\ud83d\udcb0",color:"bg-green-100",type:"income"},TRANSFER:{name:"Transfer",icon:"\ud83d\udd04",color:"bg-gray-100",type:"transfer"},UTILITIES:{name:"Utilities",icon:"\u26a1",color:"bg-yellow-100",type:"expense"},RENT:{name:"Rent",icon:"\ud83c\udfe0",color:"bg-teal-100",type:"expense"}}[t]||{name:t||"Other",icon:"\u2753",color:"bg-gray-100",type:"expense"}},Yd=e=>{let{categoryId:t,categories:n,size:r="md"}=e;const i=Gd(n,t);return(0,Dd.jsx)("div",{className:"".concat(i.color," rounded-lg flex items-center justify-center ").concat({sm:"w-8 h-8 text-lg",md:"w-10 h-10 text-lg",lg:"w-12 h-12 text-xl"}[r]),children:i.icon})},$d=e=>{let{transaction:t,categories:n=[],onEdit:r,onDelete:i,showActions:a=!1,variant:o="detailed"}=e;if(!t)return null;Gd(n,t.category);const s=new Date(t.date).toLocaleDateString(),l=t.amount>0,c=l?"text-green-600":"text-red-600";return"simple"===o?(0,Dd.jsxs)("div",{className:"flex items-center justify-between py-2 w-full box-border",children:[(0,Dd.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Dd.jsx)(Yd,{categoryId:t.category,categories:n,size:"sm"}),(0,Dd.jsxs)("div",{children:[(0,Dd.jsx)("h4",{className:"font-medium text-gray-900 text-sm",children:t.description}),(0,Dd.jsx)("p",{className:"text-gray-500 text-xs",children:s})]})]}),(0,Dd.jsx)("div",{className:"text-right",children:(0,Dd.jsxs)("p",{className:"font-semibold text-sm ".concat(c),children:[l?"+":"","$",Math.abs(t.amount).toFixed(2)]})})]}):(0,Dd.jsx)("div",{className:"card-smooth bg-white rounded-lg p-3 shadow-sm border border-gray-100 hover:shadow-md transition-all duration-200 w-full box-border",children:(0,Dd.jsx)("div",{className:"flex items-start justify-between",children:(0,Dd.jsxs)("div",{className:"flex items-start space-x-3 flex-1",children:[(0,Dd.jsx)("div",{className:"icon-smooth mt-0.5",children:(0,Dd.jsx)(Yd,{categoryId:t.category,categories:n,size:"sm"})}),(0,Dd.jsx)("div",{className:"flex-1 min-w-0",children:(0,Dd.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Dd.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Dd.jsx)("h3",{className:"font-medium text-gray-900 text-sm truncate",children:t.description}),(0,Dd.jsx)("p",{className:"text-xs text-gray-500 mt-0.5",children:s})]}),(0,Dd.jsx)("div",{className:"text-right ml-2 flex-shrink-0",children:(0,Dd.jsxs)("p",{className:"font-semibold text-sm ".concat(c),children:[l?"+":"","$",Math.abs(t.amount).toFixed(2)]})})]})})]})})})},Qd=e=>{let{transactions:t=[],categories:n=[],onEditTransaction:r,onDeleteTransaction:i,showActions:a=!1,variant:o="detailed",emptyMessage:s="No transactions found"}=e;return t&&0!==t.length?(0,Dd.jsx)("div",{className:"space-y-2 w-full box-border",children:t.map(e=>(0,Dd.jsx)($d,{transaction:e,categories:n,onEdit:r,onDelete:i,showActions:a,variant:o},e.id))}):(0,Dd.jsxs)("div",{className:"text-center py-8",children:[(0,Dd.jsx)("div",{className:"mb-4",children:(0,Dd.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto",children:(0,Dd.jsx)("span",{className:"text-gray-400 text-2xl",children:"\ud83d\udcca"})})}),(0,Dd.jsx)("p",{className:"text-gray-500 text-lg font-medium mb-2",children:"No Transactions Yet"}),(0,Dd.jsx)("p",{className:"text-gray-400 text-sm",children:s})]})},Xd=e=>{var t;let{currentView:n,setCurrentView:i,userName:a,userPhotoURL:o,onSignOut:s,onSignIn:l,authLoading:c,authError:u,isAuthenticated:d,user:h}=e;const[f,p]=(0,r.useState)(!1);return(0,Dd.jsx)("div",{className:"bg-gray-100 min-h-screen flex flex-col",children:(0,Dd.jsxs)("div",{className:"max-w-sm mx-auto bg-white rounded-3xl shadow-2xl overflow-hidden flex flex-col h-screen max-h-screen",children:[(0,Dd.jsx)("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:(0,Dd.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Dd.jsx)("div",{className:"flex items-center"}),(0,Dd.jsx)("div",{className:"flex items-center space-x-3",children:(0,Dd.jsxs)("div",{className:"relative",children:[(0,Dd.jsx)("button",{onClick:()=>{d?p(!f):l&&l()},disabled:c,className:"flex items-center justify-center w-8 h-8 rounded-full bg-black hover:bg-gray-800 transition-colors disabled:opacity-50",children:c?(0,Dd.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):null!==h&&void 0!==h&&h.photoURL?(0,Dd.jsx)("img",{src:h.photoURL,alt:"Profile",className:"h-8 w-8 rounded-full object-cover"}):(0,Dd.jsx)("span",{className:"text-sm font-medium text-white",children:null!==h&&void 0!==h&&h.displayName?h.displayName.charAt(0).toUpperCase():(null===h||void 0===h||null===(t=h.email)||void 0===t?void 0:t.charAt(0).toUpperCase())||"U"})}),d&&(0,Dd.jsx)(Hd,{user:h,onSignOut:s,isOpen:f,onClose:()=>p(!1)})]})})]})}),(0,Dd.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,Dd.jsxs)("div",{className:"px-6 py-6",children:[(0,Dd.jsxs)("div",{className:"mb-6",children:[(0,Dd.jsx)("h1",{className:"text-xl font-bold text-gray-900 mb-1",children:"All Transactions"}),(0,Dd.jsx)("p",{className:"text-gray-600 text-sm",children:"Manage your transactions"})]}),(0,Dd.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 mb-6",children:[(0,Dd.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,Dd.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Transactions"})}),(0,Dd.jsx)("div",{className:"w-full",children:(0,Dd.jsx)(Qd,{transactions:[],categories:[],onEditTransaction:()=>{},onDeleteTransaction:()=>{},showActions:!1,variant:"detailed",emptyMessage:"Connect your bank account to see your transactions here."})})]})]})}),(0,Dd.jsx)(qd,{currentView:n,setCurrentView:i})]})})};function Jd(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Jd(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Zd(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Jd(e))&&(r&&(r+=" "),r+=t);return r}var eh=n(7820),th=n.n(eh),nh=n(7770),rh=n.n(nh),ih=e=>0===e?0:e>0?1:-1,ah=e=>"number"==typeof e&&e!=+e,oh=e=>"string"===typeof e&&e.indexOf("%")===e.length-1,sh=e=>("number"===typeof e||e instanceof Number)&&!ah(e),lh=e=>sh(e)||"string"===typeof e,ch=0,uh=e=>{var t=++ch;return"".concat(e||"").concat(t)},dh=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!sh(e)&&"string"!==typeof e)return r;if(oh(e)){if(null==t)return r;var a=e.indexOf("%");n=t*parseFloat(e.slice(0,a))/100}else n=+e;return ah(n)&&(n=r),i&&null!=t&&n>t&&(n=t),n},hh=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1},fh=(e,t)=>sh(e)&&sh(t)?n=>e+n*(t-e):()=>t;function ph(e,t,n){return sh(e)&&sh(t)?e+n*(t-e):t}function mh(e,t,n){if(e&&e.length)return e.find(e=>e&&("function"===typeof t?t(e):rh()(e,t))===n)}var gh=e=>null===e||"undefined"===typeof e,yh=e=>gh(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),vh=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]};function bh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function xh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bh(Object(n),!0).forEach(function(t){wh(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bh(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function wh(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kh=(0,r.forwardRef)((e,t)=>{var{aspect:n,initialDimension:i={width:-1,height:-1},width:a="100%",height:o="100%",minWidth:s=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:h,className:f,onResize:p,style:m={}}=e,g=(0,r.useRef)(null),y=(0,r.useRef)();y.current=p,(0,r.useImperativeHandle)(t,()=>g.current);var[v,b]=(0,r.useState)({containerWidth:i.width,containerHeight:i.height}),x=(0,r.useCallback)((e,t)=>{b(n=>{var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}})},[]);(0,r.useEffect)(()=>{var e=e=>{var t,{width:n,height:r}=e[0].contentRect;x(n,r),null===(t=y.current)||void 0===t||t.call(y,n,r)};d>0&&(e=th()(e,d,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:n,height:r}=g.current.getBoundingClientRect();return x(n,r),t.observe(g.current),()=>{t.disconnect()}},[x,d]);var w=(0,r.useMemo)(()=>{var{containerWidth:e,containerHeight:t}=v;if(e<0||t<0)return null;vh(oh(a)||oh(o),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",a,o),vh(!n||n>0,"The aspect(%s) must be greater than zero.",n);var i=oh(a)?e:a,d=oh(o)?t:o;return n&&n>0&&(i?d=i/n:d&&(i=d*n),c&&d>c&&(d=c)),vh(i>0||d>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",i,d,a,o,s,l,n),r.Children.map(u,e=>(0,r.cloneElement)(e,{width:i,height:d,style:xh({width:i,height:d},e.props.style)}))},[n,u,o,c,l,s,v,a]);return r.createElement("div",{id:h?"".concat(h):void 0,className:Zd("recharts-responsive-container",f),style:xh(xh({},m),{},{width:a,height:o,minWidth:s,minHeight:l,maxHeight:c}),ref:g},r.createElement("div",{style:{width:0,height:0,overflow:"visible"}},w))});function Sh(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var jh=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),Nh=()=>Math.random().toString(36).substring(7).split("").join("."),Eh={INIT:"@@redux/INIT".concat(Nh()),REPLACE:"@@redux/REPLACE".concat(Nh()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(Nh())};function _h(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function Ch(e,t,n){if("function"!==typeof e)throw new Error(Sh(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Sh(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Sh(1));return n(Ch)(e,t)}let r=e,i=t,a=new Map,o=a,s=0,l=!1;function c(){o===a&&(o=new Map,a.forEach((e,t)=>{o.set(t,e)}))}function u(){if(l)throw new Error(Sh(3));return i}function d(e){if("function"!==typeof e)throw new Error(Sh(4));if(l)throw new Error(Sh(5));let t=!0;c();const n=s++;return o.set(n,e),function(){if(t){if(l)throw new Error(Sh(6));t=!1,c(),o.delete(n),a=null}}}function h(e){if(!_h(e))throw new Error(Sh(7));if("undefined"===typeof e.type)throw new Error(Sh(8));if("string"!==typeof e.type)throw new Error(Sh(17));if(l)throw new Error(Sh(9));try{l=!0,i=r(i,e)}finally{l=!1}return(a=o).forEach(e=>{e()}),e}h({type:Eh.INIT});return{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Sh(10));r=e,h({type:Eh.REPLACE})},[jh]:function(){const e=d;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(Sh(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[jh](){return this}}}}}function Ah(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const r=t[o];0,"function"===typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let i;try{!function(e){Object.keys(e).forEach(t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:Eh.INIT}))throw new Error(Sh(12));if("undefined"===typeof n(void 0,{type:Eh.PROBE_UNKNOWN_ACTION()}))throw new Error(Sh(13))})}(n)}catch(a){i=a}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(i)throw i;let a=!1;const o={};for(let i=0;i<r.length;i++){const s=r[i],l=n[s],c=e[s],u=l(c,t);if("undefined"===typeof u){t&&t.type;throw new Error(Sh(14))}o[s]=u,a=a||u!==c}return a=a||r.length!==Object.keys(e).length,a?o:e}}function Oh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce((e,t)=>function(){return e(t(...arguments))})}function Th(e){return _h(e)&&"type"in e&&"string"===typeof e.type}function Ph(e){return t=>{let{dispatch:n,getState:r}=t;return t=>i=>"function"===typeof i?i(n,r,e):t(i)}}var Ih=Ph(),Mh=Ph,Dh=Symbol.for("immer-nothing"),Lh=Symbol.for("immer-draftable"),Rh=Symbol.for("immer-state");function Uh(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var Fh=Object.getPrototypeOf;function Bh(e){return!!e&&!!e[Rh]}function zh(e){var t;return!!e&&(Wh(e)||Array.isArray(e)||!!e[Lh]||!(null===(t=e.constructor)||void 0===t||!t[Lh])||Yh(e)||$h(e))}var Vh=Object.prototype.constructor.toString();function Wh(e){if(!e||"object"!==typeof e)return!1;const t=Fh(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Vh}function Hh(e,t){0===qh(e)?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function qh(e){const t=e[Rh];return t?t.type_:Array.isArray(e)?1:Yh(e)?2:$h(e)?3:0}function Kh(e,t){return 2===qh(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Gh(e,t,n){const r=qh(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Yh(e){return e instanceof Map}function $h(e){return e instanceof Set}function Qh(e){return e.copy_||e.base_}function Xh(e,t){if(Yh(e))return new Map(e);if($h(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Wh(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[Rh];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Fh(e),t)}{const t=Fh(e);if(null!==t&&n)return u({},e);const r=Object.create(t);return Object.assign(r,e)}}function Jh(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ef(e)||Bh(e)||!zh(e)||(qh(e)>1&&(e.set=e.add=e.clear=e.delete=Zh),Object.freeze(e),t&&Object.entries(e).forEach(e=>{let[t,n]=e;return Jh(n,!0)})),e}function Zh(){Uh(2)}function ef(e){return Object.isFrozen(e)}var tf,nf={};function rf(e){const t=nf[e];return t||Uh(0),t}function af(){return tf}function of(e,t){t&&(rf("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function sf(e){lf(e),e.drafts_.forEach(uf),e.drafts_=null}function lf(e){e===tf&&(tf=e.parent_)}function cf(e){return tf={drafts_:[],parent_:tf,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function uf(e){const t=e[Rh];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function df(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[Rh].modified_&&(sf(t),Uh(4)),zh(e)&&(e=hf(t,e),t.parent_||pf(t,e)),t.patches_&&rf("Patches").generateReplacementPatches_(n[Rh].base_,e,t.patches_,t.inversePatches_)):e=hf(t,n,[]),sf(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Dh?e:void 0}function hf(e,t,n){if(ef(t))return t;const r=t[Rh];if(!r)return Hh(t,(i,a)=>ff(e,r,t,i,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return pf(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,a=!1;3===r.type_&&(i=new Set(t),t.clear(),a=!0),Hh(i,(i,o)=>ff(e,r,t,i,o,n,a)),pf(e,t,!1),n&&e.patches_&&rf("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function ff(e,t,n,r,i,a,o){if(Bh(i)){const o=hf(e,i,a&&t&&3!==t.type_&&!Kh(t.assigned_,r)?a.concat(r):void 0);if(Gh(n,r,o),!Bh(o))return;e.canAutoFreeze_=!1}else o&&n.add(i);if(zh(i)&&!ef(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;hf(e,i),t&&t.scope_.parent_||"symbol"===typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||pf(e,i)}}function pf(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Jh(t,n)}var mf={get(e,t){if(t===Rh)return e;const n=Qh(e);if(!Kh(n,t))return function(e,t,n){var r;const i=vf(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!zh(r)?r:r===yf(e.base_,t)?(xf(e),e.copy_[t]=wf(r,e)):r},has:(e,t)=>t in Qh(e),ownKeys:e=>Reflect.ownKeys(Qh(e)),set(e,t,n){const r=vf(Qh(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=yf(Qh(e),t),i=null===r||void 0===r?void 0:r[Rh];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,r)&&(void 0!==n||Kh(e.base_,t)))return!0;xf(e),bf(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==yf(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,xf(e),bf(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=Qh(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){Uh(11)},getPrototypeOf:e=>Fh(e.base_),setPrototypeOf(){Uh(12)}},gf={};function yf(e,t){const n=e[Rh];return(n?Qh(n):e)[t]}function vf(e,t){if(!(t in e))return;let n=Fh(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=Fh(n)}}function bf(e){e.modified_||(e.modified_=!0,e.parent_&&bf(e.parent_))}function xf(e){e.copy_||(e.copy_=Xh(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Hh(mf,(e,t)=>{gf[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),gf.deleteProperty=function(e,t){return gf.set.call(this,e,t,void 0)},gf.set=function(e,t,n){return mf.set.call(this,e[0],t,n,e[0])};function wf(e,t){const n=Yh(e)?rf("MapSet").proxyMap_(e,t):$h(e)?rf("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:af(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=mf;n&&(i=[r],a=gf);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,s}(e,t);return(t?t.scope_:af()).drafts_.push(n),n}function kf(e){return Bh(e)||Uh(10),Sf(e)}function Sf(e){if(!zh(e)||ef(e))return e;const t=e[Rh];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Xh(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Xh(e,!0);return Hh(n,(e,t)=>{Gh(n,e,Sf(t))}),t&&(t.finalized_=!1),n}var jf=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return r.produce(e,e=>t.call(this,e,...a))}}let r;if("function"!==typeof t&&Uh(6),void 0!==n&&"function"!==typeof n&&Uh(7),zh(e)){const i=cf(this),a=wf(e,void 0);let o=!0;try{r=t(a),o=!1}finally{o?sf(i):lf(i)}return of(i,n),df(r,i)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===Dh&&(r=void 0),this.autoFreeze_&&Jh(r,!0),n){const t=[],i=[];rf("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}Uh(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,t=>e(t,...i))};let r,i;const a=this.produce(e,n,(e,t)=>{r=e,i=t});return[a,r,i]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){zh(e)||Uh(8),Bh(e)&&(e=kf(e));const t=cf(this),n=wf(e,void 0);return n[Rh].isManual_=!0,lf(t),n}finishDraft(e,t){const n=e&&e[Rh];n&&n.isManual_||Uh(9);const{scope_:r}=n;return of(r,t),df(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=rf("Patches").applyPatches_;return Bh(e)?r(e,t):this.produce(e,e=>r(e,t))}},Nf=jf.produce;jf.produceWithPatches.bind(jf),jf.setAutoFreeze.bind(jf),jf.setUseStrictShallowCopy.bind(jf),jf.applyPatches.bind(jf),jf.createDraft.bind(jf),jf.finishDraft.bind(jf);const Ef=["reducerPath"];var _f="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Oh:Oh.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Cf(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error(kp(0));return u(u({type:e,payload:n.payload},"meta"in n&&{meta:n.meta}),"error"in n&&{error:n.error})}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>"".concat(e),n.type=e,n.match=t=>Th(t)&&t.type===e,n}var Af=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function Of(e){return zh(e)?Nf(e,()=>{}):e}function Tf(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var Pf="RTK_autoBatch",If=e=>t=>{setTimeout(t,e)},Mf=e=>function(t){const{autoBatch:n=!0}=null!==t&&void 0!==t?t:{};let r=new Af(e);return n&&r.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let r=!0,i=!1,a=!1;const o=new Set,s="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:If(10):"callback"===e.type?e.queueNotification:If(e.timeout),l=()=>{a=!1,i&&(i=!1,o.forEach(e=>e()))};return Object.assign({},n,{subscribe(e){const t=n.subscribe(()=>r&&e());return o.add(e),()=>{t(),o.delete(e)}},dispatch(e){try{var t;return r=!(null!==e&&void 0!==e&&null!==(t=e.meta)&&void 0!==t&&t[Pf]),i=!r,i&&(a||(a=!0,s(l))),n.dispatch(e)}finally{r=!0}}})}}("object"===typeof n?n:void 0)),r};function Df(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=null!==e&&void 0!==e?e:{};let a=new Af;return t&&(function(e){return"boolean"===typeof e}(t)?a.push(Ih):a.push(Mh(t.extraArgument))),a},{reducer:n,middleware:r,devTools:i=!0,duplicateMiddlewareCheck:a=!0,preloadedState:o,enhancers:s}=e||{};let l,c;if("function"===typeof n)l=n;else{if(!_h(n))throw new Error(kp(1));l=Ah(n)}c="function"===typeof r?r(t):t();let d=Oh;i&&(d=_f(u({trace:!1},"object"===typeof i&&i)));const h=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(Sh(15))};const o={getState:i.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return a(e,...n)}},s=t.map(e=>e(o));return a=Oh(...s)(i.dispatch),u(u({},i),{},{dispatch:a})}}(...c),f=Mf(h);return Ch(l,o,d(..."function"===typeof s?s(f):f()))}function Lf(e){const t={},n=[];let r;const i={addCase(e,n){const r="string"===typeof e?e:e.type;if(!r)throw new Error(kp(28));if(r in t)throw new Error(kp(29));return t[r]=n,i},addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(r=e,i)};return e(i),[t,n,r]}var Rf=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e};var Uf=Symbol.for("rtk-slice-createasyncthunk");function Ff(e,t){return"".concat(e,"/").concat(t)}function Bf(){var e;let{creators:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=null===t||void 0===t||null===(e=t.asyncThunk)||void 0===e?void 0:e[Uf];return function(e){const{name:t,reducerPath:r=t}=e;if(!t)throw new Error(kp(11));const i=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return u({_reducerDefinitionType:"asyncThunk",payloadCreator:e},t)}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},a=Object.keys(i),o={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},s={addCase(e,t){const n="string"===typeof e?e:e.type;if(!n)throw new Error(kp(12));if(n in o.sliceCaseReducersByType)throw new Error(kp(13));return o.sliceCaseReducersByType[n]=t,s},addMatcher:(e,t)=>(o.sliceMatchers.push({matcher:e,reducer:t}),s),exposeAction:(e,t)=>(o.actionCreators[e]=t,s),exposeCaseReducer:(e,t)=>(o.sliceCaseReducersByName[e]=t,s)};function l(){const[t={},n=[],r]="function"===typeof e.extraReducers?Lf(e.extraReducers):[e.extraReducers],i=u(u({},t),o.sliceCaseReducersByType);return function(e,t){let n,[r,i,a]=Lf(t);if(function(e){return"function"===typeof e}(e))n=()=>Of(e());else{const t=Of(e);n=()=>t}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,o=[r[t.type],...i.filter(e=>{let{matcher:n}=e;return n(t)}).map(e=>{let{reducer:t}=e;return t})];return 0===o.filter(e=>!!e).length&&(o=[a]),o.reduce((e,n)=>{if(n){if(Bh(e)){const r=n(e,t);return void 0===r?e:r}if(zh(e))return Nf(e,e=>n(e,t));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e},e)}return o.getInitialState=n,o}(e.initialState,e=>{for(let t in i)e.addCase(t,i[t]);for(let t of o.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)})}a.forEach(r=>{const a=i[r],o={reducerName:r,type:Ff(t,r),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(a)?function(e,t,n){let r,i,{type:a,reducerName:o,createNotation:s}=e;if("reducer"in t){if(s&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(kp(17));r=t.reducer,i=t.prepare}else r=t;n.addCase(a,r).exposeCaseReducer(o,r).exposeAction(o,i?Cf(a,i):Cf(a))}(o,a,s):function(e,t,n,r){let{type:i,reducerName:a}=e;if(!r)throw new Error(kp(18));const{payloadCreator:o,fulfilled:s,pending:l,rejected:c,settled:u,options:d}=t,h=r(i,o,d);n.exposeAction(a,h),s&&n.addCase(h.fulfilled,s);l&&n.addCase(h.pending,l);c&&n.addCase(h.rejected,c);u&&n.addMatcher(h.settled,u);n.exposeCaseReducer(a,{fulfilled:s||Wf,pending:l||Wf,rejected:c||Wf,settled:u||Wf})}(o,a,s,n)});const c=e=>e,d=new Map,h=new WeakMap;let f;function p(e,t){return f||(f=l()),f(e,t)}function m(){return f||(f=l()),f.getInitialState()}function g(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(e){let i=e[t];return"undefined"===typeof i&&n&&(i=Tf(h,r,m)),i}function i(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;const r=Tf(d,n,()=>new WeakMap);return Tf(r,t,()=>{const r={};for(const[a,o]of Object.entries(null!==(i=e.selectors)&&void 0!==i?i:{})){var i;r[a]=zf(o,t,()=>Tf(h,t,m),n)}return r})}return{reducerPath:t,getSelectors:i,get selectors(){return i(r)},selectSlice:r}}const y=u(u({name:t,reducer:p,actions:o.actionCreators,caseReducers:o.sliceCaseReducersByName,getInitialState:m},g(r)),{},{injectInto(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reducerPath:n}=t,i=gt(t,Ef);const a=null!==n&&void 0!==n?n:r;return e.inject({reducerPath:a,reducer:p},i),u(u({},y),g(a,!0))}});return y}}function zf(e,t,n,r){function i(i){let a=t(i);"undefined"===typeof a&&r&&(a=n());for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return e(a,...s)}return i.unwrapped=e,i}var Vf=Bf();function Wf(){}var Hf="listener",qf="completed",Kf="cancelled",Gf="task-".concat(Kf),Yf="task-".concat(qf),$f="".concat(Hf,"-").concat(Kf),Qf="".concat(Hf,"-").concat(qf),Xf=class{constructor(e){l(this,"name","TaskAbortError"),l(this,"message",void 0),this.code=e,this.message="".concat("task"," ").concat(Kf," (reason: ").concat(e,")")}},Jf=(e,t)=>{if("function"!==typeof e)throw new TypeError(kp(32))},Zf=()=>{},ep=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zf;return e.catch(t),e},tp=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),np=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},rp=e=>{if(e.aborted){const{reason:t}=e;throw new Xf(t)}};function ip(e,t){let n=Zf;return new Promise((r,i)=>{const a=()=>i(new Xf(e.reason));e.aborted?a():(n=tp(e,a),t.finally(()=>n()).then(r,i))}).finally(()=>{n=Zf})}var ap=e=>t=>ep(ip(e,t).then(t=>(rp(e),t))),op=e=>{const t=ap(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:sp}=Object,lp={},cp="listenerMiddleware",up=(e,t)=>(n,r)=>{Jf(n);const i=new AbortController;var a;a=i,tp(e,()=>np(a,e.reason));const o=(async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Xf?"cancelled":"rejected",error:n}}finally{null===t||void 0===t||t()}})(async()=>{rp(e),rp(i.signal);const t=await n({pause:ap(i.signal),delay:op(i.signal),signal:i.signal});return rp(i.signal),t},()=>np(i,Yf));return null!==r&&void 0!==r&&r.autoJoin&&t.push(o.catch(Zf)),{result:ap(e)(o),cancel(){np(i,Gf)}}},dp=(e,t)=>(n,r)=>ep((async(n,r)=>{rp(t);let i=()=>{};const a=[new Promise((t,r)=>{let a=e({predicate:n,effect:(e,n)=>{n.unsubscribe(),t([e,n.getState(),n.getOriginalState()])}});i=()=>{a(),r()}})];null!=r&&a.push(new Promise(e=>setTimeout(e,r,null)));try{const e=await ip(t,Promise.race(a));return rp(t),e}finally{i()}})(n,r)),hp=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Cf(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(kp(21));return Jf(a),{predicate:i,type:t,effect:a}},fp=sp(e=>{const{type:t,predicate:n,effect:r}=hp(e);return{id:Rf(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(kp(22))}}},{withTypes:()=>fp}),pp=(e,t)=>{const{type:n,effect:r,predicate:i}=hp(t);return Array.from(e.values()).find(e=>("string"===typeof n?e.type===n:e.predicate===i)&&e.effect===r)},mp=e=>{e.pending.forEach(e=>{np(e,$f)})},gp=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},yp=sp(Cf("".concat(cp,"/add")),{withTypes:()=>yp}),vp=Cf("".concat(cp,"/removeAll")),bp=sp(Cf("".concat(cp,"/remove")),{withTypes:()=>bp}),xp=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.error("".concat(cp,"/error"),...t)},wp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new Map,{extra:n,onError:r=xp}=e;Jf(r);const i=e=>{var n;return(e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),null!==t&&void 0!==t&&t.cancelActive&&mp(e)}))(null!==(n=pp(t,e))&&void 0!==n?n:fp(e))};sp(i,{withTypes:()=>i});const a=e=>{const n=pp(t,e);return n&&(n.unsubscribe(),e.cancelActive&&mp(n)),!!n};sp(a,{withTypes:()=>a});const o=async(e,a,o,s)=>{const l=new AbortController,c=dp(i,l.signal),u=[];try{e.pending.add(l),await Promise.resolve(e.effect(a,sp({},o,{getOriginalState:s,condition:(e,t)=>c(e,t).then(Boolean),take:c,delay:op(l.signal),pause:ap(l.signal),extra:n,signal:l.signal,fork:up(l.signal,u),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,n)=>{e!==l&&(np(e,$f),n.delete(e))})},cancel:()=>{np(l,$f),e.pending.delete(l)},throwIfCancelled:()=>{rp(l.signal)}})))}catch(d){d instanceof Xf||gp(r,d,{raisedBy:"effect"})}finally{await Promise.all(u),np(l,Qf),e.pending.delete(l)}},s=(e=>()=>{e.forEach(mp),e.clear()})(t);return{middleware:e=>n=>l=>{if(!Th(l))return n(l);if(yp.match(l))return i(l.payload);if(vp.match(l))return void s();if(bp.match(l))return a(l.payload);let c=e.getState();const u=()=>{if(c===lp)throw new Error(kp(23));return c};let d;try{if(d=n(l),t.size>0){const n=e.getState(),i=Array.from(t.values());for(const t of i){let i=!1;try{i=t.predicate(l,n,c)}catch(h){i=!1,gp(r,h,{raisedBy:"predicate"})}i&&o(t,l,e,u)}}}finally{c=lp}return d},startListening:i,stopListening:a,clearListeners:s}};Symbol.for("rtk-state-proxy-original");function kp(e){return"Minified Redux Toolkit error #".concat(e,"; visit https://redux-toolkit.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}function Sp(e,t){if(t){var n=Number.parseInt(t,10);if(!ah(n))return null===e||void 0===e?void 0:e[n]}}var jp=Vf({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Np=jp.reducer,{createEventEmitter:Ep}=jp.actions;n(7237);function _p(e){e()}var Cp={notify(){},get:()=>[]};function Ap(e,t){let n,r=Cp,i=0,a=!1;function o(){c.onStateChange&&c.onStateChange()}function s(){i++,n||(n=t?t.addNestedSub(o):e.subscribe(o),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){_p(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function l(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=Cp)}const c={addNestedSub:function(e){s();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return a},trySubscribe:function(){a||(a=!0,s())},tryUnsubscribe:function(){a&&(a=!1,l())},getListeners:()=>r};return c}var Op=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),Tp=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),Pp=(()=>Op||Tp?r.useLayoutEffect:r.useEffect)();Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var Ip=Symbol.for("react-redux-context"),Mp="undefined"!==typeof globalThis?globalThis:{};function Dp(){var e;if(!r.createContext)return{};const t=null!==(e=Mp[Ip])&&void 0!==e?e:Mp[Ip]=new Map;let n=t.get(r.createContext);return n||(n=r.createContext(null),t.set(r.createContext,n)),n}var Lp=Dp();var Rp=function(e){const{children:t,context:n,serverState:i,store:a}=e,o=r.useMemo(()=>{const e=Ap(a);return{store:a,subscription:e,getServerState:i?()=>i:void 0}},[a,i]),s=r.useMemo(()=>a.getState(),[a]);Pp(()=>{const{subscription:e}=o;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==a.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[o,s]);const l=n||Lp;return r.createElement(l.Provider,{value:o},t)};var Up=Symbol.for("immer-nothing"),Fp=Symbol.for("immer-draftable"),Bp=Symbol.for("immer-state");function zp(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var Vp=Object.getPrototypeOf;function Wp(e){return!!e&&!!e[Bp]}function Hp(e){var t;return!!e&&(Kp(e)||Array.isArray(e)||!!e[Fp]||!(null===(t=e.constructor)||void 0===t||!t[Fp])||Xp(e)||Jp(e))}var qp=Object.prototype.constructor.toString();function Kp(e){if(!e||"object"!==typeof e)return!1;const t=Vp(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===qp}function Gp(e,t){0===Yp(e)?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function Yp(e){const t=e[Bp];return t?t.type_:Array.isArray(e)?1:Xp(e)?2:Jp(e)?3:0}function $p(e,t){return 2===Yp(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Qp(e,t,n){const r=Yp(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Xp(e){return e instanceof Map}function Jp(e){return e instanceof Set}function Zp(e){return e.copy_||e.base_}function em(e,t){if(Xp(e))return new Map(e);if(Jp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Kp(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[Bp];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Vp(e),t)}{const t=Vp(e);if(null!==t&&n)return u({},e);const r=Object.create(t);return Object.assign(r,e)}}function tm(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return rm(e)||Wp(e)||!Hp(e)||(Yp(e)>1&&(e.set=e.add=e.clear=e.delete=nm),Object.freeze(e),t&&Object.entries(e).forEach(e=>{let[t,n]=e;return tm(n,!0)})),e}function nm(){zp(2)}function rm(e){return Object.isFrozen(e)}var im,am={};function om(e){const t=am[e];return t||zp(0),t}function sm(){return im}function lm(e,t){t&&(om("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function cm(e){um(e),e.drafts_.forEach(hm),e.drafts_=null}function um(e){e===im&&(im=e.parent_)}function dm(e){return im={drafts_:[],parent_:im,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function hm(e){const t=e[Bp];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function fm(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[Bp].modified_&&(cm(t),zp(4)),Hp(e)&&(e=pm(t,e),t.parent_||gm(t,e)),t.patches_&&om("Patches").generateReplacementPatches_(n[Bp].base_,e,t.patches_,t.inversePatches_)):e=pm(t,n,[]),cm(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Up?e:void 0}function pm(e,t,n){if(rm(t))return t;const r=t[Bp];if(!r)return Gp(t,(i,a)=>mm(e,r,t,i,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return gm(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,a=!1;3===r.type_&&(i=new Set(t),t.clear(),a=!0),Gp(i,(i,o)=>mm(e,r,t,i,o,n,a)),gm(e,t,!1),n&&e.patches_&&om("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function mm(e,t,n,r,i,a,o){if(Wp(i)){const o=pm(e,i,a&&t&&3!==t.type_&&!$p(t.assigned_,r)?a.concat(r):void 0);if(Qp(n,r,o),!Wp(o))return;e.canAutoFreeze_=!1}else o&&n.add(i);if(Hp(i)&&!rm(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;pm(e,i),t&&t.scope_.parent_||"symbol"===typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||gm(e,i)}}function gm(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&tm(t,n)}var ym={get(e,t){if(t===Bp)return e;const n=Zp(e);if(!$p(n,t))return function(e,t,n){var r;const i=xm(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!Hp(r)?r:r===bm(e.base_,t)?(km(e),e.copy_[t]=Sm(r,e)):r},has:(e,t)=>t in Zp(e),ownKeys:e=>Reflect.ownKeys(Zp(e)),set(e,t,n){const r=xm(Zp(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=bm(Zp(e),t),i=null===r||void 0===r?void 0:r[Bp];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,r)&&(void 0!==n||$p(e.base_,t)))return!0;km(e),wm(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==bm(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,km(e),wm(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=Zp(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){zp(11)},getPrototypeOf:e=>Vp(e.base_),setPrototypeOf(){zp(12)}},vm={};function bm(e,t){const n=e[Bp];return(n?Zp(n):e)[t]}function xm(e,t){if(!(t in e))return;let n=Vp(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=Vp(n)}}function wm(e){e.modified_||(e.modified_=!0,e.parent_&&wm(e.parent_))}function km(e){e.copy_||(e.copy_=em(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Gp(ym,(e,t)=>{vm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),vm.deleteProperty=function(e,t){return vm.set.call(this,e,t,void 0)},vm.set=function(e,t,n){return ym.set.call(this,e[0],t,n,e[0])};function Sm(e,t){const n=Xp(e)?om("MapSet").proxyMap_(e,t):Jp(e)?om("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:sm(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=ym;n&&(i=[r],a=vm);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,s}(e,t);return(t?t.scope_:sm()).drafts_.push(n),n}function jm(e){if(!Hp(e)||rm(e))return e;const t=e[Bp];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=em(e,t.scope_.immer_.useStrictShallowCopy_)}else n=em(e,!0);return Gp(n,(e,t)=>{Qp(n,e,jm(t))}),t&&(t.finalized_=!1),n}var Nm=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return r.produce(e,e=>t.call(this,e,...a))}}let r;if("function"!==typeof t&&zp(6),void 0!==n&&"function"!==typeof n&&zp(7),Hp(e)){const i=dm(this),a=Sm(e,void 0);let o=!0;try{r=t(a),o=!1}finally{o?cm(i):um(i)}return lm(i,n),fm(r,i)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===Up&&(r=void 0),this.autoFreeze_&&tm(r,!0),n){const t=[],i=[];om("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}zp(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,t=>e(t,...i))};let r,i;const a=this.produce(e,n,(e,t)=>{r=e,i=t});return[a,r,i]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Hp(e)||zp(8),Wp(e)&&(e=function(e){Wp(e)||zp(10);return jm(e)}(e));const t=dm(this),n=Sm(e,void 0);return n[Bp].isManual_=!0,um(t),n}finishDraft(e,t){const n=e&&e[Bp];n&&n.isManual_||zp(9);const{scope_:r}=n;return lm(r,t),fm(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=om("Patches").applyPatches_;return Wp(e)?r(e,t):this.produce(e,e=>r(e,t))}};Nm.produce,Nm.produceWithPatches.bind(Nm),Nm.setAutoFreeze.bind(Nm),Nm.setUseStrictShallowCopy.bind(Nm),Nm.applyPatches.bind(Nm),Nm.createDraft.bind(Nm),Nm.finishDraft.bind(Nm);var Em={active:!1,index:null,dataKey:void 0,coordinate:void 0},_m=Vf({name:"tooltip",initialState:{itemInteraction:{click:Em,hover:Em},axisInteraction:{click:Em,hover:Em},keyboardInteraction:Em,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=kf(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Cm,removeTooltipEntrySettings:Am,setTooltipSettingsState:Om,setActiveMouseOverItemIndex:Tm,mouseLeaveItem:Pm,mouseLeaveChart:Im,setActiveClickItemIndex:Mm,setMouseOverAxisIndex:Dm,setMouseClickAxisIndex:Lm,setSyncInteraction:Rm,setKeyboardInteraction:Um}=_m.actions,Fm=_m.reducer,Bm=Vf({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload)return e.dataStartIndex=0,void(e.dataEndIndex=0);t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;null!=n&&(e.dataStartIndex=n),null!=r&&(e.dataEndIndex=r)}}}),{setChartData:zm,setDataStartEndIndexes:Vm,setComputedData:Wm}=Bm.actions,Hm=Bm.reducer,qm=Vf({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:Km,setLayout:Gm,setChartSize:Ym,setScale:$m}=qm.actions,Qm=qm.reducer;function Xm(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!==typeof e)throw new TypeError(t)}var Jm=e=>Array.isArray(e)?e:[e];function Zm(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every(e=>"function"===typeof e)){const n=e.map(e=>"function"===typeof e?"function ".concat(e.name||"unnamed","()"):typeof e).join(", ");throw new TypeError("".concat(t,"[").concat(n,"]"))}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var eg="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function tg(){return{s:0,v:void 0,o:null,p:null}}function ng(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=t;let i,a=0;function o(){let t=n;const{length:o}=arguments;for(let e=0,n=o;e<n;e++){const n=arguments[e];if("function"===typeof n||"object"===typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t=tg(),e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t=tg(),e.set(n,t)):t=r}}const s=t;let l;if(1===t.s)l=t.v;else if(l=e.apply(null,arguments),a++,r){var c,u,d;const e=null!==(c=null===(u=i)||void 0===u||null===(d=u.deref)||void 0===d?void 0:d.call(u))&&void 0!==c?c:i;null!=e&&r(e,l)&&(l=e,0!==a&&a--);i="object"===typeof l&&null!==l||"function"===typeof l?new eg(l):l}return s.s=1,s.v=l,l}return o.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function rg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i="function"===typeof e?{memoize:e,memoizeOptions:n}:e,a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r,a=0,o=0,s={},l=t.pop();"object"===typeof l&&(s=l,l=t.pop()),Xm(l,"createSelector expects an output function after the inputs, but received: [".concat(typeof l,"]"));const c=u(u({},i),s),{memoize:d,memoizeOptions:h=[],argsMemoize:f=ng,argsMemoizeOptions:p=[],devModeChecks:m={}}=c,g=Jm(h),y=Jm(p),v=Zm(t),b=d(function(){return a++,l.apply(null,arguments)},...g);const x=f(function(){o++;const e=function(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}(v,arguments);return r=b.apply(null,e),r},...y);return Object.assign(x,{resultFunc:l,memoizedResultFunc:b,dependencies:v,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>r,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:d,argsMemoize:f})};return Object.assign(a,{withTypes:()=>a}),a}var ig=rg(ng),ag=Object.assign(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ig;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received ".concat(typeof e);if("object"!==typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ".concat(typeof e));const n=Object.keys(e),r=t(n.map(t=>e[t]),function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((e,t,r)=>(e[n[r]]=t,e),{})});return r},{withTypes:()=>ag}),og=n(8443),sg=(0,r.createContext)(null),lg=e=>e,cg=()=>{var e=(0,r.useContext)(sg);return e?e.store.dispatch:lg},ug=()=>{},dg=()=>ug,hg=(e,t)=>e===t;function fg(e){var t=(0,r.useContext)(sg);return(0,og.useSyncExternalStoreWithSelector)(t?t.subscription.addNestedSub:dg,t?t.store.getState:ug,t?t.store.getState:ug,t?e:ug,hg)}var pg=n(3821),mg=n.n(pg),gg=e=>e.legend.settings;ig([e=>e.legend.payload,gg],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?mg()(r,n):r});function yg(e,t){if((i=e.length)>1)for(var n,r,i,a=1,o=e[t[0]],s=o.length;a<i;++a)for(r=o,o=e[t[a]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}Array.prototype.slice;function vg(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function bg(e){return function(){return e}}function xg(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function wg(e,t){return e[t]}function kg(e){const t=[];return t.key=e,t}function Sg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sg(Object(n),!0).forEach(function(t){Ng(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ng(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Eg=Math.PI/180,_g=e=>180*e/Math.PI,Cg=(e,t,n,r)=>({x:e+Math.cos(-Eg*r)*n,y:t+Math.sin(-Eg*r)*n}),Ag=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},Og=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,o=((e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)})({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=(n-i)/o,l=Math.acos(s);return r>a&&(l=2*Math.PI-l),{radius:o,angle:_g(l),angleInRadian:l}},Tg=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360);return e+360*Math.min(i,a)},Pg=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:a}=Og({x:n,y:r},t),{innerRadius:o,outerRadius:s}=t;if(i<o||i>s)return null;if(0===i)return null;var l,{startAngle:c,endAngle:u}=(e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-360*a,endAngle:n-360*a}})(t),d=a;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;l=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;l=d>=u&&d<=c}return l?jg(jg({},t),{},{radius:i,angle:Tg(d,t)}):null};function Ig(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Mg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Dg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mg(Object(n),!0).forEach(function(t){Lg(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Lg(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rg(e,t,n){return gh(e)||gh(t)?n:lh(t)?rh()(e,t,n):"function"===typeof t?t(e):n}var Ug=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,Fg=(e,t,n,r)=>{if(r)return e.map(e=>e.coordinate);var i,a,o=e.map(e=>(e.coordinate===t&&(i=!0),e.coordinate===n&&(a=!0),e.coordinate));return i||o.push(t),a||o.push(n),o},Bg=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:d,niceTicks:h,axisType:f}=e;if(!o)return null;var p="scaleBand"===s&&o.bandwidth?o.bandwidth()/2:2,m=(t||n)&&"category"===i&&o.bandwidth?o.bandwidth()/p:0;return m="angleAxis"===f&&a&&a.length>=2?2*ih(a[0]-a[1])*m:m,t&&(d||h)?(d||h||[]).map((e,t)=>{var n=r?r.indexOf(e):e;return{coordinate:o(n)+m,value:e,offset:m,index:t}}).filter(e=>!ah(e.coordinate)):l&&c?c.map((e,t)=>({coordinate:o(e)+m,value:e,index:t,offset:m})):o.ticks&&!n&&null!=u?o.ticks(u).map((e,t)=>({coordinate:o(e)+m,value:e,offset:m,index:t})):o.domain().map((e,t)=>({coordinate:o(e)+m,value:r?r[e]:e,index:t,offset:m}))},zg=1e-4,Vg={sign:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,o=0;o<t;++o){var s=ah(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=i,e[o][n][1]=i+s,i=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,a=0,o=e[0].length;a<o;++a){for(i=n=0;n<r;++n)i+=e[n][a][1]||0;if(i)for(n=0;n<r;++n)e[n][a][1]/=i}yg(e,t)}},none:yg,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],a=i.length;r<a;++r){for(var o=0,s=0;o<n;++o)s+=e[o][r][1]||0;i[r][1]+=i[r][0]=-s/2}yg(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,a=0,o=1;o<r;++o){for(var s=0,l=0,c=0;s<i;++s){for(var u=e[t[s]],d=u[o][1]||0,h=(d-(u[o-1][1]||0))/2,f=0;f<s;++f){var p=e[t[f]];h+=(p[o][1]||0)-(p[o-1][1]||0)}l+=d,c+=h*d}n[o-1][1]+=n[o-1][0]=a,l&&(a-=c/l)}n[o-1][1]+=n[o-1][0]=a,yg(e,t)}},positive:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var o=ah(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=i,e[a][n][1]=i+o,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}}},Wg=(e,t,n)=>{var r=Vg[n],i=function(){var e=bg([]),t=xg,n=yg,r=wg;function i(i){var a,o,s=Array.from(e.apply(this,arguments),kg),l=s.length,c=-1;for(const e of i)for(a=0,++c;a<l;++a)(s[a][c]=[0,+r(e,s[a].key,c,i)]).data=e;for(a=0,o=vg(t(s));a<l;++a)s[o[a]].index=a;return n(s,o),s}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:bg(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"===typeof e?e:bg(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?xg:"function"===typeof e?e:bg(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?yg:e,i):n},i}().keys(t).value((e,t)=>+Rg(e,t,0)).order(xg).offset(r);return i(e)};function Hg(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=e;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!gh(i[t.dataKey])){var s=mh(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=Rg(i,gh(o)?t.dataKey:o);return gh(l)?null:t.scale(l)}var qg=(e,t,n)=>{var r;if(null!=e)return r=Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:o}=a,s=o.reduce((e,r)=>{var i=(e=>{var t=e.flat(2).filter(sh);return[Math.min(...t),Math.max(...t)]})(Ig(r,t,n));return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]),[r[0]===1/0?0:r[0],r[1]===-1/0?0:r[1]]},Kg=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Gg=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Yg=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=mg()(t,e=>e.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var l=i[o],c=i[o-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function $g(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Dg(Dg({},t),{},{dataKey:n,payload:r,value:i,name:a})}function Qg(e,t){return e?String(e):"string"===typeof t?t:void 0}var Xg=e=>e.layout.width,Jg=e=>e.layout.height,Zg=e=>e.layout.scale,ey=e=>e.layout.margin,ty=ig(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),ny=ig(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),ry="data-recharts-item-index",iy="data-recharts-item-data-key";function ay(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ay(Object(n),!0).forEach(function(t){sy(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ay(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function sy(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ly=ig([Xg,Jg,ey,e=>e.brush.height,ty,ny,gg,e=>e.legend.size],(e,t,n,r,i,a,o,s)=>{var l=a.reduce((e,t)=>{var{orientation:n}=t;if(!t.mirror&&!t.hide){var r="number"===typeof t.width?t.width:60;return oy(oy({},e),{},{[n]:e[n]+r})}return e},{left:n.left||0,right:n.right||0}),c=i.reduce((e,t)=>{var{orientation:n}=t;return t.mirror||t.hide?e:oy(oy({},e),{},{[n]:rh()(e,"".concat(n))+t.height})},{top:n.top||0,bottom:n.bottom||0}),u=oy(oy({},c),l),d=u.bottom;u.bottom+=r,u=((e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:s}=t;if(("vertical"===s||"horizontal"===s&&"middle"===o)&&"center"!==a&&sh(e[a]))return Dg(Dg({},e),{},{[a]:e[a]+(r||0)});if(("horizontal"===s||"vertical"===s&&"center"===a)&&"middle"!==o&&sh(e[o]))return Dg(Dg({},e),{},{[o]:e[o]+(i||0)})}return e})(u,o,s);var h=e-u.left-u.right,f=t-u.top-u.bottom;return oy(oy({brushBottom:d},u),{},{width:Math.max(h,0),height:Math.max(f,0)})}),cy=ig(ly,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),uy=ig(Xg,Jg,(e,t)=>({x:0,y:0,width:e,height:t})),dy=(0,r.createContext)(null),hy=()=>null!=(0,r.useContext)(dy),fy=e=>e.brush,py=ig([fy,ly,ey],(e,t,n)=>({height:e.height,x:sh(e.x)?e.x:t.left,y:sh(e.y)?e.y:t.top+t.height+t.brushBottom-((null===n||void 0===n?void 0:n.bottom)||0),width:sh(e.width)?e.width:t.width})),my=()=>{var e,t=hy(),n=fg(cy),r=fg(py),i=null===(e=fg(fy))||void 0===e?void 0:e.padding;return t&&r&&i?{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}:n},gy={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},yy=()=>{var e;return null!==(e=fg(ly))&&void 0!==e?e:gy},vy=()=>fg(Xg),by=()=>fg(Jg),xy=e=>e.layout.layoutType,wy=()=>fg(xy),ky=n(9859),Sy=n.n(ky);function jy(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Ny(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class Ey extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oy;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(_y(this,e))}has(e){return super.has(_y(this,e))}set(e,t){return super.set(Cy(this,e),t)}delete(e){return super.delete(Ay(this,e))}}Set;function _y(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):t}function Cy(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function Ay(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function Oy(e){return null!==e&&"object"===typeof e?e.valueOf():e}const Ty=Symbol("implicit");function Py(){var e=new Ey,t=[],n=[],r=Ty;function i(i){let a=e.get(i);if(void 0===a){if(r!==Ty)return r;e.set(i,a=t.push(i)-1)}return n[a%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Ey;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return Py(t,n).unknown(r)},jy.apply(i,arguments),i}function Iy(){var e,t,n=Py().unknown(void 0),r=n.domain,i=n.range,a=0,o=1,s=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=o<a,h=d?o:a,f=d?a:o;e=(f-h)/Math.max(1,n-l+2*c),s&&(e=Math.floor(e)),h+=(f-h-e*(n-l))*u,t=e*(1-l),s&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a}(n).map(function(t){return h+e*t});return i(d?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([a,o]=e,a=+a,o=+o,d()):[a,o]},n.rangeRound=function(e){return[a,o]=e,a=+a,o=+o,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return Iy(r(),[a,o]).round(s).paddingInner(l).paddingOuter(c).align(u)},jy.apply(d(),arguments)}function My(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return My(t())},e}function Dy(){return My(Iy.apply(null,arguments).paddingInner(1))}const Ly=Math.sqrt(50),Ry=Math.sqrt(10),Uy=Math.sqrt(2);function Fy(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Ly?10:a>=Ry?5:a>=Uy?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?Fy(e,t,2*n):[s,l,c]}function By(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,a,o]=r?Fy(t,e,n):Fy(e,t,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function zy(e,t,n){return Fy(e=+e,t=+t,n=+n)[2]}function Vy(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?zy(t,e,n):zy(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Wy(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Hy(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function qy(e){let t,n,r;function i(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<0?i=t+1:a=t}while(i<a)}return i}return 2!==e.length?(t=Wy,n=(t,n)=>Wy(e(t),n),r=(t,n)=>e(t)-n):(t=e===Wy||e===Hy?e:Ky,n=e,r=e),{left:i,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const a=i(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return a>n&&r(e[a-1],t)>-r(e[a],t)?a-1:a},right:function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<=0?i=t+1:a=t}while(i<a)}return i}}}function Ky(){return 0}function Gy(e){return null===e?NaN:+e}const Yy=qy(Wy),$y=Yy.right,Qy=(Yy.left,qy(Gy).center,$y);function Xy(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Jy(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Zy(){}var ev=.7,tv=1/ev,nv="\\s*([+-]?\\d+)\\s*",rv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",iv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",av=/^#([0-9a-f]{3,8})$/,ov=new RegExp("^rgb\\(".concat(nv,",").concat(nv,",").concat(nv,"\\)$")),sv=new RegExp("^rgb\\(".concat(iv,",").concat(iv,",").concat(iv,"\\)$")),lv=new RegExp("^rgba\\(".concat(nv,",").concat(nv,",").concat(nv,",").concat(rv,"\\)$")),cv=new RegExp("^rgba\\(".concat(iv,",").concat(iv,",").concat(iv,",").concat(rv,"\\)$")),uv=new RegExp("^hsl\\(".concat(rv,",").concat(iv,",").concat(iv,"\\)$")),dv=new RegExp("^hsla\\(".concat(rv,",").concat(iv,",").concat(iv,",").concat(rv,"\\)$")),hv={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function fv(){return this.rgb().formatHex()}function pv(){return this.rgb().formatRgb()}function mv(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=av.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?gv(t):3===n?new bv(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?yv(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?yv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=ov.exec(e))?new bv(t[1],t[2],t[3],1):(t=sv.exec(e))?new bv(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=lv.exec(e))?yv(t[1],t[2],t[3],t[4]):(t=cv.exec(e))?yv(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=uv.exec(e))?Nv(t[1],t[2]/100,t[3]/100,1):(t=dv.exec(e))?Nv(t[1],t[2]/100,t[3]/100,t[4]):hv.hasOwnProperty(e)?gv(hv[e]):"transparent"===e?new bv(NaN,NaN,NaN,0):null}function gv(e){return new bv(e>>16&255,e>>8&255,255&e,1)}function yv(e,t,n,r){return r<=0&&(e=t=n=NaN),new bv(e,t,n,r)}function vv(e,t,n,r){return 1===arguments.length?((i=e)instanceof Zy||(i=mv(i)),i?new bv((i=i.rgb()).r,i.g,i.b,i.opacity):new bv):new bv(e,t,n,null==r?1:r);var i}function bv(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function xv(){return"#".concat(jv(this.r)).concat(jv(this.g)).concat(jv(this.b))}function wv(){const e=kv(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(Sv(this.r),", ").concat(Sv(this.g),", ").concat(Sv(this.b)).concat(1===e?")":", ".concat(e,")"))}function kv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Sv(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function jv(e){return((e=Sv(e))<16?"0":"")+e.toString(16)}function Nv(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new _v(e,t,n,r)}function Ev(e){if(e instanceof _v)return new _v(e.h,e.s,e.l,e.opacity);if(e instanceof Zy||(e=mv(e)),!e)return new _v;if(e instanceof _v)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(o=t===a?(n-r)/s+6*(n<r):n===a?(r-t)/s+2:(t-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new _v(o,s,l,e.opacity)}function _v(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Cv(e){return(e=(e||0)%360)<0?e+360:e}function Av(e){return Math.max(0,Math.min(1,e||0))}function Ov(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Tv(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}Xy(Zy,mv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:fv,formatHex:fv,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Ev(this).formatHsl()},formatRgb:pv,toString:pv}),Xy(bv,vv,Jy(Zy,{brighter(e){return e=null==e?tv:Math.pow(tv,e),new bv(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?ev:Math.pow(ev,e),new bv(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new bv(Sv(this.r),Sv(this.g),Sv(this.b),kv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xv,formatHex:xv,formatHex8:function(){return"#".concat(jv(this.r)).concat(jv(this.g)).concat(jv(this.b)).concat(jv(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:wv,toString:wv})),Xy(_v,function(e,t,n,r){return 1===arguments.length?Ev(e):new _v(e,t,n,null==r?1:r)},Jy(Zy,{brighter(e){return e=null==e?tv:Math.pow(tv,e),new _v(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?ev:Math.pow(ev,e),new _v(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new bv(Ov(e>=240?e-240:e+120,i,r),Ov(e,i,r),Ov(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new _v(Cv(this.h),Av(this.s),Av(this.l),kv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=kv(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(Cv(this.h),", ").concat(100*Av(this.s),"%, ").concat(100*Av(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const Pv=e=>()=>e;function Iv(e,t){return function(n){return e+n*t}}function Mv(e){return 1===(e=+e)?Dv:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Pv(isNaN(t)?n:t)}}function Dv(e,t){var n=t-e;return n?Iv(e,n):Pv(isNaN(e)?t:e)}const Lv=function e(t){var n=Mv(t);function r(e,t){var r=n((e=vv(e)).r,(t=vv(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=Dv(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function Rv(e){return function(t){var n,r,i=t.length,a=new Array(i),o=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=vv(t[n]),a[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return a=e(a),o=e(o),s=e(s),r.opacity=1,function(e){return r.r=a(e),r.g=o(e),r.b=s(e),r+""}}}Rv(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,s=r<t-1?e[r+2]:2*a-i;return Tv((n-r/t)*t,o,i,a,s)}}),Rv(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],o=e[(r+1)%t],s=e[(r+2)%t];return Tv((n-r/t)*t,i,a,o,s)}});function Uv(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=Kv(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<i;++n)o[n]=a[n](e);return o}}function Fv(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Bv(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function zv(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=Kv(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var Vv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wv=new RegExp(Vv.source,"g");function Hv(e,t){var n,r,i,a=Vv.lastIndex=Wv.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=Vv.exec(e))&&(r=Wv.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:Bv(n,r)})),a=Wv.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function qv(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}}function Kv(e,t){var n,r=typeof t;return null==t||"boolean"===r?Pv(t):("number"===r?Bv:"string"===r?(n=mv(t))?(t=n,Lv):Hv:t instanceof mv?Lv:t instanceof Date?Fv:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?qv:Array.isArray(t)?Uv:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?zv:Bv)(e,t)}function Gv(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Yv(e){return+e}var $v=[0,1];function Qv(e){return e}function Xv(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function Jv(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=Xv(i,r),a=n(o,a)):(r=Xv(r,i),a=n(a,o)),function(e){return a(r(e))}}function Zv(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=Xv(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(t){var n=Qy(e,t,1,r)-1;return a[n](i[n](t))}}function eb(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function tb(){var e,t,n,r,i,a,o=$v,s=$v,l=Kv,c=Qv;function u(){var e=Math.min(o.length,s.length);return c!==Qv&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(o[0],o[e-1])),r=e>2?Zv:Jv,i=a=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(o.map(e),s,l)))(e(c(t)))}return d.invert=function(n){return c(t((a||(a=r(s,o.map(e),Bv)))(n)))},d.domain=function(e){return arguments.length?(o=Array.from(e,Yv),u()):o.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=Gv,u()},d.clamp=function(e){return arguments.length?(c=!!e||Qv,u()):c!==Qv},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function nb(){return tb()(Qv,Qv)}var rb,ib=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ab(e){if(!(t=ib.exec(e)))throw new Error("invalid format: "+e);var t;return new ob({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function ob(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function sb(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function lb(e){return(e=sb(Math.abs(e)))?e[1]:NaN}function cb(e,t){var n=sb(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}ab.prototype=ob.prototype,ob.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const ub={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>cb(100*e,t),r:cb,s:function(e,t){var n=sb(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(rb=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+sb(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function db(e){return e}var hb,fb,pb,mb=Array.prototype.map,gb=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function yb(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?db:(t=mb.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?db:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(mb.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=ab(e)).fill,n=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(m=!0,v="g"):ub[v]||(void 0===g&&(g=12),y=!0,v="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===h?a:/[%p]/.test(v)?l:"",w=ub[v],k=/[defgprs%]/.test(v);function S(e){var i,a,l,h=b,S=x;if("c"===v)S=w(e)+S,e="";else{var j=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),g),y&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),j&&0===+e&&"+"!==d&&(j=!1),h=(j?"("===d?d:c:"-"===d||"("===d?"":d)+h,S=("s"===v?gb[8+rb/3]:"")+S+(j&&"("===d?")":""),k)for(i=-1,a=e.length;++i<a;)if(48>(l=e.charCodeAt(i))||l>57){S=(46===l?o+e.slice(i+1):e.slice(i))+S,e=e.slice(0,i);break}}m&&!f&&(e=r(e,1/0));var N=h.length+e.length+S.length,E=N<p?new Array(p-N+1).join(t):"";switch(m&&f&&(e=r(E+e,E.length?p-S.length:1/0),E=""),n){case"<":e=h+e+S+E;break;case"=":e=h+E+e+S;break;case"^":e=E.slice(0,N=E.length>>1)+h+e+S+E.slice(N);break;default:e=E+h+e+S}return s(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),S.toString=function(){return e+""},S}return{format:d,formatPrefix:function(e,t){var n=d(((e=ab(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(lb(t)/3))),i=Math.pow(10,-r),a=gb[8+r/3];return function(e){return n(i*e)+a}}}}function vb(e,t,n,r){var i,a=Vy(e,t,n);switch((r=ab(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(lb(t)/3)))-lb(Math.abs(e)))}(a,o))||(r.precision=i),pb(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,lb(t)-lb(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-lb(Math.abs(e)))}(a))||(r.precision=i-2*("%"===r.type))}return fb(r)}function bb(e){var t=e.domain;return e.ticks=function(e){var n=t();return By(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return vb(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,a=t(),o=0,s=a.length-1,l=a[o],c=a[s],u=10;for(c<l&&(i=l,l=c,c=i,i=o,o=s,s=i);u-- >0;){if((i=zy(l,c,n))===r)return a[o]=l,a[s]=c,t(a);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function xb(){var e=nb();return e.copy=function(){return eb(e,xb())},jy.apply(e,arguments),bb(e)}function wb(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,Yv),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return wb(e).unknown(t)},e=arguments.length?Array.from(e,Yv):[0,1],bb(n)}function kb(e,t){var n,r=0,i=(e=e.slice()).length-1,a=e[r],o=e[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),e[r]=t.floor(a),e[i]=t.ceil(o),e}function Sb(e){return Math.log(e)}function jb(e){return Math.exp(e)}function Nb(e){return-Math.log(-e)}function Eb(e){return-Math.exp(-e)}function _b(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Cb(e){return(t,n)=>-e(-t,n)}function Ab(e){const t=e(Sb,jb),n=t.domain;let r,i,a=10;function o(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(a),i=function(e){return 10===e?_b:e===Math.E?Math.exp:t=>Math.pow(e,t)}(a),n()[0]<0?(r=Cb(r),i=Cb(i),e(Nb,Eb)):e(Sb,jb),t}return t.base=function(e){return arguments.length?(a=+e,o()):a},t.domain=function(e){return arguments.length?(n(e),o()):n()},t.ticks=e=>{const t=n();let o=t[0],s=t[t.length-1];const l=s<o;l&&([o,s]=[s,o]);let c,u,d=r(o),h=r(s);const f=null==e?10:+e;let p=[];if(!(a%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),o>0){for(;d<=h;++d)for(c=1;c<a;++c)if(u=d<0?c/i(-d):c*i(d),!(u<o)){if(u>s)break;p.push(u)}}else for(;d<=h;++d)for(c=a-1;c>=1;--c)if(u=d>0?c/i(-d):c*i(d),!(u<o)){if(u>s)break;p.push(u)}2*p.length<f&&(p=By(o,s,f))}else p=By(d,h,Math.min(h-d,f)).map(i);return l?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===a?"s":","),"function"!==typeof n&&(a%1||null!=(n=ab(n)).precision||(n.trim=!0),n=fb(n)),e===1/0)return n;const o=Math.max(1,a*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*a<a-.5&&(t*=a),t<=o?n(e):""}},t.nice=()=>n(kb(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function Ob(){const e=Ab(tb()).domain([1,10]);return e.copy=()=>eb(e,Ob()).base(e.base()),jy.apply(e,arguments),e}function Tb(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Pb(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Ib(e){var t=1,n=e(Tb(t),Pb(t));return n.constant=function(n){return arguments.length?e(Tb(t=+n),Pb(t)):t},bb(n)}function Mb(){var e=Ib(tb());return e.copy=function(){return eb(e,Mb()).constant(e.constant())},jy.apply(e,arguments)}function Db(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Lb(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Rb(e){return e<0?-e*e:e*e}function Ub(e){var t=e(Qv,Qv),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(Qv,Qv):.5===n?e(Lb,Rb):e(Db(n),Db(1/n)):n},bb(t)}function Fb(){var e=Ub(tb());return e.copy=function(){return eb(e,Fb()).exponent(e.exponent())},jy.apply(e,arguments),e}function Bb(){return Fb.apply(null,arguments).exponent(.5)}function zb(e){return Math.sign(e)*e*e}function Vb(){var e,t=nb(),n=[0,1],r=!1;function i(n){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(zb(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,Yv)).map(zb)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return Vb(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},jy.apply(i,arguments),bb(i)}function Wb(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function Hb(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function qb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wy;if(e===Wy)return Kb;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function Kb(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function Gb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?Kb:qb(i);r>n;){if(r-n>600){const a=r-n+1,o=t-n+1,s=Math.log(a),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(a-l)/a)*(o-a/2<0?-1:1);Gb(e,t,Math.max(n,Math.floor(t-o*l/a+c)),Math.min(r,Math.floor(t+(a-o)*l/a+c)),i)}const a=e[t];let o=n,s=r;for(Yb(e,n,t),i(e[r],a)>0&&Yb(e,n,r);o<s;){for(Yb(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}0===i(e[n],a)?Yb(e,n,s):(++s,Yb(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Yb(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function $b(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return Hb(e);if(t>=1)return Wb(e);var r,i=(r-1)*t,a=Math.floor(i),o=Wb(Gb(e,a).subarray(0,a+1));return o+(Hb(e.subarray(a+1))-o)*(i-a)}}function Qb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gy;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e);return o+(+n(e[a+1],a+1,e)-o)*(i-a)}}function Xb(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=Qb(t,e/i);return a}function a(t){return null==t||isNaN(t=+t)?e:n[Qy(r,t)]}return a.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},a.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(Wy),i()},a.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return r.slice()},a.copy=function(){return Xb().domain(t).range(n).unknown(e)},jy.apply(a,arguments)}function Jb(){var e,t=0,n=1,r=1,i=[.5],a=[0,1];function o(t){return null!=t&&t<=t?a[Qy(i,t,0,r)]:e}function s(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return o}return o.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,s()):[t,n]},o.range=function(e){return arguments.length?(r=(a=Array.from(e)).length-1,s()):a.slice()},o.invertExtent=function(e){var o=a.indexOf(e);return o<0?[NaN,NaN]:o<1?[t,i[0]]:o>=r?[i[r-1],n]:[i[o-1],i[o]]},o.unknown=function(t){return arguments.length?(e=t,o):o},o.thresholds=function(){return i.slice()},o.copy=function(){return Jb().domain([t,n]).range(a).unknown(e)},jy.apply(bb(o),arguments)}function Zb(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[Qy(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return Zb().domain(t).range(n).unknown(e)},jy.apply(i,arguments)}hb=yb({thousands:",",grouping:[3],currency:["$",""]}),fb=hb.format,pb=hb.formatPrefix;const ex=1e3,tx=6e4,nx=36e5,rx=864e5,ix=6048e5,ax=2592e6,ox=31536e6,sx=new Date,lx=new Date;function cx(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,a)=>{const o=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r)||!(a>0))return o;let s;do{o.push(s=new Date(+n)),t(n,a),e(n)}while(s<n&&n<r);return o},i.filter=n=>cx(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(i.count=(t,r)=>(sx.setTime(+t),lx.setTime(+r),e(sx),e(lx),Math.floor(n(sx,lx))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const ux=cx(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ux.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?cx(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):ux:null);ux.range;const dx=cx(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ex)},(e,t)=>(t-e)/ex,e=>e.getUTCSeconds()),hx=(dx.range,cx(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ex)},(e,t)=>{e.setTime(+e+t*tx)},(e,t)=>(t-e)/tx,e=>e.getMinutes())),fx=(hx.range,cx(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*tx)},(e,t)=>(t-e)/tx,e=>e.getUTCMinutes())),px=(fx.range,cx(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ex-e.getMinutes()*tx)},(e,t)=>{e.setTime(+e+t*nx)},(e,t)=>(t-e)/nx,e=>e.getHours())),mx=(px.range,cx(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*nx)},(e,t)=>(t-e)/nx,e=>e.getUTCHours())),gx=(mx.range,cx(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*tx)/rx,e=>e.getDate()-1)),yx=(gx.range,cx(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/rx,e=>e.getUTCDate()-1)),vx=(yx.range,cx(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/rx,e=>Math.floor(e/rx)));vx.range;function bx(e){return cx(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*tx)/ix)}const xx=bx(0),wx=bx(1),kx=bx(2),Sx=bx(3),jx=bx(4),Nx=bx(5),Ex=bx(6);xx.range,wx.range,kx.range,Sx.range,jx.range,Nx.range,Ex.range;function _x(e){return cx(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/ix)}const Cx=_x(0),Ax=_x(1),Ox=_x(2),Tx=_x(3),Px=_x(4),Ix=_x(5),Mx=_x(6),Dx=(Cx.range,Ax.range,Ox.range,Tx.range,Px.range,Ix.range,Mx.range,cx(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),Lx=(Dx.range,cx(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),Rx=(Lx.range,cx(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));Rx.every=e=>isFinite(e=Math.floor(e))&&e>0?cx(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null;Rx.range;const Ux=cx(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ux.every=e=>isFinite(e=Math.floor(e))&&e>0?cx(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null;Ux.range;function Fx(e,t,n,r,i,a){const o=[[dx,1,ex],[dx,5,5e3],[dx,15,15e3],[dx,30,3e4],[a,1,tx],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,nx],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,rx],[r,2,1728e5],[n,1,ix],[t,1,ax],[t,3,7776e6],[e,1,ox]];function s(t,n,r){const i=Math.abs(n-t)/r,a=qy(e=>{let[,,t]=e;return t}).right(o,i);if(a===o.length)return e.every(Vy(t/ox,n/ox,r));if(0===a)return ux.every(Math.max(Vy(t,n,r),1));const[s,l]=o[i/o[a-1][2]<o[a][2]/i?a-1:a];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"===typeof n.range?n:s(e,t,n),a=i?i.range(e,+t+1):[];return r?a.reverse():a},s]}const[Bx,zx]=Fx(Ux,Lx,Cx,vx,mx,fx),[Vx,Wx]=Fx(Rx,Dx,xx,gx,px,hx);function Hx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function qx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Kx(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var Gx,Yx,$x,Qx={"-":"",_:" ",0:"0"},Xx=/^\s*\d+/,Jx=/^%/,Zx=/[\\^$*+?|[\]().{}]/g;function ew(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function tw(e){return e.replace(Zx,"\\$&")}function nw(e){return new RegExp("^(?:"+e.map(tw).join("|")+")","i")}function rw(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function iw(e,t,n){var r=Xx.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function aw(e,t,n){var r=Xx.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function ow(e,t,n){var r=Xx.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function sw(e,t,n){var r=Xx.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function lw(e,t,n){var r=Xx.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function cw(e,t,n){var r=Xx.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function uw(e,t,n){var r=Xx.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function dw(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function hw(e,t,n){var r=Xx.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function fw(e,t,n){var r=Xx.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function pw(e,t,n){var r=Xx.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function mw(e,t,n){var r=Xx.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function gw(e,t,n){var r=Xx.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function yw(e,t,n){var r=Xx.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function vw(e,t,n){var r=Xx.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function bw(e,t,n){var r=Xx.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function xw(e,t,n){var r=Xx.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ww(e,t,n){var r=Jx.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function kw(e,t,n){var r=Xx.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Sw(e,t,n){var r=Xx.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function jw(e,t){return ew(e.getDate(),t,2)}function Nw(e,t){return ew(e.getHours(),t,2)}function Ew(e,t){return ew(e.getHours()%12||12,t,2)}function _w(e,t){return ew(1+gx.count(Rx(e),e),t,3)}function Cw(e,t){return ew(e.getMilliseconds(),t,3)}function Aw(e,t){return Cw(e,t)+"000"}function Ow(e,t){return ew(e.getMonth()+1,t,2)}function Tw(e,t){return ew(e.getMinutes(),t,2)}function Pw(e,t){return ew(e.getSeconds(),t,2)}function Iw(e){var t=e.getDay();return 0===t?7:t}function Mw(e,t){return ew(xx.count(Rx(e)-1,e),t,2)}function Dw(e){var t=e.getDay();return t>=4||0===t?jx(e):jx.ceil(e)}function Lw(e,t){return e=Dw(e),ew(jx.count(Rx(e),e)+(4===Rx(e).getDay()),t,2)}function Rw(e){return e.getDay()}function Uw(e,t){return ew(wx.count(Rx(e)-1,e),t,2)}function Fw(e,t){return ew(e.getFullYear()%100,t,2)}function Bw(e,t){return ew((e=Dw(e)).getFullYear()%100,t,2)}function zw(e,t){return ew(e.getFullYear()%1e4,t,4)}function Vw(e,t){var n=e.getDay();return ew((e=n>=4||0===n?jx(e):jx.ceil(e)).getFullYear()%1e4,t,4)}function Ww(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ew(t/60|0,"0",2)+ew(t%60,"0",2)}function Hw(e,t){return ew(e.getUTCDate(),t,2)}function qw(e,t){return ew(e.getUTCHours(),t,2)}function Kw(e,t){return ew(e.getUTCHours()%12||12,t,2)}function Gw(e,t){return ew(1+yx.count(Ux(e),e),t,3)}function Yw(e,t){return ew(e.getUTCMilliseconds(),t,3)}function $w(e,t){return Yw(e,t)+"000"}function Qw(e,t){return ew(e.getUTCMonth()+1,t,2)}function Xw(e,t){return ew(e.getUTCMinutes(),t,2)}function Jw(e,t){return ew(e.getUTCSeconds(),t,2)}function Zw(e){var t=e.getUTCDay();return 0===t?7:t}function ek(e,t){return ew(Cx.count(Ux(e)-1,e),t,2)}function tk(e){var t=e.getUTCDay();return t>=4||0===t?Px(e):Px.ceil(e)}function nk(e,t){return e=tk(e),ew(Px.count(Ux(e),e)+(4===Ux(e).getUTCDay()),t,2)}function rk(e){return e.getUTCDay()}function ik(e,t){return ew(Ax.count(Ux(e)-1,e),t,2)}function ak(e,t){return ew(e.getUTCFullYear()%100,t,2)}function ok(e,t){return ew((e=tk(e)).getUTCFullYear()%100,t,2)}function sk(e,t){return ew(e.getUTCFullYear()%1e4,t,4)}function lk(e,t){var n=e.getUTCDay();return ew((e=n>=4||0===n?Px(e):Px.ceil(e)).getUTCFullYear()%1e4,t,4)}function ck(){return"+0000"}function uk(){return"%"}function dk(e){return+e}function hk(e){return Math.floor(+e/1e3)}function fk(e){return new Date(e)}function pk(e){return e instanceof Date?+e:+new Date(+e)}function mk(e,t,n,r,i,a,o,s,l,c){var u=nb(),d=u.invert,h=u.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),v=c("%b %d"),b=c("%B"),x=c("%Y");function w(e){return(l(e)<e?f:s(e)<e?p:o(e)<e?m:a(e)<e?g:r(e)<e?i(e)<e?y:v:n(e)<e?b:x)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,pk)):h().map(fk)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var n=h();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(kb(n,e)):u},u.copy=function(){return eb(u,mk(e,t,n,r,i,a,o,s,l,c))},u}function gk(){return jy.apply(mk(Vx,Wx,Rx,Dx,xx,gx,px,hx,dx,Yx).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function yk(){return jy.apply(mk(Bx,zx,Ux,Lx,Cx,yx,mx,fx,dx,$x).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function vk(){var e,t,n,r,i,a=0,o=1,s=Qv,l=!1;function c(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),c):[s(0),s(1)]}}return c.domain=function(i){return arguments.length?([a,o]=i,e=r(a=+a),t=r(o=+o),n=e===t?0:1/(t-e),c):[a,o]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(Kv),c.rangeRound=u(Gv),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(a),t=i(o),n=e===t?0:1/(t-e),c}}function bk(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function xk(){var e=bb(vk()(Qv));return e.copy=function(){return bk(e,xk())},Ny.apply(e,arguments)}function wk(){var e=Ab(vk()).domain([1,10]);return e.copy=function(){return bk(e,wk()).base(e.base())},Ny.apply(e,arguments)}function kk(){var e=Ib(vk());return e.copy=function(){return bk(e,kk()).constant(e.constant())},Ny.apply(e,arguments)}function Sk(){var e=Ub(vk());return e.copy=function(){return bk(e,Sk()).exponent(e.exponent())},Ny.apply(e,arguments)}function jk(){return Sk.apply(null,arguments).exponent(.5)}function Nk(){var e=[],t=Qv;function n(n){if(null!=n&&!isNaN(n=+n))return t((Qy(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(Wy),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((n,r)=>t(r/(e.length-1)))},n.quantiles=function(t){return Array.from({length:t+1},(n,r)=>$b(e,r/t))},n.copy=function(){return Nk(t).domain(e)},Ny.apply(n,arguments)}function Ek(){var e,t,n,r,i,a,o,s=0,l=.5,c=1,u=1,d=Qv,h=!1;function f(e){return isNaN(e=+e)?o:(e=.5+((e=+a(e))-t)*(u*e<u*t?r:i),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,d=function(e,t){void 0===t&&(t=e,e=Kv);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return a[t](e-t)}}(e,[n,r,i]),f):[d(0),d(.5),d(1)]}}return f.domain=function(o){return arguments.length?([s,l,c]=o,e=a(s=+s),t=a(l=+l),n=a(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f):[s,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(Kv),f.rangeRound=p(Gv),f.unknown=function(e){return arguments.length?(o=e,f):o},function(o){return a=o,e=o(s),t=o(l),n=o(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f}}function _k(){var e=bb(Ek()(Qv));return e.copy=function(){return bk(e,_k())},Ny.apply(e,arguments)}function Ck(){var e=Ab(Ek()).domain([.1,1,10]);return e.copy=function(){return bk(e,Ck()).base(e.base())},Ny.apply(e,arguments)}function Ak(){var e=Ib(Ek());return e.copy=function(){return bk(e,Ak()).constant(e.constant())},Ny.apply(e,arguments)}function Ok(){var e=Ub(Ek());return e.copy=function(){return bk(e,Ok()).exponent(e.exponent())},Ny.apply(e,arguments)}function Tk(){return Ok.apply(null,arguments).exponent(.5)}!function(e){Gx=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=nw(i),u=rw(i),d=nw(a),h=rw(a),f=nw(o),p=rw(o),m=nw(s),g=rw(s),y=nw(l),v=rw(l),b={a:function(e){return o[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:jw,e:jw,f:Aw,g:Bw,G:Vw,H:Nw,I:Ew,j:_w,L:Cw,m:Ow,M:Tw,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:dk,s:hk,S:Pw,u:Iw,U:Mw,V:Lw,w:Rw,W:Uw,x:null,X:null,y:Fw,Y:zw,Z:Ww,"%":uk},x={a:function(e){return o[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:Hw,e:Hw,f:$w,g:ok,G:lk,H:qw,I:Kw,j:Gw,L:Yw,m:Qw,M:Xw,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:dk,s:hk,S:Jw,u:Zw,U:ek,V:nk,w:rk,W:ik,x:null,X:null,y:ak,Y:sk,Z:ck,"%":uk},w={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return j(e,t,n,r)},d:pw,e:pw,f:xw,g:uw,G:cw,H:gw,I:gw,j:mw,L:bw,m:fw,M:yw,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:hw,Q:kw,s:Sw,S:vw,u:aw,U:ow,V:sw,w:iw,W:lw,x:function(e,t,r){return j(e,n,t,r)},X:function(e,t,n){return j(e,r,t,n)},y:uw,Y:cw,Z:dw,"%":ww};function k(e,t){return function(n){var r,i,a,o=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(i=Qx[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),o.push(r),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function S(e,t){return function(n){var r,i,a=Kx(1900,void 0,1);if(j(a,e,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=qx(Kx(a.y,0,1))).getUTCDay(),r=i>4||0===i?Ax.ceil(r):Ax(r),r=yx.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=Hx(Kx(a.y,0,1))).getDay(),r=i>4||0===i?wx.ceil(r):wx(r),r=gx.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?qx(Kx(a.y,0,1)).getUTCDay():Hx(Kx(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,qx(a)):Hx(a)}}function j(e,t,n,r){for(var i,a,o=0,s=t.length,l=n.length;o<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(o++))){if(i=t.charAt(o++),!(a=w[i in Qx?t.charAt(o++):i])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=k(n,b),b.X=k(r,b),b.c=k(t,b),x.x=k(n,x),x.X=k(r,x),x.c=k(t,x),{format:function(e){var t=k(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=S(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=k(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=S(e+="",!0);return t.toString=function(){return e},t}}}(e),Yx=Gx.format,Gx.parse,$x=Gx.utcFormat,Gx.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Pk=e=>e.chartData,Ik=ig([Pk],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Mk=(e,t,n,r)=>r?Ik(e):Pk(e);function Dk(e){return Number.isFinite(e)}function Lk(e){return"number"===typeof e&&e>0&&Number.isFinite(e)}function Rk(e){if(Array.isArray(e)&&2===e.length){var[t,n]=e;if(Dk(t)&&Dk(n))return!0}return!1}function Uk(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}var Fk=n(8210),Bk=n.n(Fk),zk=e=>e,Vk={"@@functional/placeholder":!0},Wk=e=>e===Vk,Hk=e=>function t(){return 0===arguments.length||1===arguments.length&&Wk(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},qk=(e,t)=>1===e?t:Hk(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(e=>e!==Vk).length;return a>=e?t(...r):qk(e-a,Hk(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var a=r.map(e=>Wk(e)?n.shift():e);return t(...a,...n)}))}),Kk=e=>qk(e.length,e),Gk=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},Yk=Kk((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)),$k=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),Qk=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t&&i.every((e,n)=>{var r;return e===(null===(r=t)||void 0===r?void 0:r[n])})?n:(t=i,n=e(...i))}};function Xk(e){return 0===e?1:Math.floor(new(Bk())(e).abs().log(10).toNumber())+1}function Jk(e,t,n){for(var r=new(Bk())(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}Kk((e,t,n)=>{var r=+e;return r+n*(+t-r)}),Kk((e,t,n)=>{var r=t-+e;return(n-e)/(r=r||1/0)}),Kk((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var Zk=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},eS=(e,t,n)=>{if(e.lte(0))return new(Bk())(0);var r=Xk(e.toNumber()),i=new(Bk())(10).pow(r),a=e.div(i),o=1!==r?.05:.1,s=new(Bk())(Math.ceil(a.div(o).toNumber())).add(n).mul(o).mul(i);return t?new(Bk())(s.toNumber()):new(Bk())(Math.ceil(s.toNumber()))},tS=(e,t,n)=>{var r=new(Bk())(1),i=new(Bk())(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new(Bk())(10).pow(Xk(e)-1),i=new(Bk())(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new(Bk())(Math.floor(e)))}else 0===e?i=new(Bk())(Math.floor((t-1)/2)):n||(i=new(Bk())(Math.floor(e)));var o=Math.floor((t-1)/2);return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return zk;var r=t.reverse(),i=r[0],a=r.slice(1);return function(){return a.reduce((e,t)=>t(e),i(...arguments))}}(Yk(e=>i.add(new(Bk())(e-o).mul(r)).toNumber()),Gk)(0,t)},nS=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(Bk())(0),tickMin:new(Bk())(0),tickMax:new(Bk())(0)};var a,o=eS(new(Bk())(t).sub(e).div(n-1),r,i);a=e<=0&&t>=0?new(Bk())(0):(a=new(Bk())(e).add(t).div(2)).sub(new(Bk())(a).mod(o));var s=Math.ceil(a.sub(e).div(o).toNumber()),l=Math.ceil(new(Bk())(t).sub(a).div(o).toNumber()),c=s+l+1;return c>n?nS(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:o,tickMin:a.sub(new(Bk())(s).mul(o)),tickMax:a.add(new(Bk())(l).mul(o))})};var rS=Qk(function(e){var[t,n]=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(r,2),[o,s]=Zk([t,n]);if(o===-1/0||s===1/0){var l=s===1/0?[o,...Gk(0,r-1).map(()=>1/0)]:[...Gk(0,r-1).map(()=>-1/0),s];return t>n?$k(l):l}if(o===s)return tS(o,r,i);var{step:c,tickMin:u,tickMax:d}=nS(o,s,a,i,0),h=Jk(u,d.add(new(Bk())(.1).mul(c)),c);return t>n?$k(h):h}),iS=Qk(function(e,t){var[n,r]=e,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],[a,o]=Zk([n,r]);if(a===-1/0||o===1/0)return[n,r];if(a===o)return[a];var s=Math.max(t,2),l=eS(new(Bk())(o).sub(a).div(s-1),i,0),c=[...Jk(new(Bk())(a),new(Bk())(o),l),o];return!1===i&&(c=c.map(e=>Math.round(e))),n>r?$k(c):c}),aS=e=>e.rootProps.stackOffset,oS=e=>e.options.chartName,sS=e=>e.rootProps.syncId,lS=e=>e.rootProps.syncMethod,cS=e=>e.options.eventEmitter,uS=0,dS="auto",hS=!0,fS=!1,pS=!0,mS=0,gS="auto",yS=!0,vS=5,bS=(e,t)=>{if(e&&t)return null!==e&&void 0!==e&&e.reversed?[t[1],t[0]]:t},xS={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:uS,includeHidden:!1,name:void 0,reversed:!1,scale:dS,tick:hS,tickCount:void 0,ticks:void 0,type:"category",unit:void 0},wS={allowDataOverflow:fS,allowDecimals:!1,allowDuplicatedCategory:pS,dataKey:void 0,domain:void 0,id:mS,includeHidden:!1,name:void 0,reversed:!1,scale:gS,tick:yS,tickCount:vS,ticks:void 0,type:"number",unit:void 0},kS={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:uS,includeHidden:!1,name:void 0,reversed:!1,scale:dS,tick:hS,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},SS={allowDataOverflow:fS,allowDecimals:!1,allowDuplicatedCategory:pS,dataKey:void 0,domain:void 0,id:mS,includeHidden:!1,name:void 0,reversed:!1,scale:gS,tick:yS,tickCount:vS,ticks:void 0,type:"category",unit:void 0},jS=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?kS:xS,NS=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?SS:wS,ES=e=>e.polarOptions,_S=ig([Xg,Jg,ly],Ag),CS=ig([ES,_S],(e,t)=>{if(null!=e)return dh(e.innerRadius,t,0)}),AS=ig([ES,_S],(e,t)=>{if(null!=e)return dh(e.outerRadius,t,.8*t)}),OS=ig([ES],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]}),TS=(ig([jS,OS],bS),ig([_S,CS,AS],(e,t,n)=>{if(null!=e&&null!=t&&null!=n)return[t,n]})),PS=(ig([NS,TS],bS),ig([xy,ES,CS,AS,Xg,Jg],(e,t,n,r,i,a)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=n&&null!=r){var{cx:o,cy:s,startAngle:l,endAngle:c}=t;return{cx:dh(o,i,i/2),cy:dh(s,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}})),IS=(e,t)=>t,MS=(e,t,n)=>n;function DS(e){return null===e||void 0===e?void 0:e.id}var LS=e=>{var t=xy(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},RS=e=>e.tooltip.settings.axisId,US=e=>{var t=LS(e),n=RS(e);return JS(e,t,n)};function FS(e,t,n){var{chartData:r=[]}=t,i=null===n||void 0===n?void 0:n.dataKey,a=new Map;return e.forEach(e=>{var t,n=null!==(t=e.data)&&void 0!==t?t:r;if(null!=n&&0!==n.length){var o=DS(e);n.forEach((t,n)=>{var r,s=null==i?n:String(Rg(t,i,null)),l=Rg(t,e.dataKey,0);r=a.has(s)?a.get(s):{},Object.assign(r,{[o]:l}),a.set(s,r)})}}),Array.from(a.values())}function BS(e){return null!=e.stackId&&null!=e.dataKey}function zS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function VS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zS(Object(n),!0).forEach(function(t){WS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function WS(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var HS=[0,"auto"],qS={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},KS=(e,t)=>{var n=e.cartesianAxis.xAxis[t];return null==n?qS:n},GS={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:HS,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},YS=(e,t)=>{var n=e.cartesianAxis.yAxis[t];return null==n?GS:n},$S={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},QS=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return null==n?$S:n},XS=(e,t,n)=>{switch(t){case"xAxis":return KS(e,n);case"yAxis":return YS(e,n);case"zAxis":return QS(e,n);case"angleAxis":return jS(e,n);case"radiusAxis":return NS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},JS=(e,t,n)=>{switch(t){case"xAxis":return KS(e,n);case"yAxis":return YS(e,n);case"angleAxis":return jS(e,n);case"radiusAxis":return NS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},ZS=e=>e.graphicalItems.cartesianItems.some(e=>"bar"===e.type)||e.graphicalItems.polarItems.some(e=>"radialBar"===e.type);function ej(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var tj=e=>e.graphicalItems.cartesianItems,nj=ig([IS,MS],ej),rj=(e,t,n)=>e.filter(n).filter(e=>!0===(null===t||void 0===t?void 0:t.includeHidden)||!e.hide),ij=ig([tj,XS,nj],rj),aj=ig([ij],e=>e.filter(e=>"area"===e.type||"bar"===e.type).filter(BS)),oj=e=>e.filter(e=>!("stackId"in e)||void 0===e.stackId),sj=ig([ij],oj),lj=e=>e.map(e=>e.data).filter(Boolean).flat(1),cj=ig([ij],lj),uj=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},dj=ig([cj,Mk],uj),hj=(e,t,n)=>null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:Rg(e,t.dataKey)})):n.length>0?n.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:Rg(e,t)}))):e.map(e=>({value:e})),fj=ig([dj,XS,ij],hj);function pj(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function mj(e){return e.filter(e=>lh(e)||e instanceof Date).map(Number).filter(e=>!1===ah(e))}function gj(e,t,n){return!n||"number"!==typeof t||ah(t)?[]:n.length?mj(n.flatMap(n=>{var r,i,a=Rg(e,n.dataKey);if(Array.isArray(a)?[r,i]=a:r=i=a,Dk(r)&&Dk(i))return[t-r,t+i]})):[]}var yj=ig([aj,Mk,US],FS),vj=(e,t,n)=>{var r=t.reduce((e,t)=>(null==t.stackId||(null==e[t.stackId]&&(e[t.stackId]=[]),e[t.stackId].push(t)),e),{});return Object.fromEntries(Object.entries(r).map(t=>{var[r,i]=t,a=i.map(DS);return[r,{stackedData:Wg(e,a,n),graphicalItems:i}]}))},bj=ig([yj,aj,aS],vj),xj=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if("zAxis"!==n){var a=qg(e,r,i);if(null==a||0!==a[0]||0!==a[1])return a}},wj=ig([bj,Pk,IS],xj),kj=(e,t,n,r,i)=>n.length>0?e.flatMap(e=>n.flatMap(n=>{var a,o,s=null===(a=r[n.id])||void 0===a?void 0:a.filter(e=>pj(i,e)),l=Rg(e,null!==(o=t.dataKey)&&void 0!==o?o:n.dataKey);return{value:l,errorDomain:gj(e,l,s)}})).filter(Boolean):null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:Rg(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]})),Sj=e=>e.errorBars,jj=(e,t,n)=>e.flatMap(e=>t[e.id]).filter(Boolean).filter(e=>pj(n,e)),Nj=(ig([sj,Sj,IS],jj),ig([dj,XS,sj,Sj,IS],kj));function Ej(e){var{value:t}=e;if(lh(t)||t instanceof Date)return t}var _j=e=>{var t=mj(e.flatMap(e=>[e.value,e.errorDomain]).flat(1));if(0!==t.length)return[Math.min(...t),Math.max(...t)]},Cj=e=>{var t;if(null==e||!("domain"in e))return HS;if(null!=e.domain)return e.domain;if(null!=e.ticks){if("number"===e.type){var n=mj(e.ticks);return[Math.min(...n),Math.max(...n)]}if("category"===e.type)return e.ticks.map(String)}return null!==(t=null===e||void 0===e?void 0:e.domain)&&void 0!==t?t:HS},Aj=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);if(0!==r.length){var i=r.flat();return[Math.min(...i),Math.max(...i)]}},Oj=e=>e.referenceElements.dots,Tj=(e,t,n)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===n:e.yAxisId===n),Pj=ig([Oj,IS,MS],Tj),Ij=e=>e.referenceElements.areas,Mj=ig([Ij,IS,MS],Tj),Dj=e=>e.referenceElements.lines,Lj=ig([Dj,IS,MS],Tj),Rj=(e,t)=>{var n=mj(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},Uj=ig(Pj,IS,Rj),Fj=(e,t)=>{var n=mj(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},Bj=ig([Mj,IS],Fj),zj=(e,t)=>{var n=mj(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},Vj=ig(Lj,IS,zj),Wj=ig(Uj,Vj,Bj,(e,t,n)=>Aj(e,n,t)),Hj=ig([XS],Cj),qj=(e,t,n,r,i,a,o)=>{var s=function(e,t){if(t&&"function"!==typeof e&&Array.isArray(e)&&2===e.length){var n,r,[i,a]=e;if(Dk(i))n=i;else if("function"===typeof i)return;if(Dk(a))r=a;else if("function"===typeof a)return;var o=[n,r];if(Rk(o))return o}}(t,e.allowDataOverflow);return null!=s?s:function(e,t,n){if(n||null!=t){if("function"===typeof e&&null!=t)try{var r=e(t,n);if(Rk(r))return Uk(r,t,n)}catch(f){}if(Array.isArray(e)&&2===e.length){var i,a,[o,s]=e;if("auto"===o)null!=t&&(i=Math.min(...t));else if(sh(o))i=o;else if("function"===typeof o)try{null!=t&&(i=o(null===t||void 0===t?void 0:t[0]))}catch(p){}else if("string"===typeof o&&Kg.test(o)){var l=Kg.exec(o);if(null==l||null==t)i=void 0;else{var c=+l[1];i=t[0]-c}}else i=null===t||void 0===t?void 0:t[0];if("auto"===s)null!=t&&(a=Math.max(...t));else if(sh(s))a=s;else if("function"===typeof s)try{null!=t&&(a=s(null===t||void 0===t?void 0:t[1]))}catch(m){}else if("string"===typeof s&&Gg.test(s)){var u=Gg.exec(s);if(null==u||null==t)a=void 0;else{var d=+u[1];a=t[1]+d}}else a=null===t||void 0===t?void 0:t[1];var h=[i,a];if(Rk(h))return null==t?h:Uk(h,t,n)}}}(t,"vertical"===a&&"xAxis"===o||"horizontal"===a&&"yAxis"===o?Aj(n,i,_j(r)):Aj(i,_j(r)),e.allowDataOverflow)},Kj=ig([XS,Hj,wj,Nj,Wj,xy,IS],qj),Gj=[0,1],Yj=(e,t,n,r,i,a,o)=>{if(null!=e&&null!=n&&0!==n.length||void 0!==o){var{dataKey:s,type:l}=e,c=Ug(t,a);return c&&null==s?Sy()(0,n.length):"category"===l?((e,t,n)=>{var r=e.map(Ej).filter(e=>null!=e);return n&&(null==t.dataKey||t.allowDuplicatedCategory&&hh(r))?Sy()(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))})(r,e,c):"expand"===i?Gj:o}},$j=ig([XS,xy,dj,fj,aS,IS,Kj],Yj),Qj=(t,n,r,i,a)=>{if(null!=t){var{scale:o,type:s}=t;if("auto"===o)return"radial"===n&&"radiusAxis"===a?"band":"radial"===n&&"angleAxis"===a?"linear":"category"===s&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!r)?"point":"category"===s?"band":"linear";if("string"===typeof o){var l="scale".concat(yh(o));return l in e?l:"point"}}},Xj=ig([XS,xy,ZS,oS,IS],Qj);function Jj(t,n,r,i){if(null!=r&&null!=i){if("function"===typeof t.scale)return t.scale.copy().domain(r).range(i);var a=function(t){if(null!=t){if(t in e)return e[t]();var n="scale".concat(yh(t));return n in e?e[n]():void 0}}(n);if(null!=a){var o=a.domain(r).range(i);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-zg,a=Math.max(r[0],r[1])+zg,o=e(t[0]),s=e(t[n-1]);(o<i||o>a||s<i||s>a)&&e.domain([t[0],t[n-1]])}})(o),o}}}var Zj=(e,t,n)=>{var r=Cj(t);if("auto"===n||"linear"===n)return null!=t&&t.tickCount&&Array.isArray(r)&&("auto"===r[0]||"auto"===r[1])&&Rk(e)?rS(e,t.tickCount,t.allowDecimals):null!=t&&t.tickCount&&"number"===t.type&&Rk(e)?iS(e,t.tickCount,t.allowDecimals):void 0},eN=ig([$j,JS,Xj],Zj),tN=(e,t,n,r)=>{if("angleAxis"!==r&&"number"===(null===e||void 0===e?void 0:e.type)&&Rk(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],o=t[1],s=n[n.length-1];return[Math.min(i,a),Math.max(o,s)]}return t},nN=ig([XS,$j,eN,IS],tN),rN=ig(fj,XS,(e,t)=>{if(t&&"number"===t.type){var n=1/0,r=Array.from(mj(e.map(e=>e.value))).sort((e,t)=>e-t);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(0===i)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),iN=ig(rN,xy,e=>e.rootProps.barCategoryGap,ly,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!Dk(e))return 0;var a="vertical"===t?r.height:r.width;if("gap"===i)return e*a/2;if("no-gap"===i){var o=dh(n,e*a),s=e*a/2;return s-o-(s-o)/a*o}return 0}),aN=ig(KS,(e,t)=>{var n=KS(e,t);return null==n||"string"!==typeof n.padding?0:iN(e,"xAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{left:0,right:0};var{padding:i}=e;return"string"===typeof i?{left:t,right:t}:{left:(null!==(n=i.left)&&void 0!==n?n:0)+t,right:(null!==(r=i.right)&&void 0!==r?r:0)+t}}),oN=ig(YS,(e,t)=>{var n=YS(e,t);return null==n||"string"!==typeof n.padding?0:iN(e,"yAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{top:0,bottom:0};var{padding:i}=e;return"string"===typeof i?{top:t,bottom:t}:{top:(null!==(n=i.top)&&void 0!==n?n:0)+t,bottom:(null!==(r=i.bottom)&&void 0!==r?r:0)+t}}),sN=ig([ly,aN,py,fy,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),lN=ig([ly,xy,oN,py,fy,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:"horizontal"===t?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),cN=(e,t,n,r)=>{var i;switch(t){case"xAxis":return sN(e,n,r);case"yAxis":return lN(e,n,r);case"zAxis":return null===(i=QS(e,n))||void 0===i?void 0:i.range;case"angleAxis":return OS(e);case"radiusAxis":return TS(e,n);default:return}},uN=ig([XS,cN],bS),dN=ig([XS,Xj,nN,uN],Jj);ig([ij,Sj,IS],jj);function hN(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var fN=(e,t)=>t,pN=(e,t,n)=>n,mN=ig(ty,fN,pN,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(hN)),gN=ig(ny,fN,pN,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(hN)),yN=(e,t)=>({width:e.width,height:t.height}),vN=ig(ly,KS,yN),bN=ig(Jg,ly,mN,fN,pN,(e,t,n,r,i)=>{var a,o={};return n.forEach(n=>{var s=yN(t,n);null==a&&(a=((e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}})(t,r,e));var l="top"===r&&!i||"bottom"===r&&i;o[n.id]=a-Number(l)*s.height,a+=(l?-1:1)*s.height}),o}),xN=ig(Xg,ly,gN,fN,pN,(e,t,n,r,i)=>{var a,o={};return n.forEach(n=>{var s=((e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height}))(t,n);null==a&&(a=((e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}})(t,r,e));var l="left"===r&&!i||"right"===r&&i;o[n.id]=a-Number(l)*s.width,a+=(l?-1:1)*s.width}),o}),wN=ig(ly,YS,(e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height})),kN=(e,t,n,r)=>{if(null!=n){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,s=Ug(e,r),l=t.map(e=>e.value);return o&&s&&"category"===a&&i&&hh(l)?l:void 0}},SN=ig([xy,fj,XS,IS],kN),jN=(e,t,n,r)=>{if(null!=n&&null!=n.dataKey){var{type:i,scale:a}=n;return!Ug(e,r)||"number"!==i&&"auto"===a?void 0:t.map(e=>e.value)}},NN=ig([xy,fj,JS,IS],jN),EN=ig([xy,(e,t,n)=>{switch(t){case"xAxis":return KS(e,n);case"yAxis":return YS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Xj,dN,SN,NN,cN,eN,IS],(e,t,n,r,i,a,o,s,l)=>{if(null==t)return null;var c=Ug(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:s,range:o,realScaleType:n,scale:r}}),_N=ig([xy,JS,Xj,dN,eN,cN,SN,NN,IS],(e,t,n,r,i,a,o,s,l)=>{if(null!=t&&null!=r){var c=Ug(e,l),{type:u,ticks:d,tickCount:h}=t,f="scaleBand"===n&&"function"===typeof r.bandwidth?r.bandwidth()/2:2,p="category"===u&&r.bandwidth?r.bandwidth()/f:0;p="angleAxis"===l&&null!=a&&a.length>=2?2*ih(a[0]-a[1])*p:p;var m=d||i;return m?m.map((e,t)=>{var n=o?o.indexOf(e):e;return{index:t,coordinate:r(n)+p,value:e,offset:p}}).filter(e=>!ah(e.coordinate)):c&&s?s.map((e,t)=>({coordinate:r(e)+p,value:e,index:t,offset:p})):r.ticks?r.ticks(h).map(e=>({coordinate:r(e)+p,value:e,offset:p})):r.domain().map((e,t)=>({coordinate:r(e)+p,value:o?o[e]:e,index:t,offset:p}))}}),CN=ig([xy,JS,dN,cN,SN,NN,IS],(e,t,n,r,i,a,o)=>{if(null!=t&&null!=n&&null!=r&&r[0]!==r[1]){var s=Ug(e,o),{tickCount:l}=t,c=0;return c="angleAxis"===o&&(null===r||void 0===r?void 0:r.length)>=2?2*ih(r[0]-r[1])*c:c,s&&a?a.map((e,t)=>({coordinate:n(e)+c,value:e,index:t,offset:c})):n.ticks?n.ticks(l).map(e=>({coordinate:n(e)+c,value:e,offset:c})):n.domain().map((e,t)=>({coordinate:n(e)+c,value:i?i[e]:e,index:t,offset:c}))}}),AN=ig(XS,dN,(e,t)=>{if(null!=e&&null!=t)return VS(VS({},e),{},{scale:t})}),ON=ig([XS,Xj,$j,uN],Jj),TN=(ig((e,t,n)=>QS(e,n),ON,(e,t)=>{if(null!=e&&null!=t)return VS(VS({},e),{},{scale:t})}),ig([xy,ty,ny],(e,t,n)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}})),PN=e=>e.options.defaultTooltipEventType,IN=e=>e.options.validateTooltipEventTypes;function MN(e,t,n){if(null==e)return t;var r=e?"axis":"item";return null==n?t:n.includes(r)?r:t}function DN(e,t){return MN(t,PN(e),IN(e))}var LN=(e,t)=>{var n,r=Number(t);if(!ah(r)&&null!=t)return r>=0?null===e||void 0===e||null===(n=e[r])||void 0===n?void 0:n.value:void 0};function RN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function UN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RN(Object(n),!0).forEach(function(t){FN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function FN(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var BN=(e,t,n,r)=>{if(null==t)return Em;var i=function(e,t,n){return"axis"===t?"click"===n?e.axisInteraction.click:e.axisInteraction.hover:"click"===n?e.itemInteraction.click:e.itemInteraction.hover}(e,t,n);if(null==i)return Em;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var a=!0===e.settings.active;if(null!=i.index){if(a)return UN(UN({},i),{},{active:!0})}else if(null!=r)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return UN(UN({},Em),{},{coordinate:i.coordinate})},zN=(e,t)=>{var n=null===e||void 0===e?void 0:e.index;if(null==n)return null;var r=Number(n);if(!Dk(r))return n;var i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(0,Math.min(r,i)))},VN=(e,t,n,r,i,a,o,s)=>{if(null!=a&&null!=s){var l=o[0],c=null==l?void 0:s(l.positions,a);if(null!=c)return c;var u=null===i||void 0===i?void 0:i[Number(a)];if(u)return"horizontal"===n?{x:u.coordinate,y:(r.top+t)/2}:{x:(r.left+e)/2,y:u.coordinate}}},WN=(e,t,n,r)=>{return"axis"===t?e.tooltipItemPayloads:0===e.tooltipItemPayloads.length?[]:null==(i="hover"===n?e.itemInteraction.hover.dataKey:e.itemInteraction.click.dataKey)&&null!=r?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(e=>{var t;return(null===(t=e.settings)||void 0===t?void 0:t.dataKey)===i});var i},HN=e=>e.options.tooltipPayloadSearcher,qN=e=>e.tooltip;function KN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function GN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KN(Object(n),!0).forEach(function(t){YN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function YN(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $N=(e,t,n,r,i,a,o)=>{if(null!=t&&null!=a){var{chartData:s,computedData:l,dataStartIndex:c,dataEndIndex:u}=n;return e.reduce((e,n)=>{var d,h,f,{dataDefinedOnItem:p,settings:m}=n,g=function(e,t){return null!=e?e:t}(p,s),y=Array.isArray(g)?Ig(g,c,u):g,v=null!==(d=null===m||void 0===m?void 0:m.dataKey)&&void 0!==d?d:null===r||void 0===r?void 0:r.dataKey,b=null===m||void 0===m?void 0:m.nameKey;(h=null!==r&&void 0!==r&&r.dataKey&&Array.isArray(y)&&!Array.isArray(y[0])&&"axis"===o?mh(y,r.dataKey,i):a(y,t,l,b),Array.isArray(h))?h.forEach(t=>{var n=GN(GN({},m),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push($g({tooltipEntrySettings:n,dataKey:t.dataKey,payload:t.payload,value:Rg(t.payload,t.dataKey),name:t.name}))}):e.push($g({tooltipEntrySettings:m,dataKey:v,payload:h,value:Rg(h,v),name:null!==(f=Rg(h,b))&&void 0!==f?f:null===m||void 0===m?void 0:m.name}));return e},[])}},QN=ig([US,xy,ZS,oS,LS],Qj),XN=ig([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),JN=ig([LS,RS],ej),ZN=ig([XN,US,JN],rj),eE=ig([ZN],e=>e.filter(BS)),tE=ig([ZN],lj),nE=ig([tE,Pk],uj),rE=ig([eE,Pk,US],FS),iE=ig([nE,US,ZN],hj),aE=ig([US],Cj),oE=ig([ZN],e=>e.filter(BS)),sE=ig([rE,oE,aS],vj),lE=ig([sE,Pk,LS],xj),cE=ig([ZN],oj),uE=ig([nE,US,cE,Sj,LS],kj),dE=ig([Oj,LS,RS],Tj),hE=ig([dE,LS],Rj),fE=ig([Ij,LS,RS],Tj),pE=ig([fE,LS],Fj),mE=ig([Dj,LS,RS],Tj),gE=ig([mE,LS],zj),yE=ig([hE,gE,pE],Aj),vE=ig([US,aE,lE,uE,yE,xy,LS],qj),bE=ig([US,xy,nE,iE,aS,LS,vE],Yj),xE=ig([bE,US,QN],Zj),wE=ig([US,bE,xE,LS],tN),kE=e=>{var t=LS(e),n=RS(e);return cN(e,t,n,!1)},SE=ig([US,kE],bS),jE=ig([US,QN,wE,SE],Jj),NE=ig([xy,iE,US,LS],kN),EE=ig([xy,iE,US,LS],jN),_E=ig([xy,US,QN,jE,kE,NE,EE,LS],(e,t,n,r,i,a,o,s)=>{if(t){var{type:l}=t,c=Ug(e,s);if(r){var u="scaleBand"===n&&r.bandwidth?r.bandwidth()/2:2,d="category"===l&&r.bandwidth?r.bandwidth()/u:0;return d="angleAxis"===s&&null!=i&&(null===i||void 0===i?void 0:i.length)>=2?2*ih(i[0]-i[1])*d:d,c&&o?o.map((e,t)=>({coordinate:r(e)+d,value:e,index:t,offset:d})):r.domain().map((e,t)=>({coordinate:r(e)+d,value:a?a[e]:e,index:t,offset:d}))}}}),CE=ig([PN,IN,e=>e.tooltip.settings],(e,t,n)=>MN(n.shared,e,t)),AE=e=>e.tooltip.settings.trigger,OE=e=>e.tooltip.settings.defaultIndex,TE=ig([qN,CE,AE,OE],BN),PE=ig([TE,nE],zN),IE=ig([_E,PE],LN),ME=ig([TE],e=>{if(e)return e.dataKey}),DE=ig([qN,CE,AE,OE],WN),LE=ig([Xg,Jg,xy,ly,_E,OE,DE,HN],VN),RE=ig([TE,LE],(e,t)=>null!==e&&void 0!==e&&e.coordinate?e.coordinate:t),UE=ig([TE],e=>e.active),FE=ig([DE,PE,Pk,US,IE,HN,CE],$N),BE=ig([FE],e=>{if(null!=e){var t=e.map(e=>e.payload).filter(e=>null!=e);return Array.from(new Set(t))}}),zE=()=>fg(oS),VE=(e,t)=>t,WE=(e,t,n)=>n,HE=(e,t,n,r)=>r,qE=ig(_E,e=>mg()(e,e=>e.coordinate)),KE=ig([qN,VE,WE,HE],BN),GE=ig([KE,nE],zN),YE=ig([qN,VE,WE,HE],WN),$E=ig([Xg,Jg,xy,ly,_E,HE,YE,HN],VN),QE=ig([KE,$E],(e,t)=>{var n;return null!==(n=e.coordinate)&&void 0!==n?n:t}),XE=ig(_E,GE,LN),JE=ig([YE,GE,Pk,US,XE,HN,VE],$N),ZE=ig([KE],e=>({isActive:e.active,activeIndex:e.index})),e_=ig([(e,t)=>t,xy,PS,LS,SE,_E,qE,ly],(e,t,n,r,i,a,o,s)=>{if(e&&t&&r&&i&&a){var l=function(e,t,n,r,i){return"horizontal"===n||"vertical"===n?e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height?{x:e,y:t}:null:r?Pg({x:e,y:t},r):null}(e.chartX,e.chartY,t,n,s);if(l){var c=((e,t)=>"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius)(l,t),u=((e,t,n,r,i)=>{var a,o=-1,s=null!==(a=null===t||void 0===t?void 0:t.length)&&void 0!==a?a:0;if(s<=1||null==e)return 0;if("angleAxis"===r&&null!=i&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<s;l++){var c=l>0?n[l-1].coordinate:n[s-1].coordinate,u=n[l].coordinate,d=l>=s-1?n[0].coordinate:n[l+1].coordinate,h=void 0;if(ih(u-c)!==ih(d-u)){var f=[];if(ih(d-u)===ih(i[1]-i[0])){h=d;var p=u+i[1]-i[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{h=c;var m=d+i[1]-i[0];f[0]=Math.min(u,(m+u)/2),f[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){({index:o}=n[l]);break}}else{var y=Math.min(c,d),v=Math.max(c,d);if(e>(y+u)/2&&e<=(v+u)/2){({index:o}=n[l]);break}}}else if(t)for(var b=0;b<s;b++)if(0===b&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<s-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===s-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:o}=t[b]);break}return o})(c,o,a,r,i),d=((e,t,n,r)=>{var i=t.find(e=>e&&e.index===n);if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var a=i.coordinate,{radius:o}=r;return Dg(Dg(Dg({},r),Cg(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:l}=r;return Dg(Dg(Dg({},r),Cg(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{x:0,y:0}})(t,a,u,l);return{activeIndex:String(u),activeCoordinate:d}}}}),t_=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},n_=Cf("mouseClick"),r_=wp();r_.startListening({actionCreator:n_,effect:(e,t)=>{var n=e.payload,r=e_(t.getState(),t_(n));null!=(null===r||void 0===r?void 0:r.activeIndex)&&t.dispatch(Lm({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var i_=Cf("mouseMove"),a_=wp();function o_(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}function s_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s_(Object(n),!0).forEach(function(t){c_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}a_.startListening({actionCreator:i_,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=DN(r,r.tooltip.settings.shared),a=e_(r,t_(n));"axis"===i&&(null!=(null===a||void 0===a?void 0:a.activeIndex)?t.dispatch(Dm({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(Im()))}});var u_=Vf({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=l_(l_({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:d_,removeXAxis:h_,addYAxis:f_,removeYAxis:p_,addZAxis:m_,removeZAxis:g_,updateYAxisWidth:y_}=u_.actions,v_=u_.reducer,b_=Vf({name:"graphicalItems",initialState:{cartesianItems:[],polarItems:[]},reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,i=kf(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},removeCartesianGraphicalItem(e,t){var n=kf(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=kf(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:x_,replaceCartesianGraphicalItem:w_,removeCartesianGraphicalItem:k_,addPolarGraphicalItem:S_,removePolarGraphicalItem:j_}=b_.actions,N_=b_.reducer,E_=Vf({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=kf(e).dots.findIndex(e=>e===t.payload);-1!==n&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=kf(e).areas.findIndex(e=>e===t.payload);-1!==n&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=kf(e).lines.findIndex(e=>e===t.payload);-1!==n&&e.lines.splice(n,1)}}}),{addDot:__,removeDot:C_,addArea:A_,removeArea:O_,addLine:T_,removeLine:P_}=E_.actions,I_=E_.reducer,M_={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},D_=Vf({name:"brush",initialState:M_,reducers:{setBrushSettings:(e,t)=>null==t.payload?M_:t.payload}}),{setBrushSettings:L_}=D_.actions,R_=D_.reducer,U_=Vf({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=kf(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:F_,setLegendSettings:B_,addLegendPayload:z_,removeLegendPayload:V_}=U_.actions,W_=U_.reducer,H_={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},q_=Vf({name:"rootProps",initialState:H_,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!==(n=t.payload.barGap)&&void 0!==n?n:H_.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),K_=q_.reducer,{updateOptions:G_}=q_.actions,Y_=Vf({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:$_,removeRadiusAxis:Q_,addAngleAxis:X_,removeAngleAxis:J_}=Y_.actions,Z_=Y_.reducer,eC=Vf({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:tC}=eC.actions,nC=eC.reducer,rC=Cf("keyDown"),iC=Cf("focus"),aC=wp();aC.startListening({actionCreator:rC,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip,i=e.payload;if("ArrowRight"===i||"ArrowLeft"===i||"Enter"===i){var a=Number(zN(r,nE(n))),o=_E(n);if("Enter"!==i){var s=a+("ArrowRight"===i?1:-1)*("left-to-right"===TN(n)?1:-1);if(!(null==o||s>=o.length||s<0)){var l=$E(n,"axis","hover",String(s));t.dispatch(Um({active:!0,activeIndex:s.toString(),activeDataKey:void 0,activeCoordinate:l}))}}else{var c=$E(n,"axis","hover",String(r.index));t.dispatch(Um({active:!r.active,activeIndex:r.index,activeDataKey:r.dataKey,activeCoordinate:c}))}}}}}),aC.startListening({actionCreator:iC,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip;if(!r.active&&null==r.index){var i=$E(n,"axis","hover",String("0"));t.dispatch(Um({activeDataKey:void 0,active:!0,activeIndex:"0",activeCoordinate:i}))}}}});var oC=Cf("externalEvent"),sC=wp();sC.startListening({actionCreator:oC,effect:(e,t)=>{if(null!=e.payload.handler){var n=t.getState(),r={activeCoordinate:RE(n),activeDataKey:ME(n),activeIndex:PE(n),activeLabel:IE(n),activeTooltipIndex:PE(n),isTooltipActive:UE(n)};e.payload.handler(r,e.payload.reactEvent)}}});var lC=ig([qN],e=>e.tooltipItemPayloads),cC=ig([lC,HN,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(e=>e.settings.dataKey===r);if(null!=i){var{positions:a}=i;if(null!=a)return t(a,n)}}),uC=Cf("touchMove"),dC=wp();dC.startListening({actionCreator:uC,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=DN(r,r.tooltip.settings.shared);if("axis"===i){var a=e_(r,t_({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));null!=(null===a||void 0===a?void 0:a.activeIndex)&&t.dispatch(Dm({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if("item"===i){var o,s=n.touches[0],l=document.elementFromPoint(s.clientX,s.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(ry),u=null!==(o=l.getAttribute(iy))&&void 0!==o?o:void 0,d=cC(t.getState(),c,u);t.dispatch(Tm({activeDataKey:u,activeIndex:c,activeCoordinate:d}))}}});var hC=Vf({name:"errorBars",initialState:{},reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(e=>e.dataKey!==r.dataKey||e.direction!==r.direction))}}}),{addErrorBar:fC,removeErrorBar:pC}=hC.actions,mC=Ah({brush:R_,cartesianAxis:v_,chartData:Hm,errorBars:hC.reducer,graphicalItems:N_,layout:Qm,legend:W_,options:Np,polarAxis:Z_,polarOptions:nC,referenceElements:I_,rootProps:K_,tooltip:Fm});function gC(e){var{preloadedState:t,children:n,reduxStoreName:i}=e,a=hy(),o=(0,r.useRef)(null);if(a)return n;null==o.current&&(o.current=function(e){return Df({reducer:mC,preloadedState:e,middleware:e=>e({serializableCheck:!1}).concat([r_.middleware,a_.middleware,aC.middleware,sC.middleware,dC.middleware]),devTools:{serialize:{replacer:o_},name:"recharts-".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart")}})}(t,i));var s=sg;return r.createElement(Rp,{context:s,store:o.current},n)}var yC=e=>{var{chartData:t}=e,n=cg(),i=hy();return(0,r.useEffect)(()=>i?()=>{}:(n(zm(t)),()=>{n(zm(void 0))}),[t,n,i]),null};function vC(e){var{layout:t,width:n,height:i,margin:a}=e,o=cg(),s=hy();return(0,r.useEffect)(()=>{s||(o(Gm(t)),o(Ym({width:n,height:i})),o(Km(a)))},[o,s,t,n,i,a]),null}function bC(e){var t=cg();return(0,r.useEffect)(()=>{t(G_(e))},[t,e]),null}function xC(e){var t=cg();return(0,r.useEffect)(()=>{t(tC(e))},[t,e]),null}var wC=()=>fg(e=>e.rootProps.accessibilityLayer),kC=n(2086),SC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function jC(e){return"string"===typeof e&&SC.includes(e)}var NC=["points","pathLength"],EC={svg:["viewBox","children"],polygon:NC,polyline:NC},_C=(e,t)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,r.isValidElement)(e)&&(n=e.props),"object"!==typeof n&&"function"!==typeof n)return null;var i={};return Object.keys(n).forEach(e=>{jC(e)&&(i[e]=t||(t=>n[e](n,t)))}),i},CC=(e,t,n)=>{if(null===e||"object"!==typeof e&&"function"!==typeof e)return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];jC(i)&&"function"===typeof a&&(r||(r={}),r[i]=((e,t,n)=>r=>(e(t,n,r),null))(a,t,n))}),r},AC=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function OC(e){return"string"===typeof e&&AC.includes(e)}function TC(e){var t=Object.entries(e).filter(e=>{var[t]=e;return OC(t)});return Object.fromEntries(t)}var PC=e=>"string"===typeof e?e:e?e.displayName||e.name||"Component":"",IC=null,MC=null,DC=e=>{if(e===IC&&Array.isArray(MC))return MC;var t=[];return r.Children.forEach(e,e=>{gh(e)||((0,kC.isFragment)(e)?t=t.concat(DC(e.props.children)):t.push(e))}),MC=t,IC=e,t};function LC(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(e=>PC(e)):[PC(t)],DC(e).forEach(e=>{var t=rh()(e,"type.displayName")||rh()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)}),n}var RC=e=>!e||"object"!==typeof e||!("clipDot"in e)||Boolean(e.clipDot),UC=(e,t,n)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var i=e;if((0,r.isValidElement)(e)&&(i=e.props),"object"!==typeof i&&"function"!==typeof i)return null;var a={};return Object.keys(i).forEach(e=>{var r;((e,t,n,r)=>{var i;if("symbol"===typeof t||"number"===typeof t)return!0;var a=null!==(i=r&&(null===EC||void 0===EC?void 0:EC[r]))&&void 0!==i?i:[],o=t.startsWith("data-"),s="function"!==typeof e&&(Boolean(r)&&a.includes(t)||OC(t)),l=Boolean(n)&&jC(t);return o||s||l})(null===(r=i)||void 0===r?void 0:r[e],e,t,n)&&(a[e]=i[e])}),a},FC=["children","width","height","viewBox","className","style","title","desc"];function BC(){return BC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BC.apply(null,arguments)}var zC=(0,r.forwardRef)((e,t)=>{var{children:n,width:i,height:a,viewBox:o,className:s,style:l,title:c,desc:u}=e,d=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,FC),h=o||{width:i,height:a,x:0,y:0},f=Zd("recharts-surface",s);return r.createElement("svg",BC({},UC(d,!0,"svg"),{className:f,width:i,height:a,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:t}),r.createElement("title",null,c),r.createElement("desc",null,u),n)}),VC=["children"];function WC(){return WC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WC.apply(null,arguments)}var HC={width:"100%",height:"100%"},qC=(0,r.forwardRef)((e,t)=>{var n=vy(),i=by(),a=wC();if(!Lk(n)||!Lk(i))return null;var o,s,{children:l,otherAttributes:c,title:u,desc:d}=e;return o="number"===typeof c.tabIndex?c.tabIndex:a?0:void 0,s="string"===typeof c.role?c.role:a?"application":void 0,r.createElement(zC,WC({},c,{title:u,desc:d,role:s,tabIndex:o,width:n,height:i,style:HC,ref:t}),l)}),KC=e=>{var{children:t}=e,n=fg(py);if(!n)return null;var{width:i,height:a,y:o,x:s}=n;return r.createElement(zC,{width:i,height:a,x:s,y:o},t)},GC=(0,r.forwardRef)((e,t)=>{var{children:n}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,VC);return hy()?r.createElement(KC,null,n):r.createElement(qC,WC({ref:t},i),n)});var YC=new(n(8499)),$C="recharts.syncEvent.tooltip",QC="recharts.syncEvent.brush";function XC(e){return e.tooltip.syncInteraction}var JC=()=>{};function ZC(){var e=cg();(0,r.useEffect)(()=>{e(Ep())},[e]),function(){var e=fg(sS),t=fg(cS),n=cg(),i=fg(lS),a=fg(_E),o=wy(),s=my(),l=fg(e=>e.rootProps.className);(0,r.useEffect)(()=>{if(null==e)return JC;var r=(r,l,c)=>{if(t!==c&&e===r)if("index"!==i){if(null!=a){var u;if("function"===typeof i){var d={activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate},h=i(a,d);u=a[h]}else"value"===i&&(u=a.find(e=>String(e.value)===l.payload.label));var{coordinate:f}=l.payload;if(null!=u&&!1!==l.payload.active&&null!=f&&null!=s){var{x:p,y:m}=f,g=Math.min(p,s.x+s.width),y=Math.min(m,s.y+s.height),v={x:"horizontal"===o?u.coordinate:g,y:"horizontal"===o?y:u.coordinate},b=Rm({active:l.payload.active,coordinate:v,dataKey:l.payload.dataKey,index:String(u.index),label:l.payload.label});n(b)}else n(Rm({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}))}}else n(l)};return YC.on($C,r),()=>{YC.off($C,r)}},[l,n,t,e,i,a,o,s])}(),function(){var e=fg(sS),t=fg(cS),n=cg();(0,r.useEffect)(()=>{if(null==e)return JC;var r=(r,i,a)=>{t!==a&&e===r&&n(Vm(i))};return YC.on(QC,r),()=>{YC.off(QC,r)}},[n,t,e])}()}function eA(e,t,n,i,a,o){var s=fg(n=>((e,t,n)=>{if(null!=t){var r=qN(e);return"axis"===t?"hover"===n?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:"hover"===n?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}})(n,e,t)),l=fg(cS),c=fg(sS),u=fg(lS),d=fg(XC),h=null===d||void 0===d?void 0:d.active;(0,r.useEffect)(()=>{if(!h&&null!=c&&null!=l){var e=Rm({active:o,coordinate:n,dataKey:s,index:a,label:"number"===typeof i?String(i):i});YC.emit($C,c,e,l)}},[h,n,s,a,i,l,c,u,o])}var tA=(0,r.createContext)(null),nA=(0,r.createContext)(null);function rA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function iA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rA(Object(n),!0).forEach(function(t){aA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function aA(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oA=(0,r.forwardRef)((e,t)=>{var{children:n,className:i,height:a,onClick:o,onContextMenu:s,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:f,onTouchEnd:p,onTouchMove:m,onTouchStart:g,style:y,width:v}=e,b=cg(),[x,w]=(0,r.useState)(null),[k,S]=(0,r.useState)(null);ZC();var j=function(){var e=cg(),[t,n]=(0,r.useState)(null),i=fg(Zg);return(0,r.useEffect)(()=>{if(null!=t){var n=t.getBoundingClientRect().width/t.offsetWidth;Dk(n)&&n!==i&&e($m(n))}},[t,e,i]),n}(),N=(0,r.useCallback)(e=>{j(e),"function"===typeof t&&t(e),w(e),S(e)},[j,t,w,S]),E=(0,r.useCallback)(e=>{b(n_(e)),b(oC({handler:o,reactEvent:e}))},[b,o]),_=(0,r.useCallback)(e=>{b(i_(e)),b(oC({handler:u,reactEvent:e}))},[b,u]),C=(0,r.useCallback)(e=>{b(Im()),b(oC({handler:d,reactEvent:e}))},[b,d]),A=(0,r.useCallback)(e=>{b(i_(e)),b(oC({handler:h,reactEvent:e}))},[b,h]),O=(0,r.useCallback)(()=>{b(iC())},[b]),T=(0,r.useCallback)(e=>{b(rC(e.key))},[b]),P=(0,r.useCallback)(e=>{b(oC({handler:s,reactEvent:e}))},[b,s]),I=(0,r.useCallback)(e=>{b(oC({handler:l,reactEvent:e}))},[b,l]),M=(0,r.useCallback)(e=>{b(oC({handler:c,reactEvent:e}))},[b,c]),D=(0,r.useCallback)(e=>{b(oC({handler:f,reactEvent:e}))},[b,f]),L=(0,r.useCallback)(e=>{b(oC({handler:g,reactEvent:e}))},[b,g]),R=(0,r.useCallback)(e=>{b(uC(e)),b(oC({handler:m,reactEvent:e}))},[b,m]),U=(0,r.useCallback)(e=>{b(oC({handler:p,reactEvent:e}))},[b,p]);return r.createElement(tA.Provider,{value:x},r.createElement(nA.Provider,{value:k},r.createElement("div",{className:Zd("recharts-wrapper",i),style:iA({position:"relative",cursor:"default",width:v,height:a},y),onClick:E,onContextMenu:P,onDoubleClick:I,onFocus:O,onKeyDown:T,onMouseDown:M,onMouseEnter:_,onMouseLeave:C,onMouseMove:A,onMouseUp:D,onTouchEnd:U,onTouchMove:R,onTouchStart:L,ref:N},n)))}),sA=ig([ly],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),lA=ig([sA,Xg,Jg],(e,t,n)=>{if(e&&null!=t&&null!=n)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),cA=()=>fg(lA),uA=(0,r.createContext)(void 0),dA=e=>{var{children:t}=e,[n]=(0,r.useState)("".concat(uh("recharts"),"-clip")),i=cA();if(null==i)return null;var{x:a,y:o,width:s,height:l}=i;return r.createElement(uA.Provider,{value:n},r.createElement("defs",null,r.createElement("clipPath",{id:n},r.createElement("rect",{x:a,y:o,height:l,width:s}))),t)},hA=["children","className","width","height","style","compact","title","desc"];var fA=(0,r.forwardRef)((e,t)=>{var{children:n,className:i,width:a,height:o,style:s,compact:l,title:c,desc:u}=e,d=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,hA),h=TC(d);return l?r.createElement(GC,{otherAttributes:h,title:c,desc:u},n):r.createElement(oA,{className:i,style:s,width:a,height:o,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},r.createElement(GC,{otherAttributes:h,title:c,desc:u,ref:t},r.createElement(dA,null,n)))});function pA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function mA(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gA(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pA(Object(n),!0).forEach(function(t){mA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e),r=t;return Object.keys(t).reduce((e,t)=>(void 0===e[t]&&void 0!==r[t]&&(e[t]=r[t]),e),n)}var yA=["width","height","layout"];function vA(){return vA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vA.apply(null,arguments)}var bA={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial"},xA=(0,r.forwardRef)(function(e,t){var n,i=gA(e.categoricalChartProps,bA),{width:a,height:o,layout:s}=i,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(i,yA);if(!Lk(a)||!Lk(o))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h}=e,f={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,eventEmitter:void 0};return r.createElement(gC,{preloadedState:{options:f},reduxStoreName:null!==(n=i.id)&&void 0!==n?n:c},r.createElement(yC,{chartData:i.data}),r.createElement(vC,{width:a,height:o,layout:s,margin:i.margin}),r.createElement(bC,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),r.createElement(xC,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),r.createElement(fA,vA({width:a,height:o},l,{ref:t})))}),wA=["item"],kA={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},SA=(0,r.forwardRef)((e,t)=>{var n=gA(e,kA);return r.createElement(xA,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:wA,tooltipPayloadSearcher:Sp,categoricalChartProps:n,ref:t})}),jA=e=>e.graphicalItems.polarItems,NA=ig([IS,MS],ej),EA=ig([jA,XS,NA],rj),_A=ig([EA],lj),CA=ig([_A,Ik],uj),AA=ig([CA,XS,EA],hj),OA=ig([CA,XS,EA],(e,t,n)=>n.length>0?e.flatMap(e=>n.flatMap(n=>{var r;return{value:Rg(e,null!==(r=t.dataKey)&&void 0!==r?r:n.dataKey),errorDomain:[]}})).filter(Boolean):null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:Rg(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]}))),TA=()=>{},PA=ig([XS,Hj,TA,OA,TA,xy,IS],qj),IA=ig([XS,xy,CA,AA,aS,IS,PA],Yj),MA=ig([IA,XS,Xj],Zj);ig([XS,IA,MA,IS],tN);function DA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function LA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DA(Object(n),!0).forEach(function(t){RA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function RA(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var UA=ig([jA,(e,t)=>t],(e,t)=>e.filter(e=>"pie"===e.type).find(e=>e.id===t)),FA=[],BA=(e,t,n)=>0===(null===n||void 0===n?void 0:n.length)?FA:n,zA=ig([Ik,UA,BA],(e,t,n)=>{var r,{chartData:i}=e;if(null!=t&&((r=null!=(null===t||void 0===t?void 0:t.data)&&t.data.length>0?t.data:i)&&r.length||null==n||(r=n.map(e=>LA(LA({},t.presentationProps),e.props))),null!=r))return r}),VA=ig([zA,UA,BA],(e,t,n)=>{if(null!=e&&null!=t)return e.map((e,r)=>{var i,a,o=Rg(e,t.nameKey,t.name);return a=null!==n&&void 0!==n&&null!==(i=n[r])&&void 0!==i&&null!==(i=i.props)&&void 0!==i&&i.fill?n[r].props.fill:"object"===typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:Qg(o,t.dataKey),color:a,payload:e,type:t.legendType}})}),WA=ig([zA,UA,BA,ly],(e,t,n,r)=>{if(null!=t&&null!=e)return function(e){var t,n,r,{pieSettings:i,displayedData:a,cells:o,offset:s}=e,{cornerRadius:l,startAngle:c,endAngle:u,dataKey:d,nameKey:h,tooltipType:f}=i,p=Math.abs(i.minAngle),m=TI(c,u),g=Math.abs(m),y=a.length<=1?0:null!==(t=i.paddingAngle)&&void 0!==t?t:0,v=a.filter(e=>0!==Rg(e,d,0)).length,b=g-v*p-(g>=360?v:v-1)*y,x=a.reduce((e,t)=>{var n=Rg(t,d,0);return e+(sh(n)?n:0)},0);x>0&&(n=a.map((e,t)=>{var n,a=Rg(e,d,0),u=Rg(e,h,t),g=OI(i,s,e),v=(sh(a)?a:0)/x,w=jI(jI({},e),o&&o[t]&&o[t].props),k=(n=t?r.endAngle+ih(m)*y*(0!==a?1:0):c)+ih(m)*((0!==a?p:0)+v*b),S=(n+k)/2,j=(g.innerRadius+g.outerRadius)/2,N=[{name:u,value:a,payload:w,dataKey:d,type:f}],E=Cg(g.cx,g.cy,j,S);return r=jI(jI(jI(jI({},i.presentationProps),{},{percent:v,cornerRadius:l,name:u,tooltipPayload:N,midAngle:S,middleRadius:j,tooltipPosition:E},w),g),{},{value:Rg(e,d),startAngle:n,endAngle:k,payload:w,paddingAngle:ih(m)*y})}));return n}({offset:r,pieSettings:t,displayedData:e,cells:n})}),HA=["children","className"];function qA(){return qA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qA.apply(null,arguments)}var KA,GA,YA,$A,QA,XA,JA,ZA,eO,tO,nO,rO,iO,aO,oO=r.forwardRef((e,t)=>{var{children:n,className:i}=e,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,HA),o=Zd("recharts-layer",i);return r.createElement("g",qA({className:o},UC(a,!0),{ref:t}),n)});function sO(){}function lO(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function cO(e){this._context=e}function uO(e){this._context=e}function dO(e){this._context=e}cO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lO(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lO(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},uO.prototype={areaStart:sO,areaEnd:sO,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:lO(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},dO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:lO(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class hO{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function fO(e){this._context=e}function pO(e){this._context=e}function mO(e){return new pO(e)}function gO(e){return e<0?-1:1}function yO(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(gO(a)+gO(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function vO(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function bO(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function xO(e){this._context=e}function wO(e){this._context=new kO(e)}function kO(e){this._context=e}function SO(e){this._context=e}function jO(e){var t,n,r=e.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function NO(e,t){this._context=e,this._t=t}function EO(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}fO.prototype={areaStart:sO,areaEnd:sO,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},pO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},xO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:bO(this,this._t0,vO(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,bO(this,vO(this,n=yO(this,e,t)),n);break;default:bO(this,this._t0,n=yO(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(wO.prototype=Object.create(xO.prototype)).point=function(e,t){xO.prototype.point.call(this,t,e)},kO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}},SO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=jO(e),i=jO(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},NO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};const _O=Math.PI,CO=2*_O,AO=1e-6,OO=CO-AO;function TO(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class PO{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?TO:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return TO;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append(KA||(KA=EO(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(GA||(GA=EO(["Z"]))))}lineTo(e,t){this._append(YA||(YA=EO(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,r){this._append($A||($A=EO(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+r)}bezierCurveTo(e,t,n,r,i,a){this._append(QA||(QA=EO(["C",",",",",",",",",",",""])),+e,+t,+n,+r,this._x1=+i,this._y1=+a)}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error("negative radius: ".concat(i));let a=this._x1,o=this._y1,s=n-e,l=r-t,c=a-e,u=o-t,d=c*c+u*u;if(null===this._x1)this._append(XA||(XA=EO(["M",",",""])),this._x1=e,this._y1=t);else if(d>AO)if(Math.abs(u*s-l*c)>AO&&i){let h=n-a,f=r-o,p=s*s+l*l,m=h*h+f*f,g=Math.sqrt(p),y=Math.sqrt(d),v=i*Math.tan((_O-Math.acos((p+d-m)/(2*g*y)))/2),b=v/y,x=v/g;Math.abs(b-1)>AO&&this._append(ZA||(ZA=EO(["L",",",""])),e+b*c,t+b*u),this._append(eO||(eO=EO(["A",",",",0,0,",",",",",""])),i,i,+(u*h>c*f),this._x1=e+x*s,this._y1=t+x*l)}else this._append(JA||(JA=EO(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,r,i,a){if(e=+e,t=+t,a=!!a,(n=+n)<0)throw new Error("negative radius: ".concat(n));let o=n*Math.cos(r),s=n*Math.sin(r),l=e+o,c=t+s,u=1^a,d=a?r-i:i-r;null===this._x1?this._append(tO||(tO=EO(["M",",",""])),l,c):(Math.abs(this._x1-l)>AO||Math.abs(this._y1-c)>AO)&&this._append(nO||(nO=EO(["L",",",""])),l,c),n&&(d<0&&(d=d%CO+CO),d>OO?this._append(rO||(rO=EO(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,u,e-o,t-s,n,n,u,this._x1=l,this._y1=c):d>AO&&this._append(iO||(iO=EO(["A",",",",0,",",",",",",",""])),n,n,+(d>=_O),u,this._x1=e+n*Math.cos(i),this._y1=t+n*Math.sin(i)))}rect(e,t,n,r){this._append(aO||(aO=EO(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+r,-n)}toString(){return this._}}function IO(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new PO(t)}function MO(e){return e[0]}function DO(e){return e[1]}function LO(e,t){var n=bg(!0),r=null,i=mO,a=null,o=IO(s);function s(s){var l,c,u,d=(s=vg(s)).length,h=!1;for(null==r&&(a=i(u=o())),l=0;l<=d;++l)!(l<d&&n(c=s[l],l,s))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(c,l,s),+t(c,l,s));if(u)return a=null,u+""||null}return e="function"===typeof e?e:void 0===e?MO:bg(e),t="function"===typeof t?t:void 0===t?DO:bg(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:bg(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:bg(+e),s):t},s.defined=function(e){return arguments.length?(n="function"===typeof e?e:bg(!!e),s):n},s.curve=function(e){return arguments.length?(i=e,null!=r&&(a=i(r)),s):i},s.context=function(e){return arguments.length?(null==e?r=a=null:a=i(r=e),s):r},s}function RO(e,t,n){var r=null,i=bg(!0),a=null,o=mO,s=null,l=IO(c);function c(c){var u,d,h,f,p,m=(c=vg(c)).length,g=!1,y=new Array(m),v=new Array(m);for(null==a&&(s=o(p=l())),u=0;u<=m;++u){if(!(u<m&&i(f=c[u],u,c))===g)if(g=!g)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=u-1;h>=d;--h)s.point(y[h],v[h]);s.lineEnd(),s.areaEnd()}g&&(y[u]=+e(f,u,c),v[u]=+t(f,u,c),s.point(r?+r(f,u,c):y[u],n?+n(f,u,c):v[u]))}if(p)return s=null,p+""||null}function u(){return LO().defined(i).curve(o).context(a)}return e="function"===typeof e?e:void 0===e?MO:bg(+e),t="function"===typeof t?t:bg(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?DO:bg(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:bg(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:bg(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:bg(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:bg(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:bg(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:bg(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"===typeof e?e:bg(!!e),c):i},c.curve=function(e){return arguments.length?(o=e,null!=a&&(s=o(a)),c):o},c.context=function(e){return arguments.length?(null==e?a=s=null:s=o(a=e),c):a},c}function UO(){return UO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UO.apply(null,arguments)}function FO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function BO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FO(Object(n),!0).forEach(function(t){zO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function zO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var VO={curveBasisClosed:function(e){return new uO(e)},curveBasisOpen:function(e){return new dO(e)},curveBasis:function(e){return new cO(e)},curveBumpX:function(e){return new hO(e,!0)},curveBumpY:function(e){return new hO(e,!1)},curveLinearClosed:function(e){return new fO(e)},curveLinear:mO,curveMonotoneX:function(e){return new xO(e)},curveMonotoneY:function(e){return new wO(e)},curveNatural:function(e){return new SO(e)},curveStep:function(e){return new NO(e,.5)},curveStepAfter:function(e){return new NO(e,1)},curveStepBefore:function(e){return new NO(e,0)}},WO=e=>Dk(e.x)&&Dk(e.y),HO=e=>e.x,qO=e=>e.y,KO=e=>{var t,{type:n="linear",points:r=[],baseLine:i,layout:a,connectNulls:o=!1}=e,s=((e,t)=>{if("function"===typeof e)return e;var n="curve".concat(yh(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?VO[n]||mO:VO["".concat(n).concat("vertical"===t?"Y":"X")]})(n,a),l=o?r.filter(WO):r;if(Array.isArray(i)){var c=o?i.filter(e=>WO(e)):i,u=l.map((e,t)=>BO(BO({},e),{},{base:c[t]}));return(t="vertical"===a?RO().y(qO).x1(HO).x0(e=>e.base.x):RO().x(HO).y1(qO).y0(e=>e.base.y)).defined(WO).curve(s),t(u)}return(t="vertical"===a&&sh(i)?RO().y(qO).x1(HO).x0(i):sh(i)?RO().x(HO).y1(qO).y0(i):LO().x(HO).y(qO)).defined(WO).curve(s),t(l)},GO=e=>{var{className:t,points:n,path:i,pathRef:a}=e;if((!n||!n.length)&&!i)return null;var o=n&&n.length?KO(e):i;return r.createElement("path",UO({},TC(e),_C(e),{className:Zd("recharts-curve",t),d:null===o?void 0:o,ref:a}))},YO=!("undefined"!==typeof window&&window.document&&Boolean(window.document.createElement)&&window.setTimeout);function $O(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function XO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QO(Object(n),!0).forEach(function(t){JO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function JO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ZO=XO({},{cacheSize:2e3,enableCache:!0}),eT=new class{constructor(e){$O(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return void 0!==t&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}(ZO.cacheSize),tT={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},nT="recharts_measurement_span";var rT=(e,t)=>{try{var n=document.getElementById(nT);n||((n=document.createElement("span")).setAttribute("id",nT),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,tT,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch(i){return{width:0,height:0}}},iT=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||YO)return{width:0,height:0};if(!ZO.enableCache)return rT(e,t);var n=function(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(s)}(e,t),r=eT.get(n);if(r)return r;var i=rT(e,t);return eT.set(n,i),i},aT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sT=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,lT=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,cT={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},uT=Object.keys(cT),dT="NaN";class hT{static parse(e){var t,[,n,r]=null!==(t=lT.exec(e))&&void 0!==t?t:[];return new hT(parseFloat(n),null!==r&&void 0!==r?r:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,ah(e)&&(this.unit=""),""===t||sT.test(t)||(this.num=NaN,this.unit=""),uT.includes(t)&&(this.num=function(e,t){return e*cT[t]}(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new hT(NaN,""):new hT(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new hT(NaN,""):new hT(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new hT(NaN,""):new hT(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new hT(NaN,""):new hT(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ah(this.num)}}function fT(e){if(e.includes(dT))return dT;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=null!==(n=aT.exec(t))&&void 0!==n?n:[],o=hT.parse(null!==r&&void 0!==r?r:""),s=hT.parse(null!==a&&void 0!==a?a:""),l="*"===i?o.multiply(s):o.divide(s);if(l.isNaN())return dT;t=t.replace(aT,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,d,h]=null!==(c=oT.exec(t))&&void 0!==c?c:[],f=hT.parse(null!==u&&void 0!==u?u:""),p=hT.parse(null!==h&&void 0!==h?h:""),m="+"===d?f.add(p):f.subtract(p);if(m.isNaN())return dT;t=t.replace(oT,m.toString())}return t}var pT=/\(([^()]*)\)/;function mT(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t,n=e;null!=(t=pT.exec(n));){var[,r]=t;n=n.replace(pT,fT(r))}return n}(t),t=fT(t)}function gT(e){var t=function(e){try{return mT(e)}catch(t){return dT}}(e.slice(5,-1));return t===dT?"":t}var yT=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],vT=["dx","dy","angle","className","breakAll"];function bT(){return bT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bT.apply(null,arguments)}function xT(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var wT=/[ \f\n\r\t\v\u2028\u2029]+/,kT=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];return gh(t)||(i=n?t.toString().split(""):t.toString().split(wT)),{wordsWithComputedWidth:i.map(e=>({word:e,width:iT(e,r).width})),spaceWidth:n?0:iT("\xa0",r).width}}catch(a){return null}},ST=e=>[{words:gh(e)?[]:e.toString().split(wT)}],jT=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=e;if((t||n)&&!YO){var s=kT({breakAll:a,children:r,style:i});if(!s)return ST(r);var{wordsWithComputedWidth:l,spaceWidth:c}=s;return((e,t,n,r,i)=>{var{maxLines:a,children:o,style:s,breakAll:l}=e,c=sh(a),u=o,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((e,t)=>{var{word:a,width:o}=t,s=e[e.length-1];if(s&&(null==r||i||s.width+o+n<Number(r)))s.words.push(a),s.width+=o+n;else{var l={words:[a],width:o};e.push(l)}return e},[])},h=d(t),f=e=>e.reduce((e,t)=>e.width>t.width?e:t);if(!c||i)return h;if(!(h.length>a||f(h).width>Number(r)))return h;for(var p,m=e=>{var t=u.slice(0,e),n=kT({breakAll:l,style:s,children:t+"\u2026"}).wordsWithComputedWidth,i=d(n);return[i.length>a||f(i).width>Number(r),i]},g=0,y=u.length-1,v=0;g<=y&&v<=u.length-1;){var b=Math.floor((g+y)/2),x=b-1,[w,k]=m(x),[S]=m(b);if(w||S||(g=b+1),w&&S&&(y=b-1),!w&&S){p=k;break}v++}return p||h})({breakAll:a,children:r,maxLines:o,style:i},l,c,t,n)}return ST(r)},NT="#808080",ET=(0,r.forwardRef)((e,t)=>{var{x:n=0,y:i=0,lineHeight:a="1em",capHeight:o="0.71em",scaleToFit:s=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=NT}=e,d=xT(e,yT),h=(0,r.useMemo)(()=>jT({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:s,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,s,d.style,d.width]),{dx:f,dy:p,angle:m,className:g,breakAll:y}=d,v=xT(d,vT);if(!lh(n)||!lh(i))return null;var b,x=n+(sh(f)?f:0),w=i+(sh(p)?p:0);switch(c){case"start":b=gT("calc(".concat(o,")"));break;case"middle":b=gT("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:b=gT("calc(".concat(h.length-1," * -").concat(a,")"))}var k=[];if(s){var S=h[0].width,{width:j}=d;k.push("scale(".concat(sh(j)?j/S:1,")"))}return m&&k.push("rotate(".concat(m,", ").concat(x,", ").concat(w,")")),k.length&&(v.transform=k.join(" ")),r.createElement("text",bT({},UC(v,!0),{ref:t,x:x,y:w,className:Zd("recharts-text",g),textAnchor:l,fill:u.includes("url")?NT:u}),h.map((e,t)=>{var n=e.words.join(y?"":" ");return r.createElement("tspan",{x:x,dy:0===t?b:a,key:"".concat(n,"-").concat(t)},n)}))});ET.displayName="Text";var _T=e=>null;_T.displayName="Cell";var CT=n(9397),AT=n.n(CT),OT=n(4250),TT=n.n(OT),PT=1e-4,IT=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],MT=(e,t)=>e.map((e,n)=>e*t**n).reduce((e,t)=>e+t),DT=(e,t)=>n=>{var r=IT(e,t);return MT(r,n)},LT=function(){for(var e,t,n,r,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];if(1===a.length)switch(a[0]){case"linear":[e,n,t,r]=[0,0,1,1];break;case"ease":[e,n,t,r]=[.25,.1,.25,1];break;case"ease-in":[e,n,t,r]=[.42,0,1,1];break;case"ease-out":[e,n,t,r]=[.42,0,.58,1];break;case"ease-in-out":[e,n,t,r]=[0,0,.58,1];break;default:var s=a[0].split("(");"cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length&&([e,n,t,r]=s[1].split(")")[0].split(",").map(e=>parseFloat(e)))}else 4===a.length&&([e,n,t,r]=a);var l,c,u=DT(e,t),d=DT(n,r),h=(l=e,c=t,e=>{var t=[...IT(l,c).map((e,t)=>e*t).slice(1),0];return MT(t,e)}),f=e=>e>1?1:e<0?0:e,p=e=>{for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=u(n)-t,a=h(n);if(Math.abs(i-t)<PT||a<PT)return d(n);n=f(n-i/a)}return d(n)};return p.isStepper=!1,p},RT=e=>{if("string"===typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return LT(e);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:n=8,dt:r=17}=e,i=(e,i,a)=>{var o=a+(-(e-i)*t-a*n)*r/1e3,s=a*r/1e3+e;return Math.abs(s-i)<PT&&Math.abs(o)<PT?[i,0]:[s,o]};return i.isStepper=!0,i.dt=r,i}();default:if("cubic-bezier"===e.split("(")[0])return LT(e)}return"function"===typeof e?e:null};function UT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function FT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UT(Object(n),!0).forEach(function(t){BT(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function BT(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zT=(e,t)=>Object.keys(t).reduce((n,r)=>FT(FT({},n),{},{[r]:e(r,t[r])}),{});function VT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function WT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VT(Object(n),!0).forEach(function(t){HT(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function HT(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qT=(e,t,n)=>e+(t-e)*n,KT=e=>{var{from:t,to:n}=e;return t!==n},GT=(e,t,n)=>{var r=zT((t,n)=>{if(KT(n)){var[r,i]=e(n.from,n.to,n.velocity);return WT(WT({},n),{},{from:r,velocity:i})}return n},t);return n<1?zT((e,t)=>KT(t)?WT(WT({},t),{},{velocity:qT(t.velocity,r[e].velocity,n),from:qT(t.from,r[e].from,n)}):t,t):GT(e,r,n-1)};function YT(e,t,n,r,i,a){var o,s=r.reduce((n,r)=>WT(WT({},n),{},{[r]:{from:e[r],velocity:0,to:t[r]}}),{}),l=null,c=r=>{o||(o=r);var u=(r-o)/n.dt;s=GT(n,s,u),i(WT(WT(WT({},e),t),zT((e,t)=>t.from,s))),o=r,Object.values(s).filter(KT).length&&(l=a.setTimeout(c))};return()=>(l=a.setTimeout(c),()=>{l()})}const $T=(e,t,n,r,i,a)=>{var o,s,l=(o=e,s=t,[Object.keys(o),Object.keys(s)].reduce((e,t)=>e.filter(e=>t.includes(e))));return!0===n.isStepper?YT(e,t,n,l,i,a):function(e,t,n,r,i,a,o){var s,l=null,c=i.reduce((n,r)=>WT(WT({},n),{},{[r]:[e[r],t[r]]}),{}),u=i=>{s||(s=i);var d=(i-s)/r,h=zT((e,t)=>qT(...t,n(d)),c);if(a(WT(WT(WT({},e),t),h)),d<1)l=o.setTimeout(u);else{var f=zT((e,t)=>qT(...t,n(1)),c);a(WT(WT(WT({},e),t),f))}};return()=>(l=o.setTimeout(u),()=>{l()})}(e,t,n,r,l,i,a)};class QT{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=performance.now(),r=null,i=a=>{a-n>=t?e(a):"function"===typeof requestAnimationFrame&&(r=requestAnimationFrame(i))};return r=requestAnimationFrame(i),()=>{cancelAnimationFrame(r)}}}function XT(){return function(e){var t=()=>null,n=!1,r=null,i=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,[s,...l]=o;return"number"===typeof s?void(r=e.setTimeout(i.bind(null,l),s)):(i(s),void(r=e.setTimeout(i.bind(null,l))))}"string"===typeof a&&t(a),"object"===typeof a&&t(a),"function"===typeof a&&a()}};return{stop:()=>{n=!0},start:e=>{n=!1,r&&(r(),r=null),i(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e}}(new QT)}var JT=(0,r.createContext)(XT);function ZT(e,t){var n=(0,r.useContext)(JT);return(0,r.useMemo)(()=>null!==t&&void 0!==t?t:n(e),[e,t,n])}var eP=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function tP(){return tP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tP.apply(null,arguments)}function nP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nP(Object(n),!0).forEach(function(t){iP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function iP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class aP extends r.PureComponent{constructor(e,t){super(e,t),iP(this,"mounted",!1),iP(this,"manager",void 0),iP(this,"stopJSAnimation",null),iP(this,"unSubscribe",null);var{isActive:n,attributeName:r,from:i,to:a,children:o,duration:s,animationManager:l}=this.props;if(this.manager=l,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||s<=0)return this.state={style:{}},void("function"===typeof o&&(this.state={style:a}));if(i){if("function"===typeof o)return void(this.state={style:i});this.state={style:r?{[r]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:t}=this.props;this.mounted=!0,e&&t&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:t,canBegin:n,attributeName:r,shouldReAnimate:i,to:a,from:o}=this.props,{style:s}=this.state;if(n)if(t){if(!(TT()(e.to,a)&&e.canBegin&&e.isActive)){var l=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var c=l||i?o:e.to;if(this.state&&s){var u={style:r?{[r]:c}:c};(r&&s[r]!==c||!r&&s!==c)&&this.setState(u)}this.runAnimation(rP(rP({},this.props),{},{from:c,begin:0}))}}else{var d={style:r?{[r]:a}:a};this.state&&s&&(r&&s[r]!==a||!r&&s!==a)&&this.setState(d)}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:t,to:n,duration:r,easing:i,begin:a,onAnimationEnd:o,onAnimationStart:s}=e,l=$T(t,n,RT(i),r,this.changeStyle,this.manager.getTimeoutController());this.manager.start([s,a,()=>{this.stopJSAnimation=l()},r,o])}runAnimation(e){var{begin:t,duration:n,attributeName:r,to:i,easing:a,onAnimationStart:o,onAnimationEnd:s,children:l}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),"function"!==typeof a&&"function"!==typeof l&&"spring"!==a){var c=r?{[r]:i}:i,u=((e,t,n)=>e.map(e=>{return"".concat((r=e,r.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())))," ").concat(t,"ms ").concat(n);var r}).join(","))(Object.keys(c),n,a);this.manager.start([o,t,rP(rP({},c),{},{transition:u}),n,s])}else this.runJSAnimation(e)}render(){var e=this.props,{children:t,begin:n,duration:i,attributeName:a,easing:o,isActive:s,from:l,to:c,canBegin:u,onAnimationEnd:d,shouldReAnimate:h,onAnimationReStart:f,animationManager:p}=e,m=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,eP),g=r.Children.count(t),y=this.state.style;if("function"===typeof t)return t(y);if(!s||0===g||i<=0)return t;var v=e=>{var{style:t={},className:n}=e.props;return(0,r.cloneElement)(e,rP(rP({},m),{},{style:rP(rP({},t),y),className:n}))};return 1===g?v(r.Children.only(t)):r.createElement("div",null,r.Children.map(t,e=>v(e)))}}function oP(e){var t,n=ZT(null!==(t=e.attributeName)&&void 0!==t?t:Object.keys(e.to).join(","),e.animationManager);return r.createElement(aP,tP({},e,{animationManager:n}))}function sP(){return sP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sP.apply(null,arguments)}iP(aP,"displayName","Animate"),iP(aP,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var lP=(e,t,n,r,i)=>{var a,o=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(o>0&&i instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=i[d]>o?o:i[d];a="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(a+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),a+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(a+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+s*u[1])),a+="L ".concat(e+n,",").concat(t+r-s*u[2]),u[2]>0&&(a+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),a+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(a+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-s*u[3])),a+="Z"}else if(o>0&&i===+i&&i>0){var h=Math.min(o,i);a="M ".concat(e,",").concat(t+s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+s*h,"\n            L ").concat(e+n,",").concat(t+r-s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-s*h," Z")}else a="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return a},cP={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uP=e=>{var t=gA(e,cP),n=(0,r.useRef)(null),[i,a]=(0,r.useState)(-1);(0,r.useEffect)(()=>{if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&a(e)}catch(t){}},[]);var{x:o,y:s,width:l,height:c,radius:u,className:d}=t,{animationEasing:h,animationDuration:f,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:g}=t;if(o!==+o||s!==+s||l!==+l||c!==+c||0===l||0===c)return null;var y=Zd("recharts-rectangle",d);return g?r.createElement(oP,{canBegin:i>0,from:{width:l,height:c,x:o,y:s},to:{width:l,height:c,x:o,y:s},duration:f,animationEasing:h,isActive:g},e=>{var{width:a,height:o,x:s,y:l}=e;return r.createElement(oP,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:f,isActive:m,easing:h},r.createElement("path",sP({},UC(t,!0),{className:y,d:lP(s,l,a,o,u),ref:n})))}):r.createElement("path",sP({},UC(t,!0),{className:y,d:lP(o,s,l,c,u)}))};function dP(){return dP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dP.apply(null,arguments)}var hP=(e,t,n,r,i)=>{var a,o=n-r;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+n,",").concat(t),a+="L ".concat(e+n-o/2,",").concat(t+i),a+="L ".concat(e+n-o/2-r,",").concat(t+i),a+="L ".concat(e,",").concat(t," Z")},fP={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},pP=e=>{var t=gA(e,fP),n=(0,r.useRef)(),[i,a]=(0,r.useState)(-1);(0,r.useEffect)(()=>{if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&a(e)}catch(t){}},[]);var{x:o,y:s,upperWidth:l,lowerWidth:c,height:u,className:d}=t,{animationEasing:h,animationDuration:f,animationBegin:p,isUpdateAnimationActive:m}=t;if(o!==+o||s!==+s||l!==+l||c!==+c||u!==+u||0===l&&0===c||0===u)return null;var g=Zd("recharts-trapezoid",d);return m?r.createElement(oP,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:u,x:o,y:s},to:{upperWidth:l,lowerWidth:c,height:u,x:o,y:s},duration:f,animationEasing:h,isActive:m},e=>{var{upperWidth:a,lowerWidth:o,height:s,x:l,y:c}=e;return r.createElement(oP,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:f,easing:h},r.createElement("path",dP({},UC(t,!0),{className:g,d:hP(l,c,a,o,s),ref:n})))}):r.createElement("g",null,r.createElement("path",dP({},UC(t,!0),{className:g,d:hP(o,s,l,c,u)})))};function mP(){return mP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mP.apply(null,arguments)}var gP=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,c=s*(o?1:-1)+r,u=Math.asin(s/c)/Eg,d=l?i:i+a*u,h=l?i-a*u:i;return{center:Cg(t,n,c,d),circleTangency:Cg(t,n,r,d),lineTangency:Cg(t,n,c*Math.cos(u*Eg),h),theta:u}},yP=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=e,s=((e,t)=>ih(t-e)*Math.min(Math.abs(t-e),359.999))(a,o),l=a+s,c=Cg(t,n,i,a),u=Cg(t,n,i,l),d="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(s)>180),",").concat(+(a>l),",\n    ").concat(u.x,",").concat(u.y,"\n  ");if(r>0){var h=Cg(t,n,r,a),f=Cg(t,n,r,l);d+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(s)>180),",").concat(+(a<=l),",\n            ").concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(t,",").concat(n," Z");return d},vP={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},bP=e=>{var t=gA(e,vP),{cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:h}=t;if(o<a||u===d)return null;var f,p=Zd("recharts-sector",h),m=o-a,g=dh(s,m,0,!0);return f=g>0&&Math.abs(u-d)<360?(e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:c}=e,u=ih(c-l),{circleTangency:d,lineTangency:h,theta:f}=gP({cx:t,cy:n,radius:i,angle:l,sign:u,cornerRadius:a,cornerIsExternal:s}),{circleTangency:p,lineTangency:m,theta:g}=gP({cx:t,cy:n,radius:i,angle:c,sign:-u,cornerRadius:a,cornerIsExternal:s}),y=s?Math.abs(l-c):Math.abs(l-c)-f-g;if(y<0)return o?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*a,",0\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*-a,",0\n      "):yP({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var v="M ".concat(h.x,",").concat(h.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(y>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(m.x,",").concat(m.y,"\n  ");if(r>0){var{circleTangency:b,lineTangency:x,theta:w}=gP({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:k,lineTangency:S,theta:j}=gP({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),N=s?Math.abs(l-c):Math.abs(l-c)-w-j;if(N<0&&0===a)return"".concat(v,"L").concat(t,",").concat(n,"Z");v+="L".concat(S.x,",").concat(S.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(k.x,",").concat(k.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(N>180),",").concat(+(u>0),",").concat(b.x,",").concat(b.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(x.x,",").concat(x.y,"Z")}else v+="L".concat(t,",").concat(n,"Z");return v})({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):yP({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:d}),r.createElement("path",mP({},UC(t,!0),{className:p,d:f}))};Math.abs,Math.atan2;const xP=Math.cos,wP=(Math.max,Math.min,Math.sin),kP=Math.sqrt,SP=Math.PI,jP=2*SP;const NP={draw(e,t){const n=kP(t/SP);e.moveTo(n,0),e.arc(0,0,n,0,jP)}},EP={draw(e,t){const n=kP(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},_P=kP(1/3),CP=2*_P,AP={draw(e,t){const n=kP(t/CP),r=n*_P;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},OP={draw(e,t){const n=kP(t),r=-n/2;e.rect(r,r,n,n)}},TP=wP(SP/10)/wP(7*SP/10),PP=wP(jP/10)*TP,IP=-xP(jP/10)*TP,MP={draw(e,t){const n=kP(.8908130915292852*t),r=PP*n,i=IP*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const t=jP*a/5,o=xP(t),s=wP(t);e.lineTo(s*n,-o*n),e.lineTo(o*r-s*i,s*r+o*i)}e.closePath()}},DP=kP(3),LP={draw(e,t){const n=-kP(t/(3*DP));e.moveTo(0,2*n),e.lineTo(-DP*n,-n),e.lineTo(DP*n,-n),e.closePath()}},RP=-.5,UP=kP(3)/2,FP=1/kP(12),BP=3*(FP/2+1),zP={draw(e,t){const n=kP(t/BP),r=n/2,i=n*FP,a=r,o=n*FP+n,s=-a,l=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(RP*r-UP*i,UP*r+RP*i),e.lineTo(RP*a-UP*o,UP*a+RP*o),e.lineTo(RP*s-UP*l,UP*s+RP*l),e.lineTo(RP*r+UP*i,RP*i-UP*r),e.lineTo(RP*a+UP*o,RP*o-UP*a),e.lineTo(RP*s+UP*l,RP*l-UP*s),e.closePath()}};kP(3),kP(3);var VP=["type","size","sizeType"];function WP(){return WP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WP.apply(null,arguments)}function HP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HP(Object(n),!0).forEach(function(t){KP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function KP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var GP={symbolCircle:NP,symbolCross:EP,symbolDiamond:AP,symbolSquare:OP,symbolStar:MP,symbolTriangle:LP,symbolWye:zP},YP=Math.PI/180,$P=e=>{var{type:t="circle",size:n=64,sizeType:i="area"}=e,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,VP),o=qP(qP({},a),{},{type:t,size:n,sizeType:i}),{className:s,cx:l,cy:c}=o,u=UC(o,!0);return l===+l&&c===+c&&n===+n?r.createElement("path",WP({},u,{className:Zd("recharts-symbols",s),transform:"translate(".concat(l,", ").concat(c,")"),d:(()=>{var e=(e=>{var t="symbol".concat(yh(e));return GP[t]||NP})(t),r=function(e,t){let n=null,r=IO(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"===typeof e?e:bg(e||NP),t="function"===typeof t?t:bg(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"===typeof t?t:bg(t),i):e},i.size=function(e){return arguments.length?(t="function"===typeof e?e:bg(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(e).size(((e,t,n)=>{if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*YP;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.tan(r)**2);case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(n,i,t));return r()})()})):null};$P.registerSymbol=(e,t)=>{GP["symbol".concat(yh(e))]=t};var QP=["option","shapeType","propTransformer","activeClassName","isActive"];function XP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function JP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XP(Object(n),!0).forEach(function(t){ZP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ZP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eI(e,t){return JP(JP({},t),e)}function tI(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return r.createElement(uP,n);case"trapezoid":return r.createElement(pP,n);case"sector":return r.createElement(bP,n);case"symbols":if(function(e){return"symbols"===e}(t))return r.createElement($P,n);break;default:return null}}function nI(e){var t,{option:n,shapeType:i,propTransformer:a=eI,activeClassName:o="recharts-active-shape",isActive:s}=e,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,QP);if((0,r.isValidElement)(n))t=(0,r.cloneElement)(n,JP(JP({},l),function(e){return(0,r.isValidElement)(e)?e.props:e}(n)));else if("function"===typeof n)t=n(l);else if(AT()(n)&&"boolean"!==typeof n){var c=a(n,l);t=r.createElement(tI,{shapeType:i,elementProps:c})}else{var u=l;t=r.createElement(tI,{shapeType:i,elementProps:u})}return s?r.createElement(oO,{className:o},t):t}function rI(e){var{fn:t,args:n}=e,i=cg(),a=hy();return(0,r.useEffect)(()=>{if(!a){var e=t(n);return i(Cm(e)),()=>{i(Am(e))}}},[t,n,i,a]),null}var iI,aI=()=>{};function oI(e){var{legendPayload:t}=e,n=cg(),i=hy();return(0,r.useEffect)(()=>i?aI:(n(z_(t)),()=>{n(V_(t))}),[n,i,t]),null}function sI(e){var{legendPayload:t}=e,n=cg(),i=fg(xy);return(0,r.useEffect)(()=>"centric"!==i&&"radial"!==i?aI:(n(z_(t)),()=>{n(V_(t))}),[n,i,t]),null}function lI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",n=(0,r.useRef)(uh(t)),i=(0,r.useRef)(e);return i.current!==e&&(n.current=uh(t),i.current=e),n.current}var cI=null!==(iI=i["useId".toString()])&&void 0!==iI?iI:()=>{var[e]=r.useState(()=>uh("uid-"));return e};var uI=(0,r.createContext)(void 0),dI=e=>{var{id:t,type:n,children:i}=e,a=function(e,t){var n=cI();return t||(e?"".concat(e,"-").concat(n):n)}("recharts-".concat(n),t);return r.createElement(uI.Provider,{value:a},i(a))};function hI(e){var t=cg(),n=(0,r.useRef)(null);return(0,r.useEffect)(()=>{null===n.current?t(x_(e)):n.current!==e&&t(w_({prev:n.current,next:e})),n.current=e},[t,e]),(0,r.useEffect)(()=>()=>{n.current&&(t(k_(n.current)),n.current=null)},[t]),null}function fI(e){var t=cg();return(0,r.useEffect)(()=>(t(S_(e)),()=>{t(j_(e))}),[t,e]),null}function pI(){}var mI={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},gI={t:0},yI={t:1};function vI(e){var t=gA(e,mI),{isActive:n,canBegin:i,duration:a,easing:o,begin:s,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=ZT("JavascriptAnimate",t.animationManager),[h,f]=(0,r.useState)(n?gI:yI),p=(0,r.useRef)(null);return(0,r.useEffect)(()=>{n||f(yI)},[n]),(0,r.useEffect)(()=>{if(!n||!i)return pI;var e=$T(gI,yI,RT(o),a,f,d.getTimeoutController());return d.start([c,s,()=>{p.current=e()},a,l]),()=>{d.stop(),p.current&&p.current(),l()}},[n,i,a,o,s,c,l,d]),u(h.t)}var bI=["onMouseEnter","onClick","onMouseLeave"],xI=["id"],wI=["id"];function kI(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function SI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SI(Object(n),!0).forEach(function(t){NI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function NI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EI(){return EI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EI.apply(null,arguments)}function _I(e){var t=(0,r.useMemo)(()=>LC(e.children,_T),[e.children]),n=fg(n=>VA(n,e.id,t));return null==n?null:r.createElement(sI,{legendPayload:n})}function CI(e){var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:o,name:s,hide:l,tooltipType:c}=e;return{dataDefinedOnItem:null===r||void 0===r?void 0:r.map(e=>e.tooltipPayload),positions:null===r||void 0===r?void 0:r.map(e=>e.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:o,dataKey:t,nameKey:n,name:Qg(s,t),hide:l,type:c,color:o,unit:""}}}var AI=(e,t)=>e>t?"start":e<t?"end":"middle",OI=(e,t,n)=>{var{top:r,left:i,width:a,height:o}=t,s=Ag(a,o),l=i+dh(e.cx,a,a/2),c=r+dh(e.cy,o,o/2),u=dh(e.innerRadius,s,0),d=((e,t,n)=>"function"===typeof t?t(e):dh(t,n,.8*n))(n,e.outerRadius,s);return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:e.maxRadius||Math.sqrt(a*a+o*o)/2}},TI=(e,t)=>ih(t-e)*Math.min(Math.abs(t-e),360);function PI(e){var{sectors:t,props:n,showLabels:i}=e,{label:a,labelLine:o,dataKey:s}=n;if(!i||!a||!t)return null;var l=TC(n),c=UC(a,!1),u=UC(o,!1),d="object"===typeof a&&"offsetRadius"in a&&a.offsetRadius||20,h=t.map((e,t)=>{var n=(e.startAngle+e.endAngle)/2,i=Cg(e.cx,e.cy,e.outerRadius+d,n),h=jI(jI(jI(jI({},l),e),{},{stroke:"none"},c),{},{index:t,textAnchor:AI(i.x,e.cx)},i),f=jI(jI(jI(jI({},l),e),{},{fill:"none",stroke:e.fill},u),{},{index:t,points:[Cg(e.cx,e.cy,e.outerRadius,n),i],key:"line"});return r.createElement(oO,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(t)},o&&((e,t)=>{if(r.isValidElement(e))return r.cloneElement(e,t);if("function"===typeof e)return e(t);var n=Zd("recharts-pie-label-line","boolean"!==typeof e?e.className:"");return r.createElement(GO,EI({},t,{type:"linear",className:n}))})(o,f),((e,t,n)=>{if(r.isValidElement(e))return r.cloneElement(e,t);var i=n;if("function"===typeof e&&(i=e(t),r.isValidElement(i)))return i;var a=Zd("recharts-pie-label-text","boolean"!==typeof e&&"function"!==typeof e?e.className:"");return r.createElement(ET,EI({},t,{alignmentBaseline:"middle",className:a}),i)})(a,h,Rg(e,s)))});return r.createElement(oO,{className:"recharts-pie-labels"},h)}function II(e){var{sectors:t,activeShape:n,inactiveShape:i,allOtherPieProps:a,showLabels:o}=e,s=fg(PE),{onMouseEnter:l,onClick:c,onMouseLeave:u}=a,d=kI(a,bI),h=((e,t)=>{var n=cg();return(r,i)=>a=>{null===e||void 0===e||e(r,i,a),n(Tm({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}})(l,a.dataKey),f=(e=>{var t=cg();return(n,r)=>i=>{null===e||void 0===e||e(n,r,i),t(Pm())}})(u),p=((e,t)=>{var n=cg();return(r,i)=>a=>{null===e||void 0===e||e(r,i,a),n(Mm({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}})(c,a.dataKey);return null==t?null:r.createElement(r.Fragment,null,t.map((e,o)=>{if(0===(null===e||void 0===e?void 0:e.startAngle)&&0===(null===e||void 0===e?void 0:e.endAngle)&&1!==t.length)return null;var l=n&&String(o)===s,c=l?n:s?i:null,u=jI(jI({},e),{},{stroke:e.stroke,tabIndex:-1,[ry]:o,[iy]:a.dataKey});return r.createElement(oO,EI({tabIndex:-1,className:"recharts-pie-sector"},CC(d,e,o),{onMouseEnter:h(e,o),onMouseLeave:f(e,o),onClick:p(e,o),key:"sector-".concat(null===e||void 0===e?void 0:e.startAngle,"-").concat(null===e||void 0===e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(o)}),r.createElement(nI,EI({option:c,isActive:l,shapeType:"sector"},u)))}),r.createElement(PI,{sectors:t,props:a,showLabels:o}))}function MI(e){var{props:t,previousSectorsRef:n}=e,{sectors:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:h}=t,f=lI(t,"recharts-pie-"),p=n.current,[m,g]=(0,r.useState)(!0),y=(0,r.useCallback)(()=>{"function"===typeof h&&h(),g(!1)},[h]),v=(0,r.useCallback)(()=>{"function"===typeof d&&d(),g(!0)},[d]);return r.createElement(vI,{begin:o,duration:s,isActive:a,easing:l,onAnimationStart:v,onAnimationEnd:y,key:f},e=>{var a=[],o=(i&&i[0]).startAngle;return i.forEach((t,n)=>{var r=p&&p[n],i=n>0?rh()(t,"paddingAngle",0):0;if(r){var s=fh(r.endAngle-r.startAngle,t.endAngle-t.startAngle),l=jI(jI({},t),{},{startAngle:o+i,endAngle:o+s(e)+i});a.push(l),o=l.endAngle}else{var{endAngle:c,startAngle:u}=t,d=fh(0,c-u)(e),h=jI(jI({},t),{},{startAngle:o+i,endAngle:o+d+i});a.push(h),o=h.endAngle}}),n.current=a,r.createElement(oO,null,r.createElement(II,{sectors:a,activeShape:c,inactiveShape:u,allOtherPieProps:t,showLabels:!m}))})}function DI(e){var{sectors:t,isAnimationActive:n,activeShape:i,inactiveShape:a}=e,o=(0,r.useRef)(null),s=o.current;return n&&t&&t.length&&(!s||s!==t)?r.createElement(MI,{props:e,previousSectorsRef:o}):r.createElement(II,{sectors:t,activeShape:i,inactiveShape:a,allOtherPieProps:e,showLabels:!0})}function LI(e){var{hide:t,className:n,rootTabIndex:i}=e,a=Zd("recharts-pie",n);return t?null:r.createElement(oO,{tabIndex:i,className:a},r.createElement(DI,e))}var RI={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!YO,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function UI(e){var{id:t}=e,n=kI(e,xI),i=(0,r.useMemo)(()=>LC(e.children,_T),[e.children]),a=fg(e=>WA(e,t,i));return r.createElement(r.Fragment,null,r.createElement(rI,{fn:CI,args:jI(jI({},e),{},{sectors:a})}),r.createElement(LI,EI({},n,{sectors:a})))}function FI(e){var t=gA(e,RI),{id:n}=t,i=kI(t,wI),a=TC(i);return r.createElement(dI,{id:n,type:"pie"},e=>r.createElement(r.Fragment,null,r.createElement(fI,{type:"pie",id:e,data:i.data,dataKey:i.dataKey,hide:i.hide,angleAxisId:0,radiusAxisId:0,name:i.name,nameKey:i.nameKey,tooltipType:i.tooltipType,legendType:i.legendType,fill:i.fill,cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,paddingAngle:i.paddingAngle,minAngle:i.minAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius,cornerRadius:i.cornerRadius,presentationProps:a}),r.createElement(_I,EI({},i,{id:e})),r.createElement(UI,EI({},i,{id:e})),i.children))}FI.displayName="Pie";var BI=n(7950);function zI(){return zI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zI.apply(null,arguments)}function VI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function WI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VI(Object(n),!0).forEach(function(t){HI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function HI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qI(e){return Array.isArray(e)&&lh(e[0])&&lh(e[1])?e.join(" ~ "):e}var KI=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:i={},labelStyle:a={},payload:o,formatter:s,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:f=!1}=e,p=WI({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),m=WI({margin:0},a),g=!gh(d),y=g?d:"",v=Zd("recharts-default-tooltip",c),b=Zd("recharts-tooltip-label",u);g&&h&&void 0!==o&&null!==o&&(y=h(d,o));var x=f?{role:"status","aria-live":"assertive"}:{};return r.createElement("div",zI({className:v,style:p},x),r.createElement("p",{className:b,style:m},r.isValidElement(y)?y:"".concat(y)),(()=>{if(o&&o.length){var e=(l?mg()(o,l):o).map((e,n)=>{if("none"===e.type)return null;var a=e.formatter||s||qI,{value:l,name:c}=e,u=l,d=c;if(a){var h=a(l,c,e,n,o);if(Array.isArray(h))[u,d]=h;else{if(null==h)return null;u=h}}var f=WI({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},i);return r.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(n),style:f},lh(d)?r.createElement("span",{className:"recharts-tooltip-item-name"},d):null,lh(d)?r.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,r.createElement("span",{className:"recharts-tooltip-item-value"},u),r.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return r.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},GI="recharts-tooltip-wrapper",YI={visibility:"hidden"};function $I(e){var{coordinate:t,translateX:n,translateY:r}=e;return Zd(GI,{["".concat(GI,"-right")]:sh(n)&&t&&sh(t.x)&&n>=t.x,["".concat(GI,"-left")]:sh(n)&&t&&sh(t.x)&&n<t.x,["".concat(GI,"-bottom")]:sh(r)&&t&&sh(t.y)&&r>=t.y,["".concat(GI,"-top")]:sh(r)&&t&&sh(t.y)&&r<t.y})}function QI(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:c}=e;if(a&&sh(a[r]))return a[r];var u=n[r]-s-(i>0?i:0),d=n[r]+i;if(t[r])return o[r]?u:d;var h=l[r];return null==h?0:o[r]?u<h?Math.max(d,h):Math.max(u,h):null==c?0:d+s>h+c?Math.max(u,h):Math.max(d,h)}function XI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function JI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XI(Object(n),!0).forEach(function(t){ZI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ZI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class eM extends r.PureComponent{constructor(){super(...arguments),ZI(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),ZI(this,"handleKeyDown",e=>{var t,n,r,i;"Escape"===e.key&&this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(t=null===(n=this.props.coordinate)||void 0===n?void 0:n.x)&&void 0!==t?t:0,y:null!==(r=null===(i=this.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==r?r:0}})})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}render(){var{active:e,allowEscapeViewBox:t,animationDuration:n,animationEasing:i,children:a,coordinate:o,hasPayload:s,isAnimationActive:l,offset:c,position:u,reverseDirection:d,useTranslate3d:h,viewBox:f,wrapperStyle:p,lastBoundingBox:m,innerRef:g,hasPortalFromProps:y}=this.props,{cssClasses:v,cssProperties:b}=function(e){var t,n,r,{allowEscapeViewBox:i,coordinate:a,offsetTopLeft:o,position:s,reverseDirection:l,tooltipBox:c,useTranslate3d:u,viewBox:d}=e;return t=c.height>0&&c.width>0&&a?function(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:n=QI({allowEscapeViewBox:i,coordinate:a,key:"x",offsetTopLeft:o,position:s,reverseDirection:l,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),translateY:r=QI({allowEscapeViewBox:i,coordinate:a,key:"y",offsetTopLeft:o,position:s,reverseDirection:l,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:u}):YI,{cssProperties:t,cssClasses:$I({translateX:n,translateY:r,coordinate:a})}}({allowEscapeViewBox:t,coordinate:o,offsetTopLeft:c,position:u,reverseDirection:d,tooltipBox:{height:m.height,width:m.width},useTranslate3d:h,viewBox:f}),x=y?{}:JI(JI({transition:l&&e?"transform ".concat(n,"ms ").concat(i):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&s?"visible":"hidden",position:"absolute",top:0,left:0}),w=JI(JI({},x),{},{visibility:!this.state.dismissed&&e&&s?"visible":"hidden"},p);return r.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:w,ref:g},a)}}var tM=n(4332),nM=n.n(tM);var rM=["x","y","top","left","width","height","className"];function iM(){return iM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iM.apply(null,arguments)}function aM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sM=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),lM=e=>{var{x:t=0,y:n=0,top:i=0,left:a=0,width:o=0,height:s=0,className:l}=e,c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,rM),u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aM(Object(n),!0).forEach(function(t){oM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:t,y:n,top:i,left:a,width:o,height:s},c);return sh(t)&&sh(n)&&sh(o)&&sh(s)&&sh(i)&&sh(a)?r.createElement("path",iM({},UC(u,!0),{className:Zd("recharts-cross",l),d:sM(t,n,o,s,i,a)})):null};function cM(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e;return{points:[Cg(t,n,r,i),Cg(t,n,r,a)],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function uM(e,t,n){var r,i,a,o;if("horizontal"===e)a=r=t.x,i=n.top,o=n.top+n.height;else if("vertical"===e)o=i=t.y,r=n.left,a=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return cM(t);var{cx:s,cy:l,innerRadius:c,outerRadius:u,angle:d}=t,h=Cg(s,l,c,d),f=Cg(s,l,u,d);r=h.x,i=h.y,a=f.x,o=f.y}return[{x:r,y:i},{x:a,y:o}]}function dM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function hM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dM(Object(n),!0).forEach(function(t){fM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function fM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pM=()=>{var e=fg(US),t=fg(_E),n=fg(jE);return Yg(hM(hM({},e),{},{scale:n}),t)};function mM(){return mM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mM.apply(null,arguments)}function gM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gM(Object(n),!0).forEach(function(t){vM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bM(e){var t,n,{coordinate:i,payload:a,index:o,offset:s,tooltipAxisBandSize:l,layout:c,cursor:u,tooltipEventType:d,chartName:h}=e,f=i,p=a,m=o;if(!u||!f||"ScatterChart"!==h&&"axis"!==d)return null;if("ScatterChart"===h)t=f,n=lM;else if("BarChart"===h)t=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(c,f,s,l),n=uP;else if("radial"===c){var{cx:g,cy:y,radius:v,startAngle:b,endAngle:x}=cM(f);t={cx:g,cy:y,startAngle:b,endAngle:x,innerRadius:v,outerRadius:v},n=bP}else t={points:uM(c,f,s)},n=GO;var w="object"===typeof u&&"className"in u?u.className:void 0,k=yM(yM(yM(yM({stroke:"#ccc",pointerEvents:"none"},s),t),UC(u,!1)),{},{payload:p,payloadIndex:m,className:Zd("recharts-tooltip-cursor",w)});return(0,r.isValidElement)(u)?(0,r.cloneElement)(u,k):(0,r.createElement)(n,k)}function xM(e){var t=pM(),n=yy(),i=wy(),a=zE();return r.createElement(bM,mM({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:i,tooltipAxisBandSize:t,chartName:a}))}function wM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function kM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wM(Object(n),!0).forEach(function(t){SM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function SM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jM(e){return e.dataKey}var NM=[],EM={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!YO,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function _M(e){var t=gA(e,EM),{active:n,allowEscapeViewBox:i,animationDuration:a,animationEasing:o,content:s,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:h,reverseDirection:f,useTranslate3d:p,wrapperStyle:m,cursor:g,shared:y,trigger:v,defaultIndex:b,portal:x,axisId:w}=t,k=cg(),S="number"===typeof b?String(b):b;(0,r.useEffect)(()=>{k(Om({shared:y,trigger:v,axisId:w,active:n,defaultIndex:S}))},[k,y,v,w,n,S]);var j=my(),N=wC(),E=function(e){return fg(t=>DN(t,e))}(y),{activeIndex:_,isActive:C}=fg(e=>ZE(e,E,v,S)),A=fg(e=>JE(e,E,v,S)),O=fg(e=>XE(e,E,v,S)),T=fg(e=>QE(e,E,v,S)),P=A,I=(0,r.useContext)(tA),M=null!==n&&void 0!==n?n:C,[D,L]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[t,n]=(0,r.useState)({height:0,left:0,top:0,width:0}),i=(0,r.useCallback)(e=>{if(null!=e){var r=e.getBoundingClientRect(),i={height:r.height,left:r.left,top:r.top,width:r.width};(Math.abs(i.height-t.height)>1||Math.abs(i.left-t.left)>1||Math.abs(i.top-t.top)>1||Math.abs(i.width-t.width)>1)&&n({height:i.height,left:i.left,top:i.top,width:i.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,i]}([P,M]),R="axis"===E?O:void 0;eA(E,v,T,R,_,M);var U=null!==x&&void 0!==x?x:I;if(null==U)return null;var F=null!==P&&void 0!==P?P:NM;M||(F=NM),l&&F.length&&(F=function(e,t,n){return!0===t?nM()(e,n):"function"===typeof t?nM()(e,t):e}(P.filter(e=>null!=e.value&&(!0!==e.hide||t.includeHidden)),d,jM));var B=F.length>0,z=r.createElement(eM,{allowEscapeViewBox:i,animationDuration:a,animationEasing:o,isAnimationActive:c,active:M,coordinate:T,hasPayload:B,offset:u,position:h,reverseDirection:f,useTranslate3d:p,viewBox:j,wrapperStyle:m,lastBoundingBox:D,innerRef:L,hasPortalFromProps:Boolean(x)},function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):"function"===typeof e?r.createElement(e,t):r.createElement(KI,t)}(s,kM(kM({},t),{},{payload:F,label:R,active:M,coordinate:T,accessibilityLayer:N})));return r.createElement(r.Fragment,null,(0,BI.createPortal)(z,U),M&&r.createElement(xM,{cursor:g,tooltipEventType:E,coordinate:T,payload:P,index:_}))}var CM=["width","height"];function AM(){return AM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AM.apply(null,arguments)}var OM={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},TM=(0,r.forwardRef)(function(e,t){var n,i=gA(e.categoricalChartProps,OM),{width:a,height:o}=i,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(i,CM);if(!Lk(a)||!Lk(o))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:h}=e,f={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return r.createElement(gC,{preloadedState:{options:f},reduxStoreName:null!==(n=h.id)&&void 0!==n?n:l},r.createElement(yC,{chartData:h.data}),r.createElement(vC,{width:a,height:o,layout:i.layout,margin:i.margin}),r.createElement(bC,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),r.createElement(fA,AM({},s,{width:a,height:o,ref:t})))}),PM=["axis"],IM=(0,r.forwardRef)((e,t)=>r.createElement(TM,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:PM,tooltipPayloadSearcher:Sp,categoricalChartProps:e,ref:t}));function MM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class DM{static create(e){return new DM(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==e){if(n)switch(n){case"start":default:return this.scale(e);case"middle":var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+r;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(t){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}MM(DM,"EPS",1e-4);function LM(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],i=0;i<e.length;i+=t){if(void 0!==n&&!0!==n(e[i]))return;r.push(e[i])}return r}function RM(e,t,n){return function(e){var{width:t,height:n}=e,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,a=Math.atan(n/t),o=i>a&&i<Math.PI-a?n/Math.sin(i):t/Math.cos(i);return Math.abs(o)}({width:e.width+t.width,height:e.height+t.height},n)}function UM(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function FM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function BM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FM(Object(n),!0).forEach(function(t){zM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function zM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VM(e,t,n){var r,{tick:i,ticks:a,viewBox:o,minTickGap:s,orientation:l,interval:c,tickFormatter:u,unit:d,angle:h}=e;if(!a||!a.length||!i)return[];if(sh(c)||YO)return null!==(r=function(e,t){return LM(e,t+1)}(a,sh(c)?c:0))&&void 0!==r?r:[];var f=[],p="top"===l||"bottom"===l?"width":"height",m=d&&"width"===p?iT(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},g=(e,r)=>{var i="function"===typeof u?u(e.value,r):e.value;return"width"===p?RM(iT(i,{fontSize:t,letterSpacing:n}),m,h):iT(i,{fontSize:t,letterSpacing:n})[p]},y=a.length>=2?ih(a[1].coordinate-a[0].coordinate):1,v=function(e,t,n){var r="width"===n,{x:i,y:a,width:o,height:s}=e;return 1===t?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}(o,y,p);return"equidistantPreserveStart"===c?function(e,t,n,r,i){for(var a,o=(r||[]).slice(),{start:s,end:l}=t,c=0,u=1,d=s,h=function(){var t=null===r||void 0===r?void 0:r[c];if(void 0===t)return{v:LM(r,u)};var a,o=c,h=()=>(void 0===a&&(a=n(t,o)),a),f=t.coordinate,p=0===c||UM(e,f,h,d,l);p||(c=0,d=s,u+=1),p&&(d=f+e*(h()/2+i),c+=u)};u<=o.length;)if(a=h())return a.v;return[]}(y,v,g,a,s):(f="preserveStart"===c||"preserveStartEnd"===c?function(e,t,n,r,i,a){var o=(r||[]).slice(),s=o.length,{start:l,end:c}=t;if(a){var u=r[s-1],d=n(u,s-1),h=e*(u.coordinate+e*d/2-c);o[s-1]=u=BM(BM({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),UM(e,u.tickCoord,()=>d,l,c)&&(c=u.tickCoord-e*(d/2+i),o[s-1]=BM(BM({},u),{},{isShow:!0}))}for(var f=a?s-1:s,p=function(t){var r,a=o[t],s=()=>(void 0===r&&(r=n(a,t)),r);if(0===t){var u=e*(a.coordinate-e*s()/2-l);o[t]=a=BM(BM({},a),{},{tickCoord:u<0?a.coordinate-u*e:a.coordinate})}else o[t]=a=BM(BM({},a),{},{tickCoord:a.coordinate});UM(e,a.tickCoord,s,l,c)&&(l=a.tickCoord+e*(s()/2+i),o[t]=BM(BM({},a),{},{isShow:!0}))},m=0;m<f;m++)p(m);return o}(y,v,g,a,s,"preserveStartEnd"===c):function(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:s}=t,{end:l}=t,c=function(t){var r,c=a[t],u=()=>(void 0===r&&(r=n(c,t)),r);if(t===o-1){var d=e*(c.coordinate+e*u()/2-l);a[t]=c=BM(BM({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else a[t]=c=BM(BM({},c),{},{tickCoord:c.coordinate});UM(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+i),a[t]=BM(BM({},c),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return a}(y,v,g,a,s),f.filter(e=>e.isShow))}function WM(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}var HM=["offset"],qM=["labelRef"];function KM(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function GM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function YM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GM(Object(n),!0).forEach(function(t){$M(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $M(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QM(){return QM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QM.apply(null,arguments)}var XM=e=>null!=e&&"function"===typeof e,JM=(e,t,n,i)=>{var a,o,{position:s,offset:l,className:c}=e,{cx:u,cy:d,innerRadius:h,outerRadius:f,startAngle:p,endAngle:m,clockWise:g}=i,y=(h+f)/2,v=((e,t)=>ih(t-e)*Math.min(Math.abs(t-e),360))(p,m),b=v>=0?1:-1;"insideStart"===s?(a=p+b*l,o=g):"insideEnd"===s?(a=m-b*l,o=!g):"end"===s&&(a=m+b*l,o=g),o=v<=0?o:!o;var x=Cg(u,d,y,a),w=Cg(u,d,y,a+359*(o?1:-1)),k="M".concat(x.x,",").concat(x.y,"\n    A").concat(y,",").concat(y,",0,1,").concat(o?0:1,",\n    ").concat(w.x,",").concat(w.y),S=gh(e.id)?uh("recharts-radial-line-"):e.id;return r.createElement("text",QM({},n,{dominantBaseline:"central",className:Zd("recharts-radial-bar-label",c)}),r.createElement("defs",null,r.createElement("path",{id:S,d:k})),r.createElement("textPath",{xlinkHref:"#".concat(S)},t))};function ZM(e){var{offset:t=5}=e,n=YM({offset:t},KM(e,HM)),{viewBox:i,position:a,value:o,children:s,content:l,className:c="",textBreakAll:u,labelRef:d}=n,h=fg(PS),f=my(),p=i||("center"===a?f:null!==h&&void 0!==h?h:f);if(!p||gh(o)&&gh(s)&&!(0,r.isValidElement)(l)&&"function"!==typeof l)return null;var m,g=YM(YM({},n),{},{viewBox:p});if((0,r.isValidElement)(l)){var{labelRef:y}=g,v=KM(g,qM);return(0,r.cloneElement)(l,v)}if("function"===typeof l){if(m=(0,r.createElement)(l,g),(0,r.isValidElement)(m))return m}else m=(e=>{var{value:t,formatter:n}=e,r=gh(e.children)?t:e.children;return"function"===typeof n?n(r):r})(n);var b=(e=>"cx"in e&&sh(e.cx))(p),x=UC(n,!0);if(b&&("insideStart"===a||"insideEnd"===a||"end"===a))return JM(n,m,x,p);var w=b?((e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:s,endAngle:l}=e,c=(s+l)/2;if("outside"===n){var{x:u,y:d}=Cg(r,i,o+t,c);return{x:u,y:d,textAnchor:u>=r?"start":"end",verticalAnchor:"middle"}}if("center"===n)return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===n)return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===n)return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+o)/2,{x:f,y:p}=Cg(r,i,h,c);return{x:f,y:p,textAnchor:"middle",verticalAnchor:"middle"}})(p,n.offset,n.position):((e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,{x:a,y:o,width:s,height:l}=t,c=l>=0?1:-1,u=c*r,d=c>0?"end":"start",h=c>0?"start":"end",f=s>=0?1:-1,p=f*r,m=f>0?"end":"start",g=f>0?"start":"end";if("top"===i)return YM(YM({},{x:a+s/2,y:o-c*r,textAnchor:"middle",verticalAnchor:d}),n?{height:Math.max(o-n.y,0),width:s}:{});if("bottom"===i)return YM(YM({},{x:a+s/2,y:o+l+u,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(n.y+n.height-(o+l),0),width:s}:{});if("left"===i){var y={x:a-p,y:o+l/2,textAnchor:m,verticalAnchor:"middle"};return YM(YM({},y),n?{width:Math.max(y.x-n.x,0),height:l}:{})}if("right"===i){var v={x:a+s+p,y:o+l/2,textAnchor:g,verticalAnchor:"middle"};return YM(YM({},v),n?{width:Math.max(n.x+n.width-v.x,0),height:l}:{})}var b=n?{width:s,height:l}:{};return"insideLeft"===i?YM({x:a+p,y:o+l/2,textAnchor:g,verticalAnchor:"middle"},b):"insideRight"===i?YM({x:a+s-p,y:o+l/2,textAnchor:m,verticalAnchor:"middle"},b):"insideTop"===i?YM({x:a+s/2,y:o+u,textAnchor:"middle",verticalAnchor:h},b):"insideBottom"===i?YM({x:a+s/2,y:o+l-u,textAnchor:"middle",verticalAnchor:d},b):"insideTopLeft"===i?YM({x:a+p,y:o+u,textAnchor:g,verticalAnchor:h},b):"insideTopRight"===i?YM({x:a+s-p,y:o+u,textAnchor:m,verticalAnchor:h},b):"insideBottomLeft"===i?YM({x:a+p,y:o+l-u,textAnchor:g,verticalAnchor:d},b):"insideBottomRight"===i?YM({x:a+s-p,y:o+l-u,textAnchor:m,verticalAnchor:d},b):i&&"object"===typeof i&&(sh(i.x)||oh(i.x))&&(sh(i.y)||oh(i.y))?YM({x:a+dh(i.x,s),y:o+dh(i.y,l),textAnchor:"end",verticalAnchor:"end"},b):YM({x:a+s/2,y:o+l/2,textAnchor:"middle",verticalAnchor:"middle"},b)})(n,p);return r.createElement(ET,QM({ref:d,className:Zd("recharts-label",c)},x,w,{breakAll:u}),m)}ZM.displayName="Label";var eD=e=>{var{cx:t,cy:n,angle:r,startAngle:i,endAngle:a,r:o,radius:s,innerRadius:l,outerRadius:c,x:u,y:d,top:h,left:f,width:p,height:m,clockWise:g,labelViewBox:y}=e;if(y)return y;if(sh(p)&&sh(m)){if(sh(u)&&sh(d))return{x:u,y:d,width:p,height:m};if(sh(h)&&sh(f))return{x:h,y:f,width:p,height:m}}return sh(u)&&sh(d)?{x:u,y:d,width:0,height:0}:sh(t)&&sh(n)?{cx:t,cy:n,startAngle:i||r||0,endAngle:a||r||0,innerRadius:l||0,outerRadius:c||s||o||0,clockWise:g}:e.viewBox?e.viewBox:void 0};ZM.parseViewBox=eD,ZM.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var{children:i,labelRef:a}=e,o=eD(e),s=LC(i,ZM).map((e,n)=>(0,r.cloneElement)(e,{viewBox:t||o,key:"label-".concat(n)}));if(!n)return s;var l=((e,t,n)=>{if(!e)return null;var i={viewBox:t,labelRef:n};return!0===e?r.createElement(ZM,QM({key:"label-implicit"},i)):lh(e)?r.createElement(ZM,QM({key:"label-implicit",value:e},i)):(0,r.isValidElement)(e)?e.type===ZM?(0,r.cloneElement)(e,YM({key:"label-implicit"},i)):r.createElement(ZM,QM({key:"label-implicit",content:e},i)):XM(e)?r.createElement(ZM,QM({key:"label-implicit",content:e},i)):e&&"object"===typeof e?r.createElement(ZM,QM({},e,{key:"label-implicit"},i)):null})(e.label,t||o,a);return[l,...s]};var tD=["viewBox"],nD=["viewBox"];function rD(){return rD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rD.apply(null,arguments)}function iD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function aD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iD(Object(n),!0).forEach(function(t){sD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oD(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class lD extends r.Component{constructor(e){super(e),this.tickRefs=r.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,t){var{viewBox:n}=e,r=oD(e,tD),i=this.props,{viewBox:a}=i,o=oD(i,nD);return!WM(n,a)||!WM(r,o)||!WM(t,this.state)}getTickLineCoord(e){var t,n,r,i,a,o,{x:s,y:l,width:c,height:u,orientation:d,tickSize:h,mirror:f,tickMargin:p}=this.props,m=f?-1:1,g=e.tickSize||h,y=sh(e.tickCoord)?e.tickCoord:e.coordinate;switch(d){case"top":t=n=e.coordinate,o=(r=(i=l+ +!f*u)-m*g)-m*p,a=y;break;case"left":r=i=e.coordinate,a=(t=(n=s+ +!f*c)-m*g)-m*p,o=y;break;case"right":r=i=e.coordinate,a=(t=(n=s+ +f*c)+m*g)+m*p,o=y;break;default:t=n=e.coordinate,o=(r=(i=l+ +f*u)+m*g)+m*p,a=y}return{line:{x1:t,y1:r,x2:n,y2:i},tick:{x:a,y:o}}}getTickTextAnchor(){var e,{orientation:t,mirror:n}=this.props;switch(t){case"left":e=n?"start":"end";break;case"right":e=n?"end":"start";break;default:e="middle"}return e}getTickVerticalAnchor(){var{orientation:e,mirror:t}=this.props;switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}renderAxisLine(){var{x:e,y:t,width:n,height:i,orientation:a,mirror:o,axisLine:s}=this.props,l=aD(aD(aD({},UC(this.props,!1)),UC(s,!1)),{},{fill:"none"});if("top"===a||"bottom"===a){var c=+("top"===a&&!o||"bottom"===a&&o);l=aD(aD({},l),{},{x1:e,y1:t+c*i,x2:e+n,y2:t+c*i})}else{var u=+("left"===a&&!o||"right"===a&&o);l=aD(aD({},l),{},{x1:e+u*n,y1:t,x2:e+u*n,y2:t+i})}return r.createElement("line",rD({},l,{className:Zd("recharts-cartesian-axis-line",rh()(s,"className"))}))}static renderTickItem(e,t,n){var i,a=Zd(t.className,"recharts-cartesian-axis-tick-value");if(r.isValidElement(e))i=r.cloneElement(e,aD(aD({},t),{},{className:a}));else if("function"===typeof e)i=e(aD(aD({},t),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";"boolean"!==typeof e&&(o=Zd(o,e.className)),i=r.createElement(ET,rD({},t,{className:o}),n)}return i}renderTicks(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],{tickLine:i,stroke:a,tick:o,tickFormatter:s,unit:l,padding:c}=this.props,u=VM(aD(aD({},this.props),{},{ticks:n}),e,t),d=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),f=TC(this.props),p=UC(o,!1),m=aD(aD({},f),{},{fill:"none"},UC(i,!1)),g=u.map((e,t)=>{var{line:n,tick:g}=this.getTickLineCoord(e),y=aD(aD(aD(aD({textAnchor:d,verticalAnchor:h},f),{},{stroke:"none",fill:a},p),g),{},{index:t,payload:e,visibleTicksCount:u.length,tickFormatter:s,padding:c});return r.createElement(oO,rD({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},CC(this.props,e,t)),i&&r.createElement("line",rD({},m,n,{className:Zd("recharts-cartesian-axis-tick-line",rh()(i,"className"))})),o&&lD.renderTickItem(o,y,"".concat("function"===typeof s?s(e.value,t):e.value).concat(l||"")))});return g.length>0?r.createElement("g",{className:"recharts-cartesian-axis-ticks"},g):null}render(){var{axisLine:e,width:t,height:n,className:i,hide:a}=this.props;if(a)return null;var{ticks:o}=this.props;return null!=t&&t<=0||null!=n&&n<=0?null:r.createElement(oO,{className:Zd("recharts-cartesian-axis",i),ref:e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(t);var n=t[0];if(n){var r=window.getComputedStyle(n).fontSize,i=window.getComputedStyle(n).letterSpacing;r===this.state.fontSize&&i===this.state.letterSpacing||this.setState({fontSize:window.getComputedStyle(n).fontSize,letterSpacing:window.getComputedStyle(n).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),ZM.renderCallByParent(this.props))}}sD(lD,"displayName","CartesianAxis"),sD(lD,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var cD=["x1","y1","x2","y2","key"],uD=["offset"],dD=["xAxisId","yAxisId"],hD=["xAxisId","yAxisId"];function fD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fD(Object(n),!0).forEach(function(t){mD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function mD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gD(){return gD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gD.apply(null,arguments)}function yD(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var vD=e=>{var{fill:t}=e;if(!t||"none"===t)return null;var{fillOpacity:n,x:i,y:a,width:o,height:s,ry:l}=e;return r.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function bD(e,t){var n;if(r.isValidElement(e))n=r.cloneElement(e,t);else if("function"===typeof e)n=e(t);else{var{x1:i,y1:a,x2:o,y2:s,key:l}=t,c=TC(yD(t,cD)),{offset:u}=c,d=yD(c,uD);n=r.createElement("line",gD({},d,{x1:i,y1:a,x2:o,y2:s,fill:"none",key:l}))}return n}function xD(e){var{x:t,width:n,horizontal:i=!0,horizontalPoints:a}=e;if(!i||!a||!a.length)return null;var{xAxisId:o,yAxisId:s}=e,l=yD(e,dD),c=a.map((e,r)=>{var a=pD(pD({},l),{},{x1:t,y1:e,x2:t+n,y2:e,key:"line-".concat(r),index:r});return bD(i,a)});return r.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function wD(e){var{y:t,height:n,vertical:i=!0,verticalPoints:a}=e;if(!i||!a||!a.length)return null;var{xAxisId:o,yAxisId:s}=e,l=yD(e,hD),c=a.map((e,r)=>{var a=pD(pD({},l),{},{x1:e,y1:t,x2:e,y2:t+n,key:"line-".concat(r),index:r});return bD(i,a)});return r.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function kD(e){var{horizontalFill:t,fillOpacity:n,x:i,y:a,width:o,height:s,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=l.map(e=>Math.round(e+a-a)).sort((e,t)=>e-t);a!==u[0]&&u.unshift(0);var d=u.map((e,l)=>{var c=!u[l+1]?a+s-e:u[l+1]-e;if(c<=0)return null;var d=l%t.length;return r.createElement("rect",{key:"react-".concat(l),y:e,x:i,height:c,width:o,stroke:"none",fill:t[d],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return r.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function SD(e){var{vertical:t=!0,verticalFill:n,fillOpacity:i,x:a,y:o,width:s,height:l,verticalPoints:c}=e;if(!t||!n||!n.length)return null;var u=c.map(e=>Math.round(e+a-a)).sort((e,t)=>e-t);a!==u[0]&&u.unshift(0);var d=u.map((e,t)=>{var c=!u[t+1]?a+s-e:u[t+1]-e;if(c<=0)return null;var d=t%n.length;return r.createElement("rect",{key:"react-".concat(t),x:e,y:o,width:c,height:l,stroke:"none",fill:n[d],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return r.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var jD=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return Fg(VM(pD(pD(pD({},lD.defaultProps),n),{},{ticks:Bg(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},ND=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return Fg(VM(pD(pD(pD({},lD.defaultProps),n),{},{ticks:Bg(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},ED={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function _D(e){var t=vy(),n=by(),i=yy(),a=pD(pD({},gA(e,ED)),{},{x:sh(e.x)?e.x:i.left,y:sh(e.y)?e.y:i.top,width:sh(e.width)?e.width:i.width,height:sh(e.height)?e.height:i.height}),{xAxisId:o,yAxisId:s,x:l,y:c,width:u,height:d,syncWithTicks:h,horizontalValues:f,verticalValues:p}=a,m=hy(),g=fg(e=>EN(e,"xAxis",o,m)),y=fg(e=>EN(e,"yAxis",s,m));if(!sh(u)||u<=0||!sh(d)||d<=0||!sh(l)||l!==+l||!sh(c)||c!==+c)return null;var v=a.verticalCoordinatesGenerator||jD,b=a.horizontalCoordinatesGenerator||ND,{horizontalPoints:x,verticalPoints:w}=a;if((!x||!x.length)&&"function"===typeof b){var k=f&&f.length,S=b({yAxis:y?pD(pD({},y),{},{ticks:k?f:y.ticks}):void 0,width:t,height:n,offset:i},!!k||h);vh(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(x=S)}if((!w||!w.length)&&"function"===typeof v){var j=p&&p.length,N=v({xAxis:g?pD(pD({},g),{},{ticks:j?p:g.ticks}):void 0,width:t,height:n,offset:i},!!j||h);vh(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(w=N)}return r.createElement("g",{className:"recharts-cartesian-grid"},r.createElement(vD,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),r.createElement(kD,gD({},a,{horizontalPoints:x})),r.createElement(SD,gD({},a,{verticalPoints:w})),r.createElement(xD,gD({},a,{offset:i,horizontalPoints:x,xAxis:g,yAxis:y})),r.createElement(wD,gD({},a,{offset:i,verticalPoints:w,xAxis:g,yAxis:y})))}_D.displayName="CartesianGrid";var CD=["children"],AD=["dangerouslySetInnerHTML","ticks"];function OD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TD(){return TD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TD.apply(null,arguments)}function PD(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ID(e){var t=cg(),n=(0,r.useMemo)(()=>{var{children:t}=e;return PD(e,CD)},[e]),i=fg(e=>KS(e,n.id)),a=n===i;return(0,r.useEffect)(()=>(t(d_(n)),()=>{t(h_(n))}),[n,t]),a?e.children:null}var MD=e=>{var{xAxisId:t,className:n}=e,i=fg(uy),a=hy(),o="xAxis",s=fg(e=>dN(e,o,t,a)),l=fg(e=>_N(e,o,t,a)),c=fg(e=>vN(e,t)),u=fg(e=>((e,t)=>{var n=ly(e),r=KS(e,t);if(null!=r){var i=bN(e,r.orientation,r.mirror)[t];return null==i?{x:n.left,y:0}:{x:n.left,y:i}}})(e,t));if(null==c||null==u)return null;var{dangerouslySetInnerHTML:d,ticks:h}=e,f=PD(e,AD);return r.createElement(lD,TD({},f,{scale:s,x:u.x,y:u.y,width:c.width,height:c.height,className:Zd("recharts-".concat(o," ").concat(o),n),viewBox:i,ticks:l}))},DD=e=>{var t,n,i,a,o;return r.createElement(ID,{interval:null!==(t=e.interval)&&void 0!==t?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:null!==(n=e.includeHidden)&&void 0!==n&&n,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(i=e.angle)&&void 0!==i?i:0,minTickGap:null!==(a=e.minTickGap)&&void 0!==a?a:5,tick:null===(o=e.tick)||void 0===o||o,tickFormatter:e.tickFormatter},r.createElement(MD,e))};class LD extends r.Component{render(){return r.createElement(DD,this.props)}}OD(LD,"displayName","XAxis"),OD(LD,"defaultProps",{allowDataOverflow:qS.allowDataOverflow,allowDecimals:qS.allowDecimals,allowDuplicatedCategory:qS.allowDuplicatedCategory,height:qS.height,hide:!1,mirror:qS.mirror,orientation:qS.orientation,padding:qS.padding,reversed:qS.reversed,scale:qS.scale,tickCount:qS.tickCount,type:qS.type,xAxisId:0});var RD=["dangerouslySetInnerHTML","ticks"];function UD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FD(){return FD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FD.apply(null,arguments)}function BD(e){var t=cg();return(0,r.useEffect)(()=>(t(f_(e)),()=>{t(p_(e))}),[e,t]),null}var zD=e=>{var t,{yAxisId:n,className:i,width:a,label:o}=e,s=(0,r.useRef)(null),l=(0,r.useRef)(null),c=fg(uy),u=hy(),d=cg(),h="yAxis",f=fg(e=>dN(e,h,n,u)),p=fg(e=>wN(e,n)),m=fg(e=>((e,t)=>{var n=ly(e),r=YS(e,t);if(null!=r){var i=xN(e,r.orientation,r.mirror)[t];return null==i?{x:0,y:n.top}:{x:i,y:n.top}}})(e,n)),g=fg(e=>_N(e,h,n,u));if((0,r.useLayoutEffect)(()=>{var e;if("auto"===a&&p&&!XM(o)&&!(0,r.isValidElement)(o)){var t=s.current,i=null===t||void 0===t||null===(e=t.tickRefs)||void 0===e?void 0:e.current,{tickSize:c,tickMargin:u}=t.props,h=(e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){t.forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>o&&(o=t.width)}});var s=n?n.getBoundingClientRect().width:0,l=o+(i+a)+s+(n?r:0);return Math.round(l)}return 0})({ticks:i,label:l.current,labelGapWithTick:5,tickSize:c,tickMargin:u});Math.round(p.width)!==Math.round(h)&&d(y_({id:n,width:h}))}},[s,null===s||void 0===s||null===(t=s.current)||void 0===t||null===(t=t.tickRefs)||void 0===t?void 0:t.current,null===p||void 0===p?void 0:p.width,p,d,o,n,a]),null==p||null==m)return null;var{dangerouslySetInnerHTML:y,ticks:v}=e,b=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,RD);return r.createElement(lD,FD({},b,{ref:s,labelRef:l,scale:f,x:m.x,y:m.y,width:p.width,height:p.height,className:Zd("recharts-".concat(h," ").concat(h),i),viewBox:c,ticks:g}))},VD=e=>{var t,n,i,a,o;return r.createElement(r.Fragment,null,r.createElement(BD,{interval:null!==(t=e.interval)&&void 0!==t?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:null!==(n=e.includeHidden)&&void 0!==n&&n,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(i=e.angle)&&void 0!==i?i:0,minTickGap:null!==(a=e.minTickGap)&&void 0!==a?a:5,tick:null===(o=e.tick)||void 0===o||o,tickFormatter:e.tickFormatter}),r.createElement(zD,e))},WD={allowDataOverflow:GS.allowDataOverflow,allowDecimals:GS.allowDecimals,allowDuplicatedCategory:GS.allowDuplicatedCategory,hide:!1,mirror:GS.mirror,orientation:GS.orientation,padding:GS.padding,reversed:GS.reversed,scale:GS.scale,tickCount:GS.tickCount,type:GS.type,width:GS.width,yAxisId:0};class HD extends r.Component{render(){return r.createElement(VD,this.props)}}function qD(){return qD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qD.apply(null,arguments)}UD(HD,"displayName","YAxis"),UD(HD,"defaultProps",WD);var KD=e=>{var{cx:t,cy:n,r:i,className:a}=e,o=Zd("recharts-dot",a);return t===+t&&n===+n&&i===+i?r.createElement("circle",qD({},TC(e),_C(e),{className:o,cx:t,cy:n,r:i})):null},GD=n(356),YD=n.n(GD),$D=["valueAccessor"],QD=["data","dataKey","clockWise","id","textBreakAll"];function XD(){return XD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XD.apply(null,arguments)}function JD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ZD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JD(Object(n),!0).forEach(function(t){eL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tL(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var nL=e=>Array.isArray(e.value)?YD()(e.value):e.value;function rL(e){var{valueAccessor:t=nL}=e,n=tL(e,$D),{data:i,dataKey:a,clockWise:o,id:s,textBreakAll:l}=n,c=tL(n,QD);return i&&i.length?r.createElement(oO,{className:"recharts-label-list"},i.map((e,n)=>{var i=gh(a)?t(e,n):Rg(e&&e.payload,a),u=gh(s)?{}:{id:"".concat(s,"-").concat(n)};return r.createElement(ZM,XD({},UC(e,!0),c,u,{parentViewBox:e.parentViewBox,value:i,textBreakAll:l,viewBox:ZM.parseViewBox(gh(o)?e:ZD(ZD({},e),{},{clockWise:o})),key:"label-".concat(n),index:n}))})):null}function iL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function aL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iL(Object(n),!0).forEach(function(t){oL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}rL.displayName="LabelList",rL.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var{children:i}=e,a=LC(i,rL).map((e,n)=>(0,r.cloneElement)(e,{data:t,key:"labelList-".concat(n)}));return n?[function(e,t){return e?!0===e?r.createElement(rL,{key:"labelList-implicit",data:t}):r.isValidElement(e)||XM(e)?r.createElement(rL,{key:"labelList-implicit",data:t,content:e}):"object"===typeof e?r.createElement(rL,XD({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t),...a]:a};function sL(e){var{points:t,mainColor:n,activeDot:i,itemDataKey:a}=e,o=fg(PE),s=fg(BE);if(null==t||null==s)return null;var l=t.find(e=>s.includes(e.payload));return gh(l)?null:(e=>{var{point:t,childIndex:n,mainColor:i,activeDot:a,dataKey:o}=e;if(!1===a||null==t.x||null==t.y)return null;var s,l=aL(aL({index:n,dataKey:o,cx:t.x,cy:t.y,r:4,fill:null!==i&&void 0!==i?i:"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},UC(a,!1)),_C(a));return s=(0,r.isValidElement)(a)?(0,r.cloneElement)(a,l):"function"===typeof a?a(l):r.createElement(KD,l),r.createElement(oO,{className:"recharts-active-dot"},s)})({point:l,childIndex:Number(o),mainColor:n,dataKey:a,activeDot:i})}function lL(e,t){var n,r,i=fg(t=>KS(t,e)),a=fg(e=>YS(e,t)),o=null!==(n=null===i||void 0===i?void 0:i.allowDataOverflow)&&void 0!==n?n:qS.allowDataOverflow,s=null!==(r=null===a||void 0===a?void 0:a.allowDataOverflow)&&void 0!==r?r:GS.allowDataOverflow;return{needClip:o||s,needClipX:o,needClipY:s}}function cL(e){var{xAxisId:t,yAxisId:n,clipPathId:i}=e,a=cA(),{needClipX:o,needClipY:s,needClip:l}=lL(t,n);if(!l)return null;var{x:c,y:u,width:d,height:h}=a;return r.createElement("clipPath",{id:"clipPath-".concat(i)},r.createElement("rect",{x:o?c:c-d/2,y:s?u:u-h/2,width:o?d:2*d,height:s?h:2*h}))}var uL=(e,t,n,r)=>AN(e,"xAxis",t,r),dL=(e,t,n,r)=>CN(e,"xAxis",t,r),hL=(e,t,n,r)=>AN(e,"yAxis",n,r),fL=(e,t,n,r)=>CN(e,"yAxis",n,r),pL=ig([xy,uL,hL,dL,fL],(e,t,n,r,i)=>Ug(e,"xAxis")?Yg(t,r,!1):Yg(n,i,!1)),mL=ig([tj,(e,t,n,r,i)=>i],(e,t)=>e.filter(e=>"area"===e.type).find(e=>e.id===t)),gL=ig([xy,uL,hL,dL,fL,(e,t,n,r,i)=>{var a,o=mL(e,t,n,r,i);if(null!=o){var s,l=xy(e);if(null!=(s=Ug(l,"xAxis")?bj(e,"yAxis",n,r):bj(e,"xAxis",t,r))){var{stackId:c}=o,u=DS(o);if(null!=c&&null!=u){var d=null===(a=s[c])||void 0===a?void 0:a.stackedData;return null===d||void 0===d?void 0:d.find(e=>e.key===u)}}}},Mk,pL,mL],(e,t,n,r,i,a,o,s,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=o;if(null!=l&&("horizontal"===e||"vertical"===e)&&null!=t&&null!=n&&null!=r&&null!=i&&0!==r.length&&0!==i.length&&null!=s){var h,{data:f}=l;if(null!=(h=f&&f.length>0?f:null===c||void 0===c?void 0:c.slice(u,d+1))){return function(e){var t,{areaSettings:{connectNulls:n,baseValue:r,dataKey:i},stackedData:a,layout:o,chartBaseValue:s,xAxis:l,yAxis:c,displayedData:u,dataStartIndex:d,xAxisTicks:h,yAxisTicks:f,bandSize:p}=e,m=a&&a.length,g=RL(o,s,r,l,c),y="horizontal"===o,v=!1,b=u.map((e,t)=>{var r;m?r=a[d+t]:(r=Rg(e,i),Array.isArray(r)?v=!0:r=[g,r]);var o=null==r[1]||m&&!n&&null==Rg(e,i);return y?{x:Hg({axis:l,ticks:h,bandSize:p,entry:e,index:t}),y:o?null:c.scale(r[1]),value:r,payload:e}:{x:o?null:l.scale(r[1]),y:Hg({axis:c,ticks:f,bandSize:p,entry:e,index:t}),value:r,payload:e}});t=m||v?b.map(e=>{var t=Array.isArray(e.value)?e.value[0]:null;return y?{x:e.x,y:null!=t&&null!=e.y?c.scale(t):null,payload:e.payload}:{x:null!=t?l.scale(t):null,y:e.y,payload:e.payload}}):y?c.scale(g):l.scale(g);return{points:b,baseLine:t,isRange:v}}({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:u,areaSettings:l,stackedData:a,displayedData:h,chartBaseValue:undefined,bandSize:s})}}}),yL=["id"],vL=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function bL(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function wL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xL(Object(n),!0).forEach(function(t){kL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function kL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SL(){return SL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SL.apply(null,arguments)}function jL(e,t){return e&&"none"!==e?e:t}var NL=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:jL(r,i),value:Qg(n,t),payload:e}]};function EL(e){var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:s,unit:l}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:Qg(o,t),hide:s,type:e.tooltipType,color:jL(r,a),unit:l}}}function _L(e){var{clipPathId:t,points:n,props:i}=e,{needClip:a,dot:o,dataKey:s}=i;if(!function(e,t){return null!=e&&(!!t||1===e.length)}(n,o))return null;var l=RC(o),c=TC(i),u=UC(o,!0),d=n.map((e,t)=>{var i=wL(wL(wL({key:"dot-".concat(t),r:3},c),u),{},{index:t,cx:e.x,cy:e.y,dataKey:s,value:e.value,payload:e.payload,points:n});return((e,t)=>{var n;if(r.isValidElement(e))n=r.cloneElement(e,t);else if("function"===typeof e)n=e(t);else{var i=Zd("recharts-area-dot","boolean"!==typeof e?e.className:"");n=r.createElement(KD,SL({},t,{className:i}))}return n})(o,i)}),h={clipPath:a?"url(#clipPath-".concat(l?"":"dots-").concat(t,")"):void 0};return r.createElement(oO,SL({className:"recharts-area-dots"},h),d)}function CL(e){var{points:t,baseLine:n,needClip:i,clipPathId:a,props:o,showLabels:s}=e,{layout:l,type:c,stroke:u,connectNulls:d,isRange:h}=o,{id:f}=o,p=bL(o,yL),m=TC(p);return r.createElement(r.Fragment,null,(null===t||void 0===t?void 0:t.length)>1&&r.createElement(oO,{clipPath:i?"url(#clipPath-".concat(a,")"):void 0},r.createElement(GO,SL({},m,{id:f,points:t,connectNulls:d,type:c,baseLine:n,layout:l,stroke:"none",className:"recharts-area-area"})),"none"!==u&&r.createElement(GO,SL({},m,{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:t})),"none"!==u&&h&&r.createElement(GO,SL({},m,{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:n}))),r.createElement(_L,{points:t,props:p,clipPathId:a}),s&&rL.renderCallByParent(p,t))}function AL(e){var{alpha:t,baseLine:n,points:i,strokeWidth:a}=e,o=i[0].y,s=i[i.length-1].y;if(!Dk(o)||!Dk(s))return null;var l=t*Math.abs(o-s),c=Math.max(...i.map(e=>e.x||0));return sh(n)?c=Math.max(n,c):n&&Array.isArray(n)&&n.length&&(c=Math.max(...n.map(e=>e.x||0),c)),sh(c)?r.createElement("rect",{x:0,y:o<s?o:o-l,width:c+(a?parseInt("".concat(a),10):1),height:Math.floor(l)}):null}function OL(e){var{alpha:t,baseLine:n,points:i,strokeWidth:a}=e,o=i[0].x,s=i[i.length-1].x;if(!Dk(o)||!Dk(s))return null;var l=t*Math.abs(o-s),c=Math.max(...i.map(e=>e.y||0));return sh(n)?c=Math.max(n,c):n&&Array.isArray(n)&&n.length&&(c=Math.max(...n.map(e=>e.y||0),c)),sh(c)?r.createElement("rect",{x:o<s?o:o-l,y:0,width:l,height:Math.floor(c+(a?parseInt("".concat(a),10):1))}):null}function TL(e){var{alpha:t,layout:n,points:i,baseLine:a,strokeWidth:o}=e;return"vertical"===n?r.createElement(AL,{alpha:t,points:i,baseLine:a,strokeWidth:o}):r.createElement(OL,{alpha:t,points:i,baseLine:a,strokeWidth:o})}function PL(e){var{needClip:t,clipPathId:n,props:i,previousPointsRef:a,previousBaselineRef:o}=e,{points:s,baseLine:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:h,onAnimationStart:f,onAnimationEnd:p}=i,m=lI(i,"recharts-area-"),[g,y]=(0,r.useState)(!0),v=(0,r.useCallback)(()=>{"function"===typeof p&&p(),y(!1)},[p]),b=(0,r.useCallback)(()=>{"function"===typeof f&&f(),y(!0)},[f]),x=a.current,w=o.current;return r.createElement(vI,{begin:u,duration:d,isActive:c,easing:h,onAnimationEnd:v,onAnimationStart:b,key:m},e=>{if(x){var c,u=x.length/s.length,d=1===e?s:s.map((t,n)=>{var r=Math.floor(n*u);if(x[r]){var i=x[r];return wL(wL({},t),{},{x:ph(i.x,t.x,e),y:ph(i.y,t.y,e)})}return t});return c=sh(l)?ph(w,l,e):gh(l)||ah(l)?ph(w,0,e):l.map((t,n)=>{var r=Math.floor(n*u);if(Array.isArray(w)&&w[r]){var i=w[r];return wL(wL({},t),{},{x:ph(i.x,t.x,e),y:ph(i.y,t.y,e)})}return t}),e>0&&(a.current=d,o.current=c),r.createElement(CL,{points:d,baseLine:c,needClip:t,clipPathId:n,props:i,showLabels:!g})}return e>0&&(a.current=s,o.current=l),r.createElement(oO,null,r.createElement("defs",null,r.createElement("clipPath",{id:"animationClipPath-".concat(n)},r.createElement(TL,{alpha:e,points:s,baseLine:l,layout:i.layout,strokeWidth:i.strokeWidth}))),r.createElement(oO,{clipPath:"url(#animationClipPath-".concat(n,")")},r.createElement(CL,{points:s,baseLine:l,needClip:t,clipPathId:n,props:i,showLabels:!0})))})}function IL(e){var{needClip:t,clipPathId:n,props:i}=e,{points:a,baseLine:o,isAnimationActive:s}=i,l=(0,r.useRef)(null),c=(0,r.useRef)(),u=l.current,d=c.current;return s&&a&&a.length&&(u!==a||d!==o)?r.createElement(PL,{needClip:t,clipPathId:n,props:i,previousPointsRef:l,previousBaselineRef:c}):r.createElement(CL,{points:a,baseLine:o,needClip:t,clipPathId:n,props:i,showLabels:!0})}class ML extends r.PureComponent{render(){var e,{hide:t,dot:n,points:i,className:a,top:o,left:s,needClip:l,xAxisId:c,yAxisId:u,width:d,height:h,id:f,baseLine:p}=this.props;if(t)return null;var m=Zd("recharts-area",a),g=f,{r:y=3,strokeWidth:v=2}=null!==(e=UC(n,!1))&&void 0!==e?e:{r:3,strokeWidth:2},b=RC(n),x=2*y+v;return r.createElement(r.Fragment,null,r.createElement(oO,{className:m},l&&r.createElement("defs",null,r.createElement(cL,{clipPathId:g,xAxisId:c,yAxisId:u}),!b&&r.createElement("clipPath",{id:"clipPath-dots-".concat(g)},r.createElement("rect",{x:s-x/2,y:o-x/2,width:d+x,height:h+x}))),r.createElement(IL,{needClip:l,clipPathId:g,props:this.props})),r.createElement(sL,{points:i,mainColor:jL(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(p)&&r.createElement(sL,{points:p,mainColor:jL(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var DL={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!YO,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function LL(e){var t,n=gA(e,DL),{activeDot:i,animationBegin:a,animationDuration:o,animationEasing:s,connectNulls:l,dot:c,fill:u,fillOpacity:d,hide:h,isAnimationActive:f,legendType:p,stroke:m,xAxisId:g,yAxisId:y}=n,v=bL(n,vL),b=wy(),x=zE(),{needClip:w}=lL(g,y),k=hy(),{points:S,isRange:j,baseLine:N}=null!==(t=fg(t=>gL(t,g,y,k,e.id)))&&void 0!==t?t:{},E=cA();if("horizontal"!==b&&"vertical"!==b||null==E)return null;if("AreaChart"!==x&&"ComposedChart"!==x)return null;var{height:_,width:C,x:A,y:O}=E;return S&&S.length?r.createElement(ML,SL({},v,{activeDot:i,animationBegin:a,animationDuration:o,animationEasing:s,baseLine:N,connectNulls:l,dot:c,fill:u,fillOpacity:d,height:_,hide:h,layout:b,isAnimationActive:f,isRange:j,legendType:p,needClip:w,points:S,stroke:m,width:C,left:A,top:O,xAxisId:g,yAxisId:y})):null}var RL=(e,t,n,r,i)=>{var a=null!==n&&void 0!==n?n:t;if(sh(a))return a;var o="horizontal"===e?i:r,s=o.scale.domain();if("number"===o.type){var l=Math.max(s[0],s[1]),c=Math.min(s[0],s[1]);return"dataMin"===a?c:"dataMax"===a||l<0?l:Math.max(Math.min(s[0],s[1]),0)}return"dataMin"===a?s[0]:"dataMax"===a?s[1]:s[0]};function UL(e){var t=gA(e,DL),n=hy();return r.createElement(dI,{id:t.id,type:"area"},e=>{return r.createElement(r.Fragment,null,r.createElement(oI,{legendPayload:NL(t)}),r.createElement(rI,{fn:EL,args:t}),r.createElement(hI,{type:"area",id:e,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:(i=t.stackId,null==i?void 0:String(i)),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),r.createElement(LL,SL({},t,{id:e})));var i})}UL.displayName="Area";var FL=["axis"],BL=(0,r.forwardRef)((e,t)=>r.createElement(TM,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:FL,tooltipPayloadSearcher:Sp,categoricalChartProps:e,ref:t})),zL=["children"];var VL={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},WL=(0,r.createContext)(VL);function HL(e){var{children:t}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,zL);return r.createElement(WL.Provider,{value:n},t)}var qL=(e,t,n,r)=>AN(e,"xAxis",t,r),KL=(e,t,n,r)=>CN(e,"xAxis",t,r),GL=(e,t,n,r)=>AN(e,"yAxis",n,r),YL=(e,t,n,r)=>CN(e,"yAxis",n,r),$L=ig([xy,qL,GL,KL,YL],(e,t,n,r,i)=>Ug(e,"xAxis")?Yg(t,r,!1):Yg(n,i,!1));function QL(e){return"line"===e.type}var XL=ig([tj,(e,t,n,r,i)=>i],(e,t)=>e.filter(QL).find(e=>e.id===t)),JL=ig([xy,qL,GL,KL,YL,XL,$L,Mk],(e,t,n,r,i,a,o,s)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=s;if(null!=a&&null!=t&&null!=n&&null!=r&&null!=i&&0!==r.length&&0!==i.length&&null!=o){var d,{dataKey:h,data:f}=a;if(null!=(d=null!=f&&f.length>0?f:null===l||void 0===l?void 0:l.slice(c,u+1)))return function(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:s,displayedData:l}=e;return l.map((e,l)=>{var c=Rg(e,o);if("horizontal"===t)return{x:Hg({axis:n,ticks:i,bandSize:s,entry:e,index:l}),y:gh(c)?null:r.scale(c),value:c,payload:e};var u=gh(c)?null:n.scale(c),d=Hg({axis:r,ticks:a,bandSize:s,entry:e,index:l});return null==u||null==d?null:{x:u,y:d,value:c,payload:e}}).filter(Boolean)}({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:h,bandSize:o,displayedData:d})}}),ZL=["id"],eR=["type","layout","connectNulls","needClip"],tR=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function nR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nR(Object(n),!0).forEach(function(t){iR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function iR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aR(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oR(){return oR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oR.apply(null,arguments)}var sR=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:Qg(n,t),payload:e}]};function lR(e){var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:s,unit:l}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:Qg(o,t),hide:s,type:e.tooltipType,color:e.stroke,unit:l}}}var cR=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function uR(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}function dR(e){var{clipPathId:t,points:n,props:i}=e,{dot:a,dataKey:o,needClip:s}=i;if(!function(e,t){return null!=e&&(!!t||1===e.length)}(n,a))return null;var{id:l}=i,c=aR(i,ZL),u=RC(a),d=TC(c),h=UC(a,!0),f=n.map((e,t)=>{var i=rR(rR(rR({key:"dot-".concat(t),r:3},d),h),{},{index:t,cx:e.x,cy:e.y,dataKey:o,value:e.value,payload:e.payload,points:n});return function(e,t){var n;if(r.isValidElement(e))n=r.cloneElement(e,t);else if("function"===typeof e)n=e(t);else{var i=Zd("recharts-line-dot","boolean"!==typeof e?e.className:"");n=r.createElement(KD,oR({},t,{className:i}))}return n}(a,i)}),p={clipPath:s?"url(#clipPath-".concat(u?"":"dots-").concat(t,")"):void 0};return r.createElement(oO,oR({className:"recharts-line-dots",key:"dots"},p),f)}function hR(e){var{clipPathId:t,pathRef:n,points:i,strokeDasharray:a,props:o,showLabels:s}=e,{type:l,layout:c,connectNulls:u,needClip:d}=o,h=aR(o,eR),f=rR(rR({},UC(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:i,type:l,layout:c,connectNulls:u,strokeDasharray:null!==a&&void 0!==a?a:o.strokeDasharray});return r.createElement(r.Fragment,null,(null===i||void 0===i?void 0:i.length)>1&&r.createElement(GO,oR({},f,{pathRef:n})),r.createElement(dR,{points:i,clipPathId:t,props:o}),s&&rL.renderCallByParent(o,i))}function fR(e){var{clipPathId:t,props:n,pathRef:i,previousPointsRef:a,longestAnimatedLengthRef:o}=e,{points:s,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:h,animateNewValues:f,width:p,height:m,onAnimationEnd:g,onAnimationStart:y}=n,v=a.current,b=lI(n,"recharts-line-"),[x,w]=(0,r.useState)(!1),k=(0,r.useCallback)(()=>{"function"===typeof g&&g(),w(!1)},[g]),S=(0,r.useCallback)(()=>{"function"===typeof y&&y(),w(!0)},[y]),j=function(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}(i.current),N=o.current;return r.createElement(vI,{begin:u,duration:d,isActive:c,easing:h,onAnimationEnd:k,onAnimationStart:S,key:b},e=>{var c,u=ph(N,j+N,e),d=Math.min(u,j);if(l){var h="".concat(l).split(/[,\s]+/gim).map(e=>parseFloat(e));c=((e,t,n)=>{var r=n.reduce((e,t)=>e+t);if(!r)return cR(t,e);for(var i=Math.floor(e/r),a=e%r,o=t-e,s=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>a){s=[...n.slice(0,l),a-c];break}var u=s.length%2===0?[0,o]:[o];return[...uR(n,i),...s,...u].map(e=>"".concat(e,"px")).join(", ")})(d,j,h)}else c=cR(j,d);if(v){var g=v.length/s.length,y=1===e?s:s.map((t,n)=>{var r=Math.floor(n*g);if(v[r]){var i=v[r];return rR(rR({},t),{},{x:ph(i.x,t.x,e),y:ph(i.y,t.y,e)})}return rR(rR({},t),{},f?{x:ph(2*p,t.x,e),y:ph(m/2,t.y,e)}:{x:t.x,y:t.y})});return a.current=y,r.createElement(hR,{props:n,points:y,clipPathId:t,pathRef:i,showLabels:!x,strokeDasharray:c})}return e>0&&j>0&&(a.current=s,o.current=d),r.createElement(hR,{props:n,points:s,clipPathId:t,pathRef:i,showLabels:!x,strokeDasharray:c})})}function pR(e){var{clipPathId:t,props:n}=e,{points:i,isAnimationActive:a}=n,o=(0,r.useRef)(null),s=(0,r.useRef)(0),l=(0,r.useRef)(null),c=o.current;return a&&i&&i.length&&c!==i?r.createElement(fR,{props:n,clipPathId:t,previousPointsRef:o,longestAnimatedLengthRef:s,pathRef:l}):r.createElement(hR,{props:n,points:i,clipPathId:t,pathRef:l,showLabels:!0})}var mR=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Rg(e.payload,t)});class gR extends r.Component{render(){var e,{hide:t,dot:n,points:i,className:a,xAxisId:o,yAxisId:s,top:l,left:c,width:u,height:d,id:h,needClip:f}=this.props;if(t)return null;var p=Zd("recharts-line",a),m=h,{r:g=3,strokeWidth:y=2}=null!==(e=UC(n,!1))&&void 0!==e?e:{r:3,strokeWidth:2},v=RC(n),b=2*g+y;return r.createElement(r.Fragment,null,r.createElement(oO,{className:p},f&&r.createElement("defs",null,r.createElement(cL,{clipPathId:m,xAxisId:o,yAxisId:s}),!v&&r.createElement("clipPath",{id:"clipPath-dots-".concat(m)},r.createElement("rect",{x:c-b/2,y:l-b/2,width:u+b,height:d+b}))),r.createElement(pR,{props:this.props,clipPathId:m}),r.createElement(HL,{xAxisId:o,yAxisId:s,data:i,dataPointFormatter:mR,errorBarOffset:0},this.props.children)),r.createElement(sL,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var yR={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!YO,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function vR(e){var t=gA(e,yR),{activeDot:n,animateNewValues:i,animationBegin:a,animationDuration:o,animationEasing:s,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:h,legendType:f,xAxisId:p,yAxisId:m,id:g}=t,y=aR(t,tR),{needClip:v}=lL(p,m),b=cA(),x=wy(),w=hy(),k=fg(e=>JL(e,p,m,w,g));if("horizontal"!==x&&"vertical"!==x||null==k||null==b)return null;var{height:S,width:j,x:N,y:E}=b;return r.createElement(gR,oR({},y,{id:g,connectNulls:l,dot:c,activeDot:n,animateNewValues:i,animationBegin:a,animationDuration:o,animationEasing:s,isAnimationActive:d,hide:u,label:h,legendType:f,xAxisId:p,yAxisId:m,points:k,layout:x,height:S,width:j,left:N,top:E,needClip:v}))}function bR(e){var t=gA(e,yR),n=hy();return r.createElement(dI,{id:t.id,type:"line"},e=>r.createElement(r.Fragment,null,r.createElement(oI,{legendPayload:sR(t)}),r.createElement(rI,{fn:lR,args:t}),r.createElement(hI,{type:"line",id:e,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),r.createElement(vR,oR({},t,{id:e}))))}bR.displayName="Line";const xR=Ed("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),wR=Ed("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),kR=Ed("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),SR=Ed("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),jR=Ed("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);const NR=function(e){let{progress:t,icon:n,size:i="md",className:a=""}=e;const[o,s]=(0,r.useState)(0),l={sm:{width:120,height:120,strokeWidth:8,fontSize:16},md:{width:160,height:160,strokeWidth:10,fontSize:20},lg:{width:200,height:200,strokeWidth:12,fontSize:24}}[i],c=(l.width-l.strokeWidth)/2-10,u=2*Math.PI*c,d=u*(1-o/100);return(0,r.useEffect)(()=>{const e=setTimeout(()=>{s(t)},100);return()=>clearTimeout(e)},[t]),(0,Dd.jsxs)("div",{className:"flex flex-col items-center ".concat(a),children:[(0,Dd.jsxs)("div",{className:"relative",style:{width:l.width,height:l.height},children:[(0,Dd.jsxs)("svg",{width:l.width,height:l.height,viewBox:"0 0 ".concat(l.width," ").concat(l.height),className:"absolute inset-0",children:[(0,Dd.jsx)("circle",{cx:l.width/2,cy:l.height/2,r:c,stroke:"#E5E7EB",strokeWidth:l.strokeWidth,fill:"none"}),(0,Dd.jsx)("circle",{cx:l.width/2,cy:l.height/2,r:c,stroke:"#6266FF",strokeWidth:l.strokeWidth,fill:"none",strokeLinecap:"round",strokeDasharray:u,strokeDashoffset:d,transform:"rotate(-90 ".concat(l.width/2," ").concat(l.height/2,")"),className:"transition-all duration-1000 ease-out"}),Array.from({length:60}).map((e,t)=>{const n=(6*t-90)*(Math.PI/180),r=l.width/2+(c-5)*Math.cos(n),i=l.height/2+(c-5)*Math.sin(n);return(0,Dd.jsx)("rect",{x:r-1,y:i-1,width:"2",height:"2",fill:"#E5E7EB",rx:"1"},t)})]}),(0,Dd.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,Dd.jsx)("div",{className:"text-3xl",style:{fontSize:1.5*l.fontSize},children:n})})]}),(0,Dd.jsxs)("div",{className:"font-bold text-gray-900 mt-4",style:{fontSize:l.fontSize},children:[Math.round(o),"%"]})]})},ER=e=>{let{onBack:t,goalTitle:n="Savings Goal",goalSubtitle:r="Track your progress",savedAmount:i=3500,targetAmount:a=5e3,accent:o="#111111",onAddSavings:s,onEditGoal:l,goalIcon:c="\ud83d\udcb0"}=e;const u="number"===typeof i?i:0,d="number"===typeof a?a:1,h=Math.max(0,Math.min(100,Math.round(u/d*100)));return(0,Dd.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,Dd.jsxs)("div",{className:"px-6 py-6",children:[(0,Dd.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,Dd.jsxs)("button",{onClick:t,className:"text-gray-700 font-medium flex items-center",children:[(0,Dd.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),"Back to Goals"]})}),(0,Dd.jsxs)("div",{className:"rounded-3xl overflow-hidden shadow-xl border border-gray-200",children:[(0,Dd.jsxs)("div",{className:"p-5",style:{background:"#f6f6f6"},children:[(0,Dd.jsx)("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Savings"}),(0,Dd.jsx)("h2",{className:"mt-1 text-2xl font-extrabold text-gray-900",children:n}),(0,Dd.jsx)("p",{className:"text-gray-600 text-sm",children:r})]}),(0,Dd.jsxs)("div",{className:"bg-white p-6",children:[(0,Dd.jsxs)("div",{className:"flex items-center",children:[(0,Dd.jsx)("div",{className:"mr-5",children:(0,Dd.jsx)(NR,{progress:h,icon:c,size:"md"})}),(0,Dd.jsxs)("div",{className:"flex-1",children:[(0,Dd.jsx)("div",{className:"text-sm text-gray-500",children:"Saved"}),(0,Dd.jsxs)("div",{className:"text-3xl font-bold text-gray-900",children:["$",u.toLocaleString()]}),(0,Dd.jsxs)("div",{className:"mt-1 text-sm text-gray-500",children:["Target $",d.toLocaleString()]}),(0,Dd.jsx)("div",{className:"mt-4 h-2 w-full bg-gray-200 rounded-full",children:(0,Dd.jsx)("div",{className:"h-2 rounded-full",style:{width:"".concat(h,"%"),backgroundColor:o}})})]})]}),(0,Dd.jsxs)("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[(0,Dd.jsx)("button",{onClick:()=>{const e="undefined"!==typeof window?window.prompt("Add amount to savings","100"):null;if(!e)return;const t=parseFloat(e);Number.isFinite(t)&&t>0&&(null===s||void 0===s||s(t))},className:"px-4 py-2 rounded-xl bg-black text-white font-semibold",children:"Add Savings"}),(0,Dd.jsx)("button",{onClick:l,className:"px-4 py-2 rounded-xl border border-gray-300 text-gray-800 font-semibold",children:"Edit Goal"})]})]}),(0,Dd.jsx)("div",{className:"px-6 py-4 border-t bg-gray-50",children:(0,Dd.jsx)("div",{className:"text-xs text-gray-500",children:"Designed to match Figma Post 2"})})]})]})})},_R=e=>{let{onBack:t,goal:n={name:"Travel & Vacation",amount:25e3,saved:15500,deadline:"2024-12-26",note:"Vacation with family",color:"#615df7"},onAddSavings:i,onWithdraw:a,onEditGoal:o}=e;console.log("Goal data received:",n);const[s,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)(""),m=(0,r.useRef)(null),g={name:(null===n||void 0===n?void 0:n.name)||"Unnamed Goal",amount:(null===n||void 0===n?void 0:n.amount)||0,saved:(null===n||void 0===n?void 0:n.saved)||0,deadline:(null===n||void 0===n?void 0:n.deadline)||"2024-12-26",note:(null===n||void 0===n?void 0:n.note)||"Goal description",color:(null===n||void 0===n?void 0:n.color)||"#615df7"},y=g.amount-g.saved,v=Math.min(100,Math.round(g.saved/g.amount*100)),b=Math.max(0,Math.ceil((new Date(g.deadline)-new Date)/864e5)),x=b>0?y/b:0,w=7*x,k=30*x;return(0,r.useEffect)(()=>{const e=e=>{m.current&&!m.current.contains(e.target)&&h(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,Dd.jsxs)("div",{className:"h-full flex flex-col bg-white",children:[(0,Dd.jsx)("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:(0,Dd.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Dd.jsxs)("button",{onClick:t,className:"flex items-center text-gray-700 font-medium",children:[(0,Dd.jsx)(_d,{className:"w-4 h-4 mr-2"}),"Back"]}),(0,Dd.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:g.name}),(0,Dd.jsxs)("div",{className:"relative",ref:m,children:[(0,Dd.jsx)("button",{onClick:()=>h(!d),className:"flex items-center justify-center w-8 h-8 text-gray-600 hover:text-gray-800 rounded-lg hover:bg-gray-100 transition-colors",children:(0,Dd.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})}),d&&(0,Dd.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[(0,Dd.jsxs)("button",{onClick:()=>{h(!1),null===o||void 0===o||o()},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center",children:[(0,Dd.jsx)("svg",{className:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit Goal"]}),(0,Dd.jsxs)("button",{onClick:()=>{h(!1),console.log("Marking goal as completed:",g.name)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center",children:[(0,Dd.jsx)("svg",{className:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Mark as Completed"]}),(0,Dd.jsxs)("button",{onClick:()=>{h(!1),console.log("Sharing goal:",g.name)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center",children:[(0,Dd.jsx)("svg",{className:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})}),"Share Progress"]}),(0,Dd.jsx)("div",{className:"border-t border-gray-200 my-1"}),(0,Dd.jsxs)("button",{onClick:()=>{h(!1),window.confirm('Are you sure you want to delete "'.concat(g.name,'"? This action cannot be undone.'))&&console.log("Deleting goal:",g.name)},className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center",children:[(0,Dd.jsx)("svg",{className:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Goal"]})]})]})]})}),(0,Dd.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,Dd.jsxs)("div",{className:"p-6",children:[(0,Dd.jsxs)("div",{className:"flex flex-col items-center mb-8",children:[(0,Dd.jsx)("div",{className:"flex justify-center mb-6",children:(0,Dd.jsx)(NR,{progress:v,icon:(e=>{const t=e.toLowerCase();return t.includes("travel")||t.includes("vacation")?"\ud83c\udfdd\ufe0f":t.includes("home")||t.includes("house")?"\ud83c\udfe0":t.includes("car")||t.includes("vehicle")?"\ud83d\ude97":t.includes("education")||t.includes("school")?"\ud83c\udf93":t.includes("emergency")||t.includes("fund")?"\ud83d\udee1\ufe0f":t.includes("retirement")?"\ud83d\udcb0":t.includes("wedding")?"\ud83d\udc92":t.includes("business")||t.includes("startup")?"\ud83d\udcbc":"\ud83c\udfaf"})(g.name),size:"lg"})}),(0,Dd.jsxs)("div",{className:"flex space-x-2 mb-6",children:[(0,Dd.jsx)("button",{className:"px-6 py-2 bg-purple-600 text-white text-sm rounded-lg font-medium",children:"Goal"}),(0,Dd.jsx)("button",{className:"px-6 py-2 bg-gray-200 text-gray-700 text-sm rounded-lg font-medium",children:"Records"})]})]}),(0,Dd.jsxs)("div",{className:"mb-6",children:[(0,Dd.jsx)("h3",{className:"text-sm text-gray-500 mb-4",children:"Savings"}),(0,Dd.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,Dd.jsxs)("div",{children:[(0,Dd.jsxs)("div",{className:"text-lg font-bold text-gray-900",children:["$",g.saved.toLocaleString()]}),(0,Dd.jsx)("div",{className:"text-sm text-gray-500",children:"Saved"})]}),(0,Dd.jsxs)("div",{children:[(0,Dd.jsxs)("div",{className:"text-lg font-bold text-gray-900",children:["$",y.toLocaleString()]}),(0,Dd.jsx)("div",{className:"text-sm text-gray-500",children:"Remaining"})]}),(0,Dd.jsxs)("div",{children:[(0,Dd.jsxs)("div",{className:"text-lg font-bold text-gray-900",children:["$",g.amount.toLocaleString()]}),(0,Dd.jsx)("div",{className:"text-sm text-gray-500",children:"Goal"})]})]})]}),(0,Dd.jsx)("div",{className:"border-t border-gray-200 mb-6"}),(0,Dd.jsx)("div",{className:"mb-6",children:(0,Dd.jsxs)("div",{className:"text-sm text-gray-500",children:["Deadline: ",new Date(g.deadline).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"})]})}),(0,Dd.jsx)("div",{className:"border-t border-gray-200 mb-6"}),(0,Dd.jsx)("div",{className:"mb-6",children:(0,Dd.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,Dd.jsxs)("div",{children:[(0,Dd.jsxs)("div",{className:"text-lg font-bold text-gray-900",children:["$",x.toFixed(2)]}),(0,Dd.jsx)("div",{className:"text-sm text-gray-500",children:"Daily Savings"})]}),(0,Dd.jsxs)("div",{children:[(0,Dd.jsxs)("div",{className:"text-lg font-bold text-gray-900",children:["$",w.toFixed(2)]}),(0,Dd.jsx)("div",{className:"text-sm text-gray-500",children:"Weekly Savings"})]}),(0,Dd.jsxs)("div",{children:[(0,Dd.jsxs)("div",{className:"text-lg font-bold text-gray-900",children:["$",k.toFixed(2)]}),(0,Dd.jsx)("div",{className:"text-sm text-gray-500",children:"Monthly savings"})]})]})}),(0,Dd.jsx)("div",{className:"border-t border-gray-200 mb-6"}),(0,Dd.jsxs)("div",{className:"mb-8",children:[(0,Dd.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"Note"}),(0,Dd.jsx)("div",{className:"text-sm text-gray-900",children:g.note})]}),(0,Dd.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Dd.jsx)("button",{onClick:()=>{p(g.saved.toString()),l(!0)},className:"py-3 px-4 bg-purple-100 hover:bg-purple-200 text-purple-700 font-medium rounded-lg transition-colors text-sm",children:"Withdraw"}),(0,Dd.jsx)("button",{onClick:()=>{u(!0)},className:"py-3 px-4 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition-colors text-sm",children:"Complete Goal"})]})]})}),s&&(0,Dd.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Dd.jsx)("div",{className:"bg-white rounded-xl p-6 w-full max-w-sm",children:(0,Dd.jsxs)("div",{className:"text-center",children:[(0,Dd.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Dd.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,Dd.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Confirm Withdrawal"}),(0,Dd.jsxs)("p",{className:"text-gray-600 mb-6",children:["Are you sure you want to withdraw ",(0,Dd.jsxs)("span",{className:"font-semibold",children:["$",parseFloat(f).toLocaleString()]})," from your ",(0,Dd.jsx)("span",{className:"font-semibold",children:g.name})," goal?"]}),(0,Dd.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:"This action cannot be undone. The withdrawn amount will be removed from your goal progress."}),(0,Dd.jsxs)("div",{className:"flex space-x-3",children:[(0,Dd.jsx)("button",{onClick:()=>{l(!1),p("")},className:"flex-1 py-3 px-4 border border-gray-300 text-gray-700 rounded-lg font-medium",children:"Cancel"}),(0,Dd.jsx)("button",{onClick:()=>{const e=parseFloat(f);e>0&&e<=g.saved&&(null===a||void 0===a||a(e),p(""),l(!1))},className:"flex-1 py-3 px-4 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium",children:"Yes, Withdraw"})]})]})})}),c&&(0,Dd.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Dd.jsx)("div",{className:"bg-white rounded-xl p-6 w-full max-w-sm",children:(0,Dd.jsxs)("div",{className:"text-center",children:[(0,Dd.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Dd.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Dd.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Complete Goal"}),(0,Dd.jsxs)("p",{className:"text-gray-600 mb-6",children:["Are you sure you want to mark ",(0,Dd.jsx)("span",{className:"font-semibold",children:g.name})," as completed?"]}),(0,Dd.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:"This will mark your goal as achieved. You can still view your progress history."}),(0,Dd.jsxs)("div",{className:"flex space-x-3",children:[(0,Dd.jsx)("button",{onClick:()=>{u(!1)},className:"flex-1 py-3 px-4 border border-gray-300 text-gray-700 rounded-lg font-medium",children:"Cancel"}),(0,Dd.jsx)("button",{onClick:()=>{console.log("Completing goal:",g.name),u(!1)},className:"flex-1 py-3 px-4 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium",children:"Yes, Complete"})]})]})})})]})},CR=e=>{let{onBack:t}=e;const[n,i]=(0,r.useState)("AUD"),[a,o]=(0,r.useState)("INR"),[s,l]=(0,r.useState)("1"),[c,u]=(0,r.useState)(null),[d,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)(null),[m,g]=(0,r.useState)(null),y=[{code:"AUD",name:"Australian Dollar",symbol:"A$"},{code:"USD",name:"US Dollar",symbol:"$"},{code:"EUR",name:"Euro",symbol:"\u20ac"},{code:"INR",name:"Indian Rupee",symbol:"\u20b9"},{code:"CNY",name:"Chinese Yuan",symbol:"\xa5"},{code:"GBP",name:"British Pound",symbol:"\xa3"},{code:"JPY",name:"Japanese Yen",symbol:"\xa5"},{code:"CAD",name:"Canadian Dollar",symbol:"C$"},{code:"SGD",name:"Singapore Dollar",symbol:"S$"},{code:"NZD",name:"New Zealand Dollar",symbol:"NZ$"}];(0,r.useEffect)(()=>{(async()=>{h(!0),g(null);try{const e=await fetch("https://api.exchangerate-api.com/v4/latest/".concat(n));if(!e.ok)throw new Error("Failed to fetch exchange rate");const t=(await e.json()).rates[a];if(!t)throw new Error("Exchange rate not available for ".concat(a));u(t),p(new Date)}catch(e){console.error("Error fetching exchange rate:",e),g("Unable to fetch current exchange rate. Please try again.")}finally{h(!1)}})()},[n,a]);const v=c&&s?(parseFloat(s)*c).toFixed(2):"0.00",b=y.find(e=>e.code===n),x=y.find(e=>e.code===a);return(0,Dd.jsxs)("div",{className:"h-full flex flex-col bg-gray-900",children:[(0,Dd.jsx)("div",{className:"bg-gray-800 border-b border-gray-700 px-6 py-4",children:(0,Dd.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Dd.jsxs)("button",{onClick:t,className:"flex items-center text-white font-medium hover:text-gray-300 transition-colors",children:[(0,Dd.jsx)(_d,{className:"w-4 h-4 mr-2"}),"Back"]}),(0,Dd.jsx)("h1",{className:"text-lg font-semibold text-white",children:"Currency Converter"}),(0,Dd.jsx)("div",{className:"w-8"})]})}),(0,Dd.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,Dd.jsxs)("div",{className:"p-6",children:[c&&!m&&(0,Dd.jsx)("div",{className:"bg-gradient-to-r from-blue-900 to-purple-900 rounded-xl p-4 mb-6 border border-blue-600",children:(0,Dd.jsxs)("div",{className:"text-center",children:[(0,Dd.jsxs)("div",{className:"text-2xl font-bold text-white mb-2",children:["1 ",n," = ",c.toFixed(4)," ",a]}),(0,Dd.jsxs)("div",{className:"text-sm text-blue-200",children:["Last updated: ",null===f||void 0===f?void 0:f.toLocaleTimeString()]})]})}),m&&(0,Dd.jsx)("div",{className:"bg-red-900 border border-red-600 rounded-xl p-4 mb-6",children:(0,Dd.jsxs)("div",{className:"flex items-center",children:[(0,Dd.jsx)("div",{className:"w-5 h-5 bg-red-800 rounded-full flex items-center justify-center mr-3",children:(0,Dd.jsx)("svg",{className:"w-3 h-3 text-red-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,Dd.jsx)("span",{className:"text-red-200 text-sm",children:m})]})}),(0,Dd.jsxs)("div",{className:"bg-gray-800 rounded-xl p-4 mb-6 border border-gray-700",children:[(0,Dd.jsx)("h3",{className:"font-semibold text-white mb-4",children:"Convert Currency"}),(0,Dd.jsxs)("div",{className:"mb-4",children:[(0,Dd.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Amount"}),(0,Dd.jsxs)("div",{className:"relative",children:[(0,Dd.jsx)("input",{type:"text",value:s,onChange:e=>(e=>{const t=e.replace(/[^0-9.]/g,"");l(t)})(e.target.value),className:"w-full px-4 py-3 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-lg font-medium bg-gray-700 text-white placeholder-gray-400",placeholder:"Enter amount"}),(0,Dd.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 font-medium",children:(null===b||void 0===b?void 0:b.symbol)||n})]})]}),(0,Dd.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,Dd.jsxs)("div",{children:[(0,Dd.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"From"}),(0,Dd.jsx)("select",{value:n,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-gray-700 text-white",children:y.map(e=>(0,Dd.jsxs)("option",{value:e.code,children:[e.code," - ",e.name]},e.code))})]}),(0,Dd.jsx)("div",{className:"flex items-end",children:(0,Dd.jsx)("button",{onClick:()=>{i(a),o(n)},className:"w-full py-2 px-3 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors text-sm font-medium",children:"Swap"})}),(0,Dd.jsxs)("div",{className:"col-span-2",children:[(0,Dd.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"To"}),(0,Dd.jsx)("select",{value:a,onChange:e=>o(e.target.value),className:"w-full px-3 py-2 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-gray-700 text-white",children:y.map(e=>(0,Dd.jsxs)("option",{value:e.code,children:[e.code," - ",e.name]},e.code))})]})]}),(0,Dd.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4 text-center border border-gray-600",children:[(0,Dd.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:"Converted Amount"}),(0,Dd.jsxs)("div",{className:"text-2xl font-bold text-white",children:[v," ",(null===x||void 0===x?void 0:x.symbol)||a]}),(0,Dd.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:[s," ",(null===b||void 0===b?void 0:b.name)||n," = ",v," ",(null===x||void 0===x?void 0:x.name)||a]})]})]}),(0,Dd.jsxs)("div",{className:"bg-gray-800 rounded-xl p-4 mb-6 border border-gray-700",children:[(0,Dd.jsx)("h3",{className:"font-semibold text-white mb-4",children:"Popular Conversions"}),(0,Dd.jsx)("div",{className:"grid grid-cols-2 gap-3",children:[{from:"AUD",to:"INR",label:"AUD \u2192 INR"},{from:"AUD",to:"CNY",label:"AUD \u2192 CNY"},{from:"AUD",to:"USD",label:"AUD \u2192 USD"},{from:"AUD",to:"EUR",label:"AUD \u2192 EUR"},{from:"USD",to:"INR",label:"USD \u2192 INR"},{from:"EUR",to:"INR",label:"EUR \u2192 INR"}].map((e,t)=>(0,Dd.jsx)("button",{onClick:()=>(e=>{i(e.from),o(e.to)})(e),className:"p-3 rounded-lg border transition-colors text-sm font-medium ".concat(n===e.from&&a===e.to?"bg-blue-600 border-blue-500 text-white":"bg-gray-700 border-gray-600 text-gray-300 hover:bg-gray-600 hover:text-white"),children:e.label},t))})]}),(0,Dd.jsxs)("div",{className:"bg-blue-900 rounded-xl p-4 border border-blue-600",children:[(0,Dd.jsx)("h3",{className:"font-semibold text-blue-200 mb-3",children:"\ud83d\udca1 Exchange Rate Info"}),(0,Dd.jsxs)("div",{className:"space-y-2 text-sm text-blue-300",children:[(0,Dd.jsx)("p",{children:"\u2022 Rates are updated hourly from reliable sources"}),(0,Dd.jsx)("p",{children:"\u2022 This is a free service with no hidden fees"}),(0,Dd.jsx)("p",{children:"\u2022 Rates may vary slightly between different providers"}),(0,Dd.jsx)("p",{children:"\u2022 For large amounts, consider checking with your bank"})]})]})]})})]})},AR=e=>{let{onBack:t,onSave:n,isBankConnected:i=!1,onConnectBank:a}=e;const[o,s]=(0,r.useState)({name:"",targetAmount:"",endDate:"",frequency:"monthly",allocatedAmount:"",enableNotifications:!0}),l=e=>{const{name:t,value:n,type:r,checked:i}=e.target;s(e=>u(u({},e),{},{[t]:"checkbox"===r?i:n}))};return i?(0,Dd.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,Dd.jsxs)("div",{className:"px-6 py-6",children:[(0,Dd.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,Dd.jsxs)("button",{onClick:t,className:"text-gray-700 font-medium flex items-center",children:[(0,Dd.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),"Back to Stats"]})}),(0,Dd.jsxs)("div",{className:"mb-6",children:[(0,Dd.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Set Budget Goal"}),(0,Dd.jsx)("p",{className:"text-gray-600",children:"Create a new savings target to track your progress"})]}),(0,Dd.jsx)("div",{className:"bg-green-50 rounded-xl p-4 mb-6 border border-green-200",children:(0,Dd.jsxs)("div",{className:"flex items-center",children:[(0,Dd.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-3",children:(0,Dd.jsx)("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),(0,Dd.jsxs)("div",{children:[(0,Dd.jsx)("p",{className:"text-sm font-medium text-green-900",children:"Bank Connected"}),(0,Dd.jsx)("p",{className:"text-xs text-green-700",children:"Real-time tracking enabled"})]})]})}),(0,Dd.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-6",children:(0,Dd.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i&&o.name&&o.targetAmount&&o.endDate&&o.allocatedAmount&&(n(u(u({id:Date.now()},o),{},{createdAt:(new Date).toISOString(),progress:0,savedAmount:0})),s({name:"",targetAmount:"",endDate:"",frequency:"monthly",allocatedAmount:"",enableNotifications:!0}),t())},className:"space-y-6",children:[(0,Dd.jsxs)("div",{children:[(0,Dd.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Goal Name"}),(0,Dd.jsx)("input",{type:"text",name:"name",value:o.name,onChange:l,placeholder:"e.g., Vacation Fund, New Car, Emergency Fund",className:"w-full px-4 py-3 text-sm border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",required:!0})]}),(0,Dd.jsxs)("div",{children:[(0,Dd.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Amount"}),(0,Dd.jsxs)("div",{className:"relative",children:[(0,Dd.jsx)("span",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),(0,Dd.jsx)("input",{type:"number",name:"targetAmount",value:o.targetAmount,onChange:l,placeholder:"0.00",min:"0",step:"0.01",className:"w-full pl-10 pr-4 py-3 text-sm border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",required:!0})]})]}),(0,Dd.jsxs)("div",{children:[(0,Dd.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Date"}),(0,Dd.jsx)("input",{type:"date",name:"endDate",value:o.endDate,onChange:l,min:(new Date).toISOString().split("T")[0],className:"w-full px-4 py-3 text-sm border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",required:!0})]}),(0,Dd.jsxs)("div",{children:[(0,Dd.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Save Frequency"}),(0,Dd.jsxs)("select",{name:"frequency",value:o.frequency,onChange:l,className:"w-full px-4 py-3 text-sm border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",children:[(0,Dd.jsx)("option",{value:"weekly",children:"Weekly"}),(0,Dd.jsx)("option",{value:"monthly",children:"Monthly"}),(0,Dd.jsx)("option",{value:"yearly",children:"Yearly"})]})]}),(0,Dd.jsxs)("div",{children:[(0,Dd.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Amount per ",o.frequency.slice(0,-2)]}),(0,Dd.jsxs)("div",{className:"relative",children:[(0,Dd.jsx)("span",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),(0,Dd.jsx)("input",{type:"number",name:"allocatedAmount",value:o.allocatedAmount,onChange:l,placeholder:"0.00",min:"0",step:"0.01",className:"w-full pl-10 pr-4 py-3 text-sm border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",required:!0})]})]}),(0,Dd.jsx)("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200",children:(0,Dd.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Dd.jsx)("div",{className:"flex items-center h-5",children:(0,Dd.jsx)("input",{id:"enableNotifications",name:"enableNotifications",type:"checkbox",checked:o.enableNotifications,onChange:l,className:"w-4 h-4 text-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 focus:ring-2"})}),(0,Dd.jsxs)("div",{className:"flex-1",children:[(0,Dd.jsx)("label",{htmlFor:"enableNotifications",className:"text-sm font-medium text-gray-900 cursor-pointer",children:"Notify me when I'm behind on savings"}),(0,Dd.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:["Get alerts when your balance doesn't match your ",(e=>{switch(e){case"weekly":return"weekly";case"monthly":default:return"monthly";case"yearly":return"yearly"}})(o.frequency)," savings target of $",o.allocatedAmount||"0.00",". This helps you stay on track and reminds you to save or earn more."]})]})]})}),(0,Dd.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,Dd.jsx)("button",{type:"button",onClick:t,className:"flex-1 px-6 py-3 text-sm text-gray-700 bg-gray-100 rounded-xl hover:bg-gray-200 transition-colors font-medium",children:"Cancel"}),(0,Dd.jsx)("button",{type:"submit",className:"flex-1 px-6 py-3 text-sm bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium shadow-sm",children:"Create Goal"})]})]})})]})}):(0,Dd.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,Dd.jsxs)("div",{className:"px-6 py-6",children:[(0,Dd.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,Dd.jsxs)("button",{onClick:t,className:"text-gray-700 font-medium flex items-center",children:[(0,Dd.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),"Back to Stats"]})}),(0,Dd.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-8 text-center",children:[(0,Dd.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Dd.jsx)("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),(0,Dd.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Bank Connection Required"}),(0,Dd.jsx)("p",{className:"text-gray-600 mb-6",children:"To create real-time budget goals, you need to connect your bank account first. This allows us to track your actual balance and savings progress automatically."}),(0,Dd.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4 mb-6 border border-blue-200",children:[(0,Dd.jsx)("h3",{className:"font-semibold text-blue-900 mb-2",children:"Why connect your bank?"}),(0,Dd.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1 text-left",children:[(0,Dd.jsx)("li",{children:"\u2022 Real-time balance tracking"}),(0,Dd.jsx)("li",{children:"\u2022 Automatic savings progress updates"}),(0,Dd.jsx)("li",{children:"\u2022 Smart notifications when you're behind"}),(0,Dd.jsx)("li",{children:"\u2022 Accurate financial insights"})]})]}),(0,Dd.jsxs)("div",{className:"flex gap-3",children:[(0,Dd.jsx)("button",{onClick:t,className:"flex-1 px-6 py-3 text-sm text-gray-700 bg-gray-100 rounded-xl hover:bg-gray-200 transition-colors font-medium",children:"Go Back"}),(0,Dd.jsx)("button",{onClick:a,className:"flex-1 px-6 py-3 text-sm bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium shadow-sm",children:"Connect Bank"})]})]})]})})},OR=e=>{let{goal:t,onBack:n,onAddSavings:i,onWithdraw:a,onEditGoal:o}=e;const[s,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(""),f=()=>{const e=new Date,n=new Date(t.endDate)-e,r=Math.ceil(n/864e5);return r>0?r:0},p=e=>{let{progress:t,size:n=200,strokeWidth:r=8,color:i="#752ff0"}=e;const a=(n-r)/2,o=2*a*Math.PI,s=o,l=o-t/100*o;return(0,Dd.jsxs)("div",{className:"relative",style:{width:n,height:n},children:[(0,Dd.jsxs)("svg",{className:"transform -rotate-90",width:n,height:n,children:[(0,Dd.jsx)("circle",{cx:n/2,cy:n/2,r:a,stroke:"#ebebeb",strokeWidth:r,fill:"transparent"}),(0,Dd.jsx)("circle",{cx:n/2,cy:n/2,r:a,stroke:i,strokeWidth:r,fill:"transparent",strokeDasharray:s,strokeDashoffset:l,strokeLinecap:"round",className:"transition-all duration-1000 ease-in-out"})]}),(0,Dd.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,Dd.jsxs)("div",{className:"text-center",children:[(0,Dd.jsxs)("div",{className:"text-3xl font-bold text-gray-900",children:[Math.round(t),"%"]}),(0,Dd.jsx)("div",{className:"text-sm text-gray-500",children:"Complete"})]})})]})},m=()=>{const e=f();if(0===e)return 0;return(t.targetAmount-t.savedAmount)/e};return(0,Dd.jsxs)("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:[(0,Dd.jsxs)("div",{className:"px-6 py-6",children:[(0,Dd.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Dd.jsxs)("button",{onClick:n,className:"text-gray-700 font-medium flex items-center",children:[(0,Dd.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),"Back to Goals"]}),(0,Dd.jsxs)("button",{onClick:o,className:"text-gray-700 font-medium flex items-center",children:[(0,Dd.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]})]}),(0,Dd.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-6 mb-6",children:[(0,Dd.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,Dd.jsx)("div",{className:"w-16 h-16 rounded-xl flex items-center justify-center text-2xl ".concat((e=>{const t=e.toLowerCase();return t.includes("vacation")||t.includes("travel")?"bg-blue-100 text-blue-600":t.includes("car")||t.includes("vehicle")?"bg-green-100 text-green-600":t.includes("house")||t.includes("home")?"bg-purple-100 text-purple-600":t.includes("phone")||t.includes("mobile")?"bg-pink-100 text-pink-600":t.includes("laptop")||t.includes("computer")?"bg-indigo-100 text-indigo-600":t.includes("emergency")||t.includes("savings")?"bg-orange-100 text-orange-600":"bg-gray-100 text-gray-600"})(t.name)),children:(e=>{const t=e.toLowerCase();return t.includes("vacation")||t.includes("travel")?"\u2708\ufe0f":t.includes("car")||t.includes("vehicle")?"\ud83d\ude97":t.includes("house")||t.includes("home")?"\ud83c\udfe0":t.includes("phone")||t.includes("mobile")?"\ud83d\udcf1":t.includes("laptop")||t.includes("computer")?"\ud83d\udcbb":t.includes("emergency")||t.includes("savings")?"\ud83d\udee1\ufe0f":"\ud83d\udcb0"})(t.name)}),(0,Dd.jsxs)("div",{children:[(0,Dd.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:t.name}),(0,Dd.jsxs)("p",{className:"text-gray-600",children:["Deadline: ",(g=t.endDate,new Date(g).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"}))]})]})]}),(0,Dd.jsx)("div",{className:"flex justify-center mb-6",children:(0,Dd.jsx)(p,{progress:Math.min(t.savedAmount/t.targetAmount*100,100),size:200,strokeWidth:8,color:"#752ff0"})}),(0,Dd.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,Dd.jsxs)("div",{children:[(0,Dd.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:["$",t.savedAmount.toLocaleString()]}),(0,Dd.jsx)("div",{className:"text-sm text-gray-500",children:"Saved"})]}),(0,Dd.jsxs)("div",{children:[(0,Dd.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:["$",(t.targetAmount-t.savedAmount).toLocaleString()]}),(0,Dd.jsx)("div",{className:"text-sm text-gray-500",children:"Remaining"})]}),(0,Dd.jsxs)("div",{children:[(0,Dd.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:["$",t.targetAmount.toLocaleString()]}),(0,Dd.jsx)("div",{className:"text-sm text-gray-500",children:"Goal"})]})]})]}),(0,Dd.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-6 mb-6",children:[(0,Dd.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Savings Breakdown"}),(0,Dd.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,Dd.jsxs)("div",{children:[(0,Dd.jsxs)("div",{className:"text-xl font-bold text-gray-900",children:["$",m().toFixed(2)]}),(0,Dd.jsx)("div",{className:"text-sm text-gray-500",children:"Daily Savings"})]}),(0,Dd.jsxs)("div",{children:[(0,Dd.jsxs)("div",{className:"text-xl font-bold text-gray-900",children:["$",(7*m()).toFixed(2)]}),(0,Dd.jsx)("div",{className:"text-sm text-gray-500",children:"Weekly Savings"})]}),(0,Dd.jsxs)("div",{children:[(0,Dd.jsxs)("div",{className:"text-xl font-bold text-gray-900",children:["$",(30*m()).toFixed(2)]}),(0,Dd.jsx)("div",{className:"text-sm text-gray-500",children:"Monthly Savings"})]})]})]}),(0,Dd.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-6 mb-6",children:[(0,Dd.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Goal Details"}),(0,Dd.jsxs)("div",{className:"space-y-3",children:[(0,Dd.jsxs)("div",{className:"flex justify-between",children:[(0,Dd.jsx)("span",{className:"text-gray-600",children:"Frequency:"}),(0,Dd.jsx)("span",{className:"font-medium",children:t.frequency})]}),(0,Dd.jsxs)("div",{className:"flex justify-between",children:[(0,Dd.jsxs)("span",{className:"text-gray-600",children:["Amount per ",t.frequency.slice(0,-2),":"]}),(0,Dd.jsxs)("span",{className:"font-medium",children:["$",parseFloat(t.allocatedAmount).toFixed(2)]})]}),(0,Dd.jsxs)("div",{className:"flex justify-between",children:[(0,Dd.jsx)("span",{className:"text-gray-600",children:"Days Remaining:"}),(0,Dd.jsxs)("span",{className:"font-medium",children:[f()," days"]})]}),t.note&&(0,Dd.jsxs)("div",{className:"pt-3 border-t border-gray-200",children:[(0,Dd.jsx)("span",{className:"text-gray-600",children:"Note:"}),(0,Dd.jsx)("p",{className:"text-gray-900 mt-1",children:t.note})]})]})]}),(0,Dd.jsxs)("div",{className:"flex gap-4",children:[(0,Dd.jsx)("button",{onClick:()=>u(!0),className:"flex-1 bg-gray-100 text-gray-700 py-4 px-6 rounded-2xl font-medium hover:bg-gray-200 transition-colors",children:"Withdraw"}),(0,Dd.jsx)("button",{onClick:()=>l(!0),className:"flex-1 bg-purple-600 text-white py-4 px-6 rounded-2xl font-medium hover:bg-purple-700 transition-colors",children:"Add Savings"})]})]}),s&&(0,Dd.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,Dd.jsxs)("div",{className:"bg-white rounded-2xl p-6 w-full max-w-sm",children:[(0,Dd.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add Savings"}),(0,Dd.jsxs)("div",{className:"relative mb-4",children:[(0,Dd.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),(0,Dd.jsx)("input",{type:"number",value:d,onChange:e=>h(e.target.value),placeholder:"0.00",className:"w-full pl-8 pr-3 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),(0,Dd.jsxs)("div",{className:"flex gap-3",children:[(0,Dd.jsx)("button",{onClick:()=>l(!1),className:"flex-1 py-2 text-gray-700 bg-gray-100 rounded-xl hover:bg-gray-200",children:"Cancel"}),(0,Dd.jsx)("button",{onClick:()=>{d&&parseFloat(d)>0&&(i(parseFloat(d)),h(""),l(!1))},className:"flex-1 py-2 bg-purple-600 text-white rounded-xl hover:bg-purple-700",children:"Add"})]})]})}),c&&(0,Dd.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,Dd.jsxs)("div",{className:"bg-white rounded-2xl p-6 w-full max-w-sm",children:[(0,Dd.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Withdraw Savings"}),(0,Dd.jsxs)("div",{className:"relative mb-4",children:[(0,Dd.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),(0,Dd.jsx)("input",{type:"number",value:d,onChange:e=>h(e.target.value),placeholder:"0.00",max:t.savedAmount,className:"w-full pl-8 pr-3 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),(0,Dd.jsxs)("p",{className:"text-sm text-gray-500 mb-4",children:["Available: $",t.savedAmount.toFixed(2)]}),(0,Dd.jsxs)("div",{className:"flex gap-3",children:[(0,Dd.jsx)("button",{onClick:()=>u(!1),className:"flex-1 py-2 text-gray-700 bg-gray-100 rounded-xl hover:bg-gray-200",children:"Cancel"}),(0,Dd.jsx)("button",{onClick:()=>{d&&parseFloat(d)>0&&parseFloat(d)<=t.savedAmount&&(a(parseFloat(d)),h(""),u(!1))},className:"flex-1 py-2 bg-purple-600 text-white rounded-xl hover:bg-purple-700",children:"Withdraw"})]})]})})]});var g},TR=e=>{let{budgetGoals:t,onUpdateGoal:n,onGoalClick:r}=e;const i=e=>{const t=e.toLowerCase();return t.includes("vacation")||t.includes("travel")?"\u2708\ufe0f":t.includes("car")||t.includes("vehicle")?"\ud83d\ude97":t.includes("house")||t.includes("home")?"\ud83c\udfe0":t.includes("phone")||t.includes("mobile")?"\ud83d\udcf1":t.includes("laptop")||t.includes("computer")?"\ud83d\udcbb":t.includes("emergency")||t.includes("savings")?"\ud83d\udee1\ufe0f":"\ud83d\udcb0"},a=e=>{let{progress:t,size:n=60,strokeWidth:r=4,color:i="#3B82F6"}=e;const a=(n-r)/2,o=2*a*Math.PI,s=o,l=o-t/100*o;return(0,Dd.jsxs)("div",{className:"relative",style:{width:n,height:n},children:[(0,Dd.jsxs)("svg",{className:"transform -rotate-90",width:n,height:n,children:[(0,Dd.jsx)("circle",{cx:n/2,cy:n/2,r:a,stroke:"#E5E7EB",strokeWidth:r,fill:"transparent"}),(0,Dd.jsx)("circle",{cx:n/2,cy:n/2,r:a,stroke:i,strokeWidth:r,fill:"transparent",strokeDasharray:s,strokeDashoffset:l,strokeLinecap:"round",className:"transition-all duration-500 ease-in-out"})]}),(0,Dd.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,Dd.jsxs)("span",{className:"text-sm font-bold text-gray-900",children:[Math.round(t),"%"]})})]})};return t&&0!==t.length?(0,Dd.jsxs)("div",{className:"bg-white rounded-xl p-4 mb-6 border border-gray-200",children:[(0,Dd.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Dd.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Budget Goals"}),(0,Dd.jsxs)("span",{className:"text-sm text-gray-500",children:[t.length," active"]})]}),(0,Dd.jsx)("div",{className:"space-y-3",children:t.map(e=>{const t=(e=>Math.min(e.savedAmount/e.targetAmount*100,100))(e),n=(e=>{const t=new Date,n=new Date(e)-t,r=Math.ceil(n/864e5);return r>0?r:0})(e.endDate),o=0===n,s=(e=>{const t=e.toLowerCase();return t.includes("vacation")||t.includes("travel")?"bg-blue-100 text-blue-600":t.includes("car")||t.includes("vehicle")?"bg-green-100 text-green-600":t.includes("house")||t.includes("home")?"bg-purple-100 text-purple-600":t.includes("phone")||t.includes("mobile")?"bg-pink-100 text-pink-600":t.includes("laptop")||t.includes("computer")?"bg-indigo-100 text-indigo-600":t.includes("emergency")||t.includes("savings")?"bg-orange-100 text-orange-600":"bg-gray-100 text-gray-600"})(e.name);return(0,Dd.jsxs)("div",{className:"rounded-xl p-4 border transition-colors cursor-pointer ".concat(o?"bg-red-50 border-red-200":"bg-gray-50 border-gray-200 hover:bg-gray-100"),onClick:()=>r&&r(e),children:[(0,Dd.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Dd.jsxs)("div",{className:"flex items-center space-x-3 flex-1",children:[(0,Dd.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-lg ".concat(s),children:i(e.name)}),(0,Dd.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Dd.jsx)("h4",{className:"font-semibold text-gray-900 text-sm truncate mb-1",children:e.name}),(0,Dd.jsxs)("div",{className:"text-xs text-gray-500",children:["$",e.savedAmount.toFixed(2)," / $",parseFloat(e.targetAmount).toFixed(2)]})]})]}),(0,Dd.jsx)("div",{className:"ml-4",children:(0,Dd.jsx)(a,{progress:t,size:60,strokeWidth:4,color:o?"#EF4444":"#3B82F6"})})]}),(0,Dd.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[(0,Dd.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,Dd.jsxs)("span",{children:[e.frequency," \u2022 $",parseFloat(e.allocatedAmount).toFixed(2)," per ",e.frequency.slice(0,-2)]}),(0,Dd.jsx)("span",{className:o?"text-red-500":"",children:o?"Overdue":"".concat(n," days left")})]}),(0,Dd.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:["Target: ",(l=e.endDate,new Date(l).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}))]})]})]},e.id);var l})})]}):(0,Dd.jsxs)("div",{className:"bg-white rounded-xl p-4 mb-6 border border-gray-200",children:[(0,Dd.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,Dd.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Budget Goals"})}),(0,Dd.jsxs)("div",{className:"text-center py-8",children:[(0,Dd.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,Dd.jsx)("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,Dd.jsx)("h4",{className:"text-base font-medium text-gray-900 mb-2",children:"No budget goals yet"}),(0,Dd.jsx)("p",{className:"text-gray-500 text-sm",children:"Create your first budget goal to start saving for something special."})]})]})},PR=e=>{var t;let{currentView:n,setCurrentView:i,setShowAddTransaction:a,transactions:o=[],categories:s=[],metrics:l={},budgetHook:c,userName:d,userPhotoURL:h,onSignOut:f,onSignIn:p,authLoading:m,authError:g,isAuthenticated:y,user:v}=e;const[b,x]=(0,r.useState)(!1),[w,k]=(0,r.useState)("month"),[S,j]=(0,r.useState)("all"),[N,E]=(0,r.useState)("overview"),[_,C]=(0,r.useState)(!1),[A,O]=(0,r.useState)(!1),[T,P]=(0,r.useState)(null),[I,M]=(0,r.useState)(null),[D,L]=(0,r.useState)(!1),[R,U]=(0,r.useState)(!1),[F,B]=(0,r.useState)(!1),[z,V]=(0,r.useState)(null),[W,H]=(0,r.useState)([]),{accounts:q,loading:K}=(()=>{const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(!1),[a,o]=(0,r.useState)(null),[s,l]=(0,r.useState)(null),[c,d]=(0,r.useState)(null),h=(0,r.useCallback)(async()=>{try{i(!0),o(null);const e=await kd.accounts.getAll();return t(e.accounts||[]),e.accounts}catch(a){throw o(a.message),a}finally{i(!1)}},[]),f=(0,r.useCallback)(async()=>{try{o(null);const e=await kd.accounts.getSyncStatus();return l(e),e}catch(a){throw o(a.message),a}},[]),p=(0,r.useCallback)(async()=>{try{o(null);const e=await kd.accounts.getBalanceSummary();return d(e),e}catch(a){throw o(a.message),a}},[]),m=(0,r.useCallback)(async()=>{try{i(!0),o(null);const e=await kd.accounts.syncAll();return await Promise.all([h(),f(),p()]),e}catch(a){throw o(a.message),a}finally{i(!1)}},[h,f,p]),g=(0,r.useCallback)(async e=>{try{i(!0),o(null);const t=await kd.accounts.syncById(e);return await Promise.all([h(),f(),p()]),t}catch(a){throw o(a.message),a}finally{i(!1)}},[h,f,p]),y=(0,r.useCallback)(async e=>{try{o(null);const n=await kd.accounts.disconnect(e);return t(t=>t.filter(t=>t.id!==e)),await Promise.all([f(),p()]),n}catch(a){throw o(a.message),a}},[f,p]),v=(0,r.useCallback)(t=>e.find(e=>e.id===t),[e]),b=(0,r.useCallback)(e=>{t(t=>[e,...t])},[]),x=(0,r.useCallback)((e,n)=>{t(t=>t.map(t=>t.id===e?u(u({},t),n):t))},[]),w=(0,r.useCallback)(async()=>{try{console.log("Loading initial account data..."),await Promise.all([h(),f(),p()]),console.log("Initial account data loaded successfully")}catch(a){console.error("Failed to load initial account data:",a)}},[h,f,p]);return(0,r.useEffect)(()=>{console.log("useBackendAccounts: Auto-loading data..."),w()},[w]),{accounts:e,loading:n,error:a,syncStatus:s,balanceSummary:c,fetchAccounts:h,fetchSyncStatus:f,fetchBalanceSummary:p,syncAllAccounts:m,syncAccount:g,disconnectAccount:y,getAccountById:v,addAccount:b,updateAccount:x,totalAccounts:e.length,activeAccounts:e.filter(e=>e.isActive),totalBalance:(null===c||void 0===c?void 0:c.totalBalance)||0}})(),G=q&&q.length>0,Y=G&&o&&o.length>0,{balance:$=0,income:Q=0,expenses:X=0}=l||{},J=((e,t)=>{const n=[...new Set(e.map(e=>e.category))],r=Math.abs(e.filter(e=>e.amount<0).reduce((e,t)=>e+t.amount,0));return n.map(n=>{const i=e.filter(e=>e.category===n&&e.amount<0),a=Math.abs(i.reduce((e,t)=>e+t.amount,0)),o=r>0?a/r*100:0,s=Gd(t,n);return{id:n,name:s.name,icon:s.icon,color:s.color,type:s.type,total:a,percentage:o.toFixed(1),transactionCount:i.length}}).filter(e=>e.total>0).sort((e,t)=>t.total-e.total)})(o||[],s||[]),Z=G?J:[],ee=G?(o||[]).length:0,te=G&&ee>0?Math.abs((o||[]).reduce((e,t)=>e+Math.abs(t.amount),0)/ee):0,ne=G&&Q>0?(Q-Math.abs(X))/Q*100:0,re=G?Math.min(100,Math.max(0,.4*ne+($>0?30:0)+(ee>5?20:4*ee)+(te<100?10:0))):0,ie=Z.length>0?Z.map(e=>({name:e.name,value:Math.abs(e.total),color:oe(e.id)})).filter(e=>e.value>0):[],ae=(()=>{if(!G||!Y)return[];const e={Mon:{income:0,expenses:0},Tue:{income:0,expenses:0},Wed:{income:0,expenses:0},Thu:{income:0,expenses:0},Fri:{income:0,expenses:0},Sat:{income:0,expenses:0},Sun:{income:0,expenses:0}},t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return o.forEach(n=>{const r=new Date(n.date),i=t[r.getDay()];n.amount>0?e[i].income+=n.amount:e[i].expenses+=Math.abs(n.amount)}),Object.entries(e).map(e=>{let[t,n]=e;return{day:t,income:n.income,expenses:n.expenses,net:n.income-n.expenses}})})();function oe(e){const t=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316"];return t[("string"===typeof e?e.charCodeAt(0):e)%t.length]}const se=(e=>{const t=["Food & Dining","Transportation","Utilities","Healthcare","Housing","Insurance"],n=["Shopping","Entertainment","Travel","Dining Out","Hobbies","Gifts"],r=e.filter(e=>t.some(t=>e.name.toLowerCase().includes(t.toLowerCase()))),i=e.filter(e=>n.some(t=>e.name.toLowerCase().includes(t.toLowerCase()))),a=e.filter(e=>!r.includes(e)&&!i.includes(e));return{essential:[...r,...a],discretionary:i}})(Z),le=se.essential.reduce((e,t)=>e+Math.abs(t.total),0),ce=se.discretionary.reduce((e,t)=>e+Math.abs(t.total),0),ue=le+ce,de=e=>e>=80?"text-green-600 bg-green-50":e>=60?"text-yellow-600 bg-yellow-50":"text-red-600 bg-red-50",he=(()=>{if(!G)return[{type:"tip",icon:"\ud83d\udca1",title:"Connect Your Bank Account",message:"Connect your bank account to get personalized financial insights and recommendations."},{type:"info",icon:"\ud83d\udcca",title:"Real-Time Analysis",message:"Get detailed spending analysis, trends, and smart recommendations based on your actual transactions."},{type:"positive",icon:"\ud83d\udcb0",title:"Smart Financial Management",message:"Track your spending, set budgets, and achieve your financial goals with real-time data."}];const e=[];if(ne>20?e.push({type:"positive",icon:"\ud83d\udcb0",title:"Excellent Savings Rate",message:"You're saving ".concat(ne.toFixed(1),"% of your income! This is above the recommended 20% target.")}):ne>10?e.push({type:"info",icon:"\ud83d\udcc8",title:"Good Savings Progress",message:"You're saving ".concat(ne.toFixed(1),"% of your income. Consider increasing to 20% for better financial security.")}):e.push({type:"tip",icon:"\ud83d\udca1",title:"Improve Savings",message:"Your savings rate is ".concat(ne.toFixed(1),"%. Try to save at least 20% of your income for better financial health.")}),Z.length>0){const t=Z[0];t.percentage>40?e.push({type:"tip",icon:"\ud83c\udfaf",title:"High Category Concentration",message:"".concat(t.name," accounts for ").concat(t.percentage,"% of your spending. Consider diversifying your expenses.")}):e.push({type:"positive",icon:"\ud83d\udcca",title:"Well-Distributed Spending",message:"".concat(t.name," is your top category at ").concat(t.percentage,"%. Your spending is well-balanced across categories.")})}if(ee>0){const t=te;t>200?e.push({type:"tip",icon:"\ud83d\udcb3",title:"High Transaction Values",message:"Your average transaction is $".concat(t.toFixed(2),". Consider reviewing large purchases for potential savings.")}):t<50&&e.push({type:"positive",icon:"\u2705",title:"Good Transaction Management",message:"Your average transaction is $".concat(t.toFixed(2),". You're managing your spending well with smaller, controlled purchases.")})}if(ue>0){const t=ce/ue*100;t>50?e.push({type:"tip",icon:"\ud83c\udfaf",title:"High Discretionary Spending",message:"".concat(t.toFixed(1),"% of your spending is discretionary. Consider reducing non-essential expenses.")}):e.push({type:"positive",icon:"\u2705",title:"Balanced Spending",message:"".concat(t.toFixed(1),"% of your spending is discretionary. You're maintaining a good balance between essential and non-essential expenses.")})}return e.length<3&&e.push({type:"tip",icon:"\ud83d\udca1",title:"Smart Tip",message:"Connect your bank account to get real-time insights and automatic transaction categorization."}),e.slice(0,3)})(),fe=Boolean(c),pe=(fe&&c.getGoals&&c.getGoals(),fe&&c.budgetPeriod&&c.budgetPeriod,fe&&c.setBudgetPeriod&&c.setBudgetPeriod,fe&&c.getBudgetStatus?c.getBudgetStatus():[]);fe&&c.getBudgetAlerts&&c.getBudgetAlerts(),fe&&c.getBudgetSummary&&c.getBudgetSummary(),fe&&c.budgets&&c.budgets.filter(e=>{if("all"===S)return!0;const t=pe.find(t=>t.id===e.id);return!!t&&("over_budget"===S?t.progress.isOverBudget:"near_limit"===S?t.progress.progress>=80&&!t.progress.isOverBudget:"under_budget"!==S||t.progress.progress<80&&!t.progress.isOverBudget)});(0,r.useEffect)(()=>{if(fe&&null!==c&&void 0!==c&&c.allocateAutoSavingsForCurrentPeriod)try{c.allocateAutoSavingsForCurrentPeriod()}catch(e){console.error("Error allocating auto savings:",e)}},[fe]);return(0,Dd.jsx)("div",{className:"bg-gray-100 min-h-screen flex flex-col",children:(0,Dd.jsxs)("div",{className:"max-w-sm mx-auto bg-white rounded-3xl shadow-2xl overflow-hidden flex flex-col h-screen max-h-screen",children:[!A&&!_&&!D&&(0,Dd.jsx)("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:(0,Dd.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Dd.jsx)("div",{className:"flex items-center"}),(0,Dd.jsx)("div",{className:"flex items-center space-x-3",children:(0,Dd.jsxs)("div",{className:"relative",children:[(0,Dd.jsx)("button",{onClick:()=>{y?x(!b):p&&p()},disabled:m,className:"flex items-center justify-center w-8 h-8 rounded-full bg-black hover:bg-gray-800 transition-colors disabled:opacity-50",children:m?(0,Dd.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):null!==v&&void 0!==v&&v.photoURL?(0,Dd.jsx)("img",{src:v.photoURL,alt:"Profile",className:"h-8 w-8 rounded-full object-cover"}):(0,Dd.jsx)("span",{className:"text-sm font-medium text-white",children:null!==v&&void 0!==v&&v.displayName?v.displayName.charAt(0).toUpperCase():(null===v||void 0===v||null===(t=v.email)||void 0===t?void 0:t.charAt(0).toUpperCase())||"U"})}),y&&(0,Dd.jsx)(Hd,{user:v,onSignOut:f,isOpen:b,onClose:()=>x(!1)})]})})]})}),(0,Dd.jsx)("div",{className:"flex-1 overflow-y-auto",children:A&&I?(0,Dd.jsx)(_R,{onBack:()=>O(!1),goal:{name:I.name,amount:I.amount,saved:I.saved||0,deadline:I.deadline||"2024-12-26",note:I.note||"Goal description",color:["#615df7","#ff5130","#90bd5a","#1c95eb","#f99823","#952ea4"][(I.id||0)%6]},onAddSavings:e=>(null===c||void 0===c?void 0:c.addSavingsToGoal)&&c.addSavingsToGoal(I.id,e),onWithdraw:e=>{console.log("Withdrawing:",e)},onEditGoal:()=>{console.log("Edit savings goal clicked")}}):_&&T?(0,Dd.jsx)(ER,{onBack:()=>C(!1),goalTitle:T.name,goalSubtitle:"Target $".concat(T.amount.toLocaleString()),savedAmount:T.saved||0,targetAmount:T.amount,onAddSavings:e=>(null===c||void 0===c?void 0:c.addSavingsToGoal)&&c.addSavingsToGoal(T.id,e),onEditGoal:()=>{console.log("Edit savings goal clicked")}}):D?(0,Dd.jsx)(CR,{onBack:()=>L(!1)}):R?(0,Dd.jsx)(AR,{onBack:()=>U(!1),onSave:e=>{fe&&c.addGoal&&c.addGoal(e),U(!1)},isBankConnected:G,onConnectBank:()=>{U(!1),console.log("Connect bank clicked")}}):F&&z?(0,Dd.jsx)(OR,{goal:z,onBack:()=>{B(!1),V(null)},onAddSavings:(e,t)=>{fe&&c.addSavings&&c.addSavings(e,t)},onWithdraw:(e,t)=>{fe&&c.withdraw&&c.withdraw(e,t)},onEditGoal:()=>{B(!1),console.log("Edit goal clicked")}}):(0,Dd.jsxs)("div",{className:"px-6 py-6 relative",children:[(0,Dd.jsx)("div",{className:"flex space-x-2 mb-6",children:[{id:"overview",label:"Overview",icon:xR},{id:"spending",label:"Spending",icon:wR},{id:"trends",label:"Trends",icon:kR}].map(e=>(0,Dd.jsxs)("button",{onClick:()=>E(e.id),className:"flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat(N===e.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:[(0,Dd.jsx)(e.icon,{className:"w-4 h-4 mr-2"}),e.label]},e.id))}),!G&&(0,Dd.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-4 mb-6",children:(0,Dd.jsxs)("div",{className:"text-center",children:[(0,Dd.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Dd.jsx)("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),(0,Dd.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Connect Your Bank Account"}),(0,Dd.jsx)("p",{className:"text-gray-600 mb-4",children:"Get personalized financial insights, real-time spending analysis, and smart recommendations based on your actual transactions."}),(0,Dd.jsxs)("div",{className:"space-y-3",children:[(0,Dd.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-600",children:[(0,Dd.jsx)("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),(0,Dd.jsx)("span",{children:"Real-time transaction analysis"})]}),(0,Dd.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-600",children:[(0,Dd.jsx)("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),(0,Dd.jsx)("span",{children:"Personalized spending insights"})]}),(0,Dd.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-600",children:[(0,Dd.jsx)("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),(0,Dd.jsx)("span",{children:"Smart financial recommendations"})]})]}),(0,Dd.jsx)("button",{onClick:()=>{console.log("Connect bank clicked from stats overview")},className:"mt-6 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl font-medium transition-colors shadow-lg",children:"Connect Bank Account"})]})}),"overview"===N&&(0,Dd.jsxs)(Dd.Fragment,{children:[(0,Dd.jsxs)("div",{className:"rounded-xl p-4 mb-6 ".concat(de(re).split(" ")[1]),children:[(0,Dd.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Dd.jsx)("h3",{className:"font-semibold text-gray-900",children:"Financial Health"}),(0,Dd.jsx)("span",{className:"text-2xl",children:(me=re,me>=80?"\ud83d\ude0a":me>=60?"\ud83d\ude10":"\ud83d\ude1f")})]}),(0,Dd.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Dd.jsx)("div",{className:"flex-1",children:(0,Dd.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Dd.jsx)("div",{className:"h-2 rounded-full transition-all duration-500 ".concat(re>=80?"bg-green-500":re>=60?"bg-yellow-500":"bg-red-500"),style:{width:"".concat(re,"%")}})})}),(0,Dd.jsx)("span",{className:"font-bold text-lg ".concat(de(re).split(" ")[0]),children:Math.round(re)})]}),(0,Dd.jsx)("p",{className:"text-gray-600 text-sm mt-2",children:G?re>=80?"Excellent! Keep up the great work!":re>=60?"Good! Room for improvement.":"Needs attention. Consider reviewing your spending habits.":"Connect your bank account to get your personalized financial health score"})]}),(0,Dd.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,Dd.jsxs)("div",{className:"bg-green-50 rounded-xl p-4 text-center",children:[(0,Dd.jsxs)("div",{className:"flex items-center justify-center mb-1",children:[(0,Dd.jsx)(SR,{className:"w-4 h-4 text-green-600 mr-1"}),(0,Dd.jsxs)("h3",{className:"text-green-600 font-bold text-2xl",children:["$",G?Q.toFixed(2):"0.00"]})]}),(0,Dd.jsx)("p",{className:"text-gray-600 text-sm",children:"Total Income"})]}),(0,Dd.jsxs)("div",{className:"bg-red-50 rounded-xl p-4 text-center",children:[(0,Dd.jsxs)("div",{className:"flex items-center justify-center mb-1",children:[(0,Dd.jsx)(jR,{className:"w-4 h-4 text-red-600 mr-1"}),(0,Dd.jsxs)("h3",{className:"text-red-600 font-bold text-2xl",children:["$",G?Math.abs(X).toFixed(2):"0.00"]})]}),(0,Dd.jsx)("p",{className:"text-gray-600 text-sm",children:"Total Expenses"})]})]}),(0,Dd.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4 mb-6 text-center",children:[(0,Dd.jsxs)("h3",{className:"text-blue-600 font-bold text-2xl",children:[G?ne.toFixed(1):"0.0","%"]}),(0,Dd.jsx)("p",{className:"text-gray-600 text-sm",children:"Savings Rate"}),(0,Dd.jsx)("p",{className:"text-gray-500 text-xs mt-1",children:G?ne>20?"Great savings rate!":ne>10?"Good progress!":"Consider increasing savings":"Connect bank account to see your savings rate"})]}),(0,Dd.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,Dd.jsx)("h3",{className:"font-semibold text-gray-900",children:"\ud83d\udca1 Smart Insights"}),he.map((e,t)=>(0,Dd.jsx)("div",{className:"rounded-xl p-4 border ".concat("positive"===e.type?"bg-green-50 border-green-200":"info"===e.type?"bg-blue-50 border-blue-200":"bg-yellow-50 border-yellow-200"),children:(0,Dd.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Dd.jsx)("span",{className:"text-2xl",children:e.icon}),(0,Dd.jsxs)("div",{className:"flex-1",children:[(0,Dd.jsx)("h4",{className:"font-medium text-gray-900",children:e.title}),(0,Dd.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:e.message})]})]})},t))]}),(0,Dd.jsx)(TR,{budgetGoals:W,onUpdateGoal:(e,t)=>{fe&&c.updateGoal&&c.updateGoal(e,t)},onGoalClick:e=>{V(e),B(!0)}}),(0,Dd.jsxs)("div",{className:"space-y-3",children:[(0,Dd.jsx)("h3",{className:"font-semibold text-gray-900",children:"Quick Actions"}),(0,Dd.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Dd.jsx)("button",{onClick:()=>L(!0),className:"bg-green-600 hover:bg-green-700 text-white p-3 rounded-xl text-sm font-medium transition-colors",children:"Convert"}),(0,Dd.jsx)("button",{onClick:()=>U(!0),className:"bg-blue-600 text-white p-3 rounded-xl text-sm font-medium hover:bg-blue-700 transition-colors",children:"Set Budget Goals"}),(0,Dd.jsx)("button",{className:"bg-purple-600 text-white p-3 rounded-xl text-sm font-medium hover:bg-purple-700 transition-colors",children:"Analyze Spending"}),(0,Dd.jsx)("button",{onClick:()=>i("splitwise"),className:"bg-purple-600 text-white p-3 rounded-xl text-sm font-medium hover:bg-purple-700 transition-colors",children:"Split Expenses"})]})]})]}),"spending"===N&&G&&(0,Dd.jsxs)(Dd.Fragment,{children:[(0,Dd.jsxs)("div",{className:"bg-white rounded-xl p-4 mb-6 border border-gray-200",children:[(0,Dd.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Spending by Category"}),ie.length>0?(0,Dd.jsxs)("div",{children:[(0,Dd.jsx)("div",{style:{width:"100%",height:"300px"},children:(0,Dd.jsx)(kh,{width:"100%",height:"100%",children:(0,Dd.jsxs)(SA,{children:[(0,Dd.jsx)(FI,{data:ie,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,innerRadius:20,fill:"#8884d8",dataKey:"value",startAngle:90,endAngle:-270,paddingAngle:2,children:ie.map((e,t)=>(0,Dd.jsx)(_T,{fill:e.color,stroke:"#ffffff",strokeWidth:2},"cell-".concat(t)))}),(0,Dd.jsx)(_M,{formatter:e=>["$".concat(e.toFixed(2)),"Amount"],labelStyle:{color:"#374151"},contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}})]})})}),(0,Dd.jsxs)("div",{className:"mt-4 bg-white rounded-lg p-4 border border-gray-200",children:[(0,Dd.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Category Breakdown"}),(0,Dd.jsx)("div",{className:"space-y-3",children:ie.map((e,t)=>(0,Dd.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Dd.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Dd.jsx)("div",{className:"w-4 h-4 rounded-full flex-shrink-0 shadow-sm",style:{backgroundColor:e.color}}),(0,Dd.jsxs)("div",{children:[(0,Dd.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,Dd.jsxs)("p",{className:"text-xs text-gray-500",children:["$",e.value.toFixed(2)]})]})]}),(0,Dd.jsxs)("span",{className:"text-sm font-semibold text-gray-700",children:[(e.value/ie.reduce((e,t)=>e+t.value,0)*100).toFixed(1),"%"]})]},t))})]})]}):(0,Dd.jsxs)("div",{className:"text-center py-8",children:[(0,Dd.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Dd.jsx)(wR,{className:"w-8 h-8 text-gray-400"})}),(0,Dd.jsx)("p",{className:"text-gray-500",children:"No spending data available"})]})]}),(0,Dd.jsxs)("div",{className:"bg-white rounded-xl p-4 mb-6 border border-gray-200",children:[(0,Dd.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Dd.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-3",children:(0,Dd.jsx)("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Dd.jsx)("h3",{className:"font-semibold text-gray-900",children:"Essential Spending"}),(0,Dd.jsxs)("span",{className:"ml-auto text-sm text-gray-500",children:["$",le.toFixed(2)]})]}),se.essential.length>0?(0,Dd.jsx)("div",{className:"space-y-3",children:se.essential.map((e,t)=>(0,Dd.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[(0,Dd.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Dd.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{backgroundColor:oe(e.id)+"20"},children:(0,Dd.jsx)("span",{className:"text-sm font-medium",style:{color:oe(e.id)},children:(e.name||"?").charAt(0)})}),(0,Dd.jsxs)("div",{children:[(0,Dd.jsx)("h4",{className:"font-medium text-gray-900",children:e.name}),(0,Dd.jsxs)("p",{className:"text-gray-500 text-sm",children:[e.transactionCount," transactions"]})]})]}),(0,Dd.jsxs)("div",{className:"text-right",children:[(0,Dd.jsxs)("p",{className:"font-semibold text-gray-900",children:["$",e.total.toFixed(2)]}),(0,Dd.jsxs)("p",{className:"text-gray-500 text-sm",children:[e.percentage,"%"]})]})]},t))}):(0,Dd.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No essential spending data available"})]}),(0,Dd.jsxs)("div",{className:"bg-white rounded-xl p-4 mb-6 border border-gray-200",children:[(0,Dd.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Dd.jsx)("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center mr-3",children:(0,Dd.jsx)("svg",{className:"w-4 h-4 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Dd.jsx)("h3",{className:"font-semibold text-gray-900",children:"Discretionary Spending"}),(0,Dd.jsxs)("span",{className:"ml-auto text-sm text-gray-500",children:["$",ce.toFixed(2)]})]}),se.discretionary.length>0?(0,Dd.jsx)("div",{className:"space-y-3",children:se.discretionary.map((e,t)=>(0,Dd.jsxs)("div",{className:"flex items-center justify-between p-3 bg-orange-50 rounded-lg",children:[(0,Dd.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Dd.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{backgroundColor:oe(e.id)+"20"},children:(0,Dd.jsx)("span",{className:"text-sm font-medium",style:{color:oe(e.id)},children:(e.name||"?").charAt(0)})}),(0,Dd.jsxs)("div",{children:[(0,Dd.jsx)("h4",{className:"font-medium text-gray-900",children:e.name}),(0,Dd.jsxs)("p",{className:"text-gray-500 text-sm",children:[e.transactionCount," transactions"]})]})]}),(0,Dd.jsxs)("div",{className:"text-right",children:[(0,Dd.jsxs)("p",{className:"font-semibold text-gray-900",children:["$",e.total.toFixed(2)]}),(0,Dd.jsxs)("p",{className:"text-gray-500 text-sm",children:[e.percentage,"%"]})]})]},t))}):(0,Dd.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No discretionary spending data available"})]}),(0,Dd.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200",children:[(0,Dd.jsx)("h3",{className:"font-semibold text-blue-900 mb-3",children:"\ud83d\udca1 Spending Insights"}),(0,Dd.jsxs)("div",{className:"space-y-2 text-sm",children:[le>ce?(0,Dd.jsxs)("p",{className:"text-blue-800",children:["\u2705 Good balance! Your essential spending ($",le.toFixed(2),") is higher than discretionary ($",ce.toFixed(2),")."]}):(0,Dd.jsxs)("p",{className:"text-orange-800",children:["\u26a0\ufe0f Consider reviewing your spending. Discretionary expenses ($",ce.toFixed(2),") are higher than essential ($",le.toFixed(2),")."]}),ce>.4*ue&&(0,Dd.jsx)("p",{className:"text-orange-800",children:"\ud83d\udca1 Your discretionary spending is over 40% of total spending. Consider setting a budget for non-essential expenses."})]})]})]}),"trends"===N&&G&&(0,Dd.jsxs)(Dd.Fragment,{children:[(0,Dd.jsxs)("div",{className:"bg-white rounded-xl p-4 mb-6 border border-gray-200",children:[(0,Dd.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Weekly Spending Trends"}),(0,Dd.jsx)(kh,{width:"100%",height:250,children:(0,Dd.jsxs)(IM,{data:ae,children:[(0,Dd.jsx)(_D,{strokeDasharray:"3 3"}),(0,Dd.jsx)(LD,{dataKey:"day"}),(0,Dd.jsx)(HD,{}),(0,Dd.jsx)(_M,{formatter:e=>["$".concat(e.toFixed(2)),"Amount"],labelStyle:{color:"#374151"}}),(0,Dd.jsx)(UL,{type:"monotone",dataKey:"expenses",stackId:"1",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6}),(0,Dd.jsx)(UL,{type:"monotone",dataKey:"income",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6})]})})]}),(0,Dd.jsxs)("div",{className:"bg-white rounded-xl p-4 mb-6 border border-gray-200",children:[(0,Dd.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Net Cash Flow"}),(0,Dd.jsx)(kh,{width:"100%",height:200,children:(0,Dd.jsxs)(BL,{data:ae,children:[(0,Dd.jsx)(_D,{strokeDasharray:"3 3"}),(0,Dd.jsx)(LD,{dataKey:"day"}),(0,Dd.jsx)(HD,{}),(0,Dd.jsx)(_M,{formatter:e=>["$".concat(e.toFixed(2)),"Net"],labelStyle:{color:"#374151"}}),(0,Dd.jsx)(bR,{type:"monotone",dataKey:"net",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",strokeWidth:2,r:4}})]})})]})]})]})}),(0,Dd.jsx)(qd,{currentView:n,setCurrentView:i})]})});var me},IR=Ed("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),MR=Ed("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),DR=Ed("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),LR=e=>{var t;let{currentView:n,setCurrentView:i,setShowAddTransaction:a,userName:o,userPhotoURL:s,onSignOut:l,onSignIn:c,authLoading:u,authError:d,isAuthenticated:h,user:f}=e;const[p,m]=(0,r.useState)(!1),g=[{id:1,type:"spending",title:"Spending Alert",message:"Your dining out expenses are 25% higher than last month. Consider cooking at home to save money.",icon:SR,color:"text-orange-500"},{id:2,type:"goal",title:"Goal Progress",message:"You're on track to reach your savings goal! Keep up the good work.",icon:IR,color:"text-green-500"},{id:3,type:"tip",title:"Smart Tip",message:"Consider setting up automatic transfers to your savings account on payday.",icon:MR,color:"text-blue-500"}];return(0,Dd.jsx)("div",{className:"bg-gray-100 min-h-screen flex flex-col",children:(0,Dd.jsxs)("div",{className:"max-w-sm mx-auto bg-white rounded-3xl shadow-2xl overflow-hidden flex flex-col h-screen max-h-screen",children:[(0,Dd.jsx)("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:(0,Dd.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Dd.jsx)("div",{className:"flex items-center"}),(0,Dd.jsxs)("div",{className:"flex items-center space-x-3 relative",children:[(0,Dd.jsx)("button",{onClick:()=>{h?m(!p):c&&c()},disabled:u,className:"flex items-center justify-center w-8 h-8 rounded-full bg-black hover:bg-gray-800 transition-colors disabled:opacity-50",children:u?(0,Dd.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):null!==f&&void 0!==f&&f.photoURL?(0,Dd.jsx)("img",{src:f.photoURL,alt:"Profile",className:"h-8 w-8 rounded-full object-cover"}):(0,Dd.jsx)("span",{className:"text-sm font-medium text-white",children:null!==f&&void 0!==f&&f.displayName?f.displayName.charAt(0).toUpperCase():(null===f||void 0===f||null===(t=f.email)||void 0===t?void 0:t.charAt(0).toUpperCase())||"U"})}),h&&(0,Dd.jsx)(Hd,{user:f,onSignOut:l,isOpen:p,onClose:()=>m(!1)})]})]})}),(0,Dd.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,Dd.jsxs)("div",{className:"px-6 py-6",children:[(0,Dd.jsxs)("div",{className:"text-center mb-8",children:[(0,Dd.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Dd.jsx)(DR,{className:"w-8 h-8 text-blue-600"})}),(0,Dd.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Your AI Financial Advisor"}),(0,Dd.jsx)("p",{className:"text-gray-600 text-sm",children:"Get personalized insights and advice to improve your financial health"})]}),(0,Dd.jsxs)("div",{className:"space-y-4",children:[(0,Dd.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Today's Insights"}),g.map(e=>{const t=e.icon;return(0,Dd.jsx)("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:(0,Dd.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Dd.jsx)("div",{className:"w-10 h-10 bg-white rounded-lg flex items-center justify-center ".concat(e.color),children:(0,Dd.jsx)(t,{className:"w-5 h-5"})}),(0,Dd.jsxs)("div",{className:"flex-1",children:[(0,Dd.jsx)("h4",{className:"font-semibold text-gray-900 text-sm",children:e.title}),(0,Dd.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:e.message})]})]})},e.id)})]})]})}),(0,Dd.jsx)(qd,{currentView:n,setCurrentView:i})]})})},RR=e=>{let{group:t,balance:n,onSelect:r,onDelete:i}=e;const a=e=>new Intl.NumberFormat("en-AU",{style:"currency",currency:t.currencyCode||"AUD"}).format(Math.abs(e)),o=t.expenses||[],s=t.members||[],l=o.reduce((e,t)=>e+(t.amount||0),0);o.length>0?new Date(Math.max(...o.map(e=>new Date(e.date)))):new Date(t.createdAt);return(0,Dd.jsx)("div",{className:"group bg-white border border-gray-200 rounded-xl p-4 hover:shadow-lg hover:border-purple-300 transition-all duration-200 cursor-pointer",onClick:r,children:(0,Dd.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Dd.jsxs)("div",{className:"flex items-center flex-1 min-w-0",children:[(0,Dd.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-blue-600 rounded-lg flex items-center justify-center text-white text-lg font-bold mr-3",children:(e=>{const t=e.toLowerCase();return t.includes("apartment")||t.includes("rent")||t.includes("house")?"\ud83c\udfe0":t.includes("food")||t.includes("grocery")||t.includes("dinner")?"\ud83c\udf55":t.includes("trip")||t.includes("travel")||t.includes("vacation")?"\u2708\ufe0f":t.includes("study")||t.includes("class")||t.includes("course")?"\ud83d\udcda":t.includes("transport")||t.includes("uber")||t.includes("car")?"\ud83d\ude97":"\ud83d\udc65"})(t.name)}),(0,Dd.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Dd.jsx)("h3",{className:"font-semibold text-gray-900 text-base truncate group-hover:text-purple-700 transition-colors",children:t.name}),(0,Dd.jsxs)("div",{className:"flex items-center space-x-3 mt-1",children:[(0,Dd.jsxs)("span",{className:"text-sm text-gray-500",children:[s.length," members"]}),(0,Dd.jsx)("span",{className:"text-sm text-gray-500",children:new Intl.NumberFormat("en-AU",{style:"currency",currency:t.currencyCode||"AUD"}).format(l)})]})]})]}),(0,Dd.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Dd.jsxs)("div",{className:"text-right",children:[(0,Dd.jsx)("div",{className:"text-sm font-semibold ".concat((e=>e>0?"text-green-600":e<0?"text-red-600":"text-gray-600")(n)),children:n>0?"+".concat(a(n)):n<0?"-".concat(a(n)):a(0)}),(0,Dd.jsx)("div",{className:"text-xs text-gray-500",children:n>0?"owed":n<0?"owe":"settled"})]}),(0,Dd.jsx)("button",{onClick:e=>{e.stopPropagation(),i()},className:"opacity-0 group-hover:opacity-100 p-1.5 text-gray-400 hover:text-red-500 transition-all duration-200",title:"Delete Group",children:(0,Dd.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})})},UR=e=>{let{groups:t,onSelectGroup:n,onCreateGroup:r,onDeleteGroup:i,onJoinGroup:a,loading:o}=e;const s=e=>{const t=e.expenses||[],n=e.members||[];if(0===t.length||0===n.length)return 0;const r=t.reduce((e,t)=>e+(t.amount||0),0),i=t.reduce((e,t)=>e+(t.amount||0),0);return i-r/n.length};return(0,Dd.jsxs)("div",{className:"h-full",children:[o?(0,Dd.jsxs)("div",{className:"text-center py-12",children:[(0,Dd.jsx)("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Dd.jsxs)("svg",{className:"animate-spin w-8 h-8 text-purple-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Dd.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Dd.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),(0,Dd.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading groups..."}),(0,Dd.jsx)("p",{className:"text-gray-600",children:"Please wait while we fetch your groups"})]}):0===t.length?(0,Dd.jsxs)("div",{className:"text-center py-12",children:[(0,Dd.jsx)("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Dd.jsx)("svg",{className:"w-8 h-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,Dd.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No groups yet"}),(0,Dd.jsx)("p",{className:"text-gray-600 mb-4",children:"Create your first group or join an existing one"}),(0,Dd.jsxs)("div",{className:"space-y-3",children:[(0,Dd.jsx)("button",{onClick:r,className:"w-full bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-xl font-medium transition-colors",children:"Create Your First Group"}),(0,Dd.jsx)("button",{onClick:a,className:"w-full bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-xl font-medium transition-colors",children:"Join Existing Group"})]})]}):(0,Dd.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,Dd.jsx)(RR,{group:e,balance:s(e),onSelect:()=>n(e),onDelete:()=>i(e.id)},e.id))}),t.length>0&&(0,Dd.jsx)("div",{className:"mt-6",children:(0,Dd.jsx)("button",{onClick:a,className:"w-full bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl font-medium transition-colors",children:"Join Another Group"})}),t.length>0&&(0,Dd.jsxs)("div",{className:"mt-8 p-4 bg-gray-50 rounded-xl",children:[(0,Dd.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"\ud83d\udca1 Quick Tips"}),(0,Dd.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,Dd.jsx)("li",{children:"\u2022 Tap on a group to view details and add expenses"}),(0,Dd.jsx)("li",{children:"\u2022 Green balance means you're owed money, red means you owe money"}),(0,Dd.jsx)("li",{children:"\u2022 Add all group members to ensure fair splits"})]})]})]})},FR=e=>{let{onBack:t,onCreateGroup:n,currentUser:i}=e;const[a,o]=(0,r.useState)(""),[s,l]=(0,r.useState)("home"),[c,u]=(0,r.useState)("AUD"),[d,h]=(0,r.useState)([{id:"current_user",name:(null===i||void 0===i?void 0:i.displayName)||(null===i||void 0===i?void 0:i.email)||"You",email:(null===i||void 0===i?void 0:i.email)||"you@email.com",role:"admin"}]),[f,p]=(0,r.useState)(""),[m,g]=(0,r.useState)(""),[y,v]=(0,r.useState)(""),b=()=>{v("");const e=f.trim(),t=m.trim();if(!e)return void v("Please enter a member name.");if(!t)return void v("Please enter a member email.");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))return void v("Please enter a valid email address.");if(d.find(e=>e.email.toLowerCase()===t.toLowerCase()))return void v("A member with this email already exists in the group.");const n={id:"member_".concat(Date.now()),name:e,email:t,role:"member"};h([...d,n]),p(""),g(""),v("")},x=e=>{"Enter"===e.key&&(e.preventDefault(),b())};return(0,Dd.jsxs)("div",{className:"max-w-2xl",children:[(0,Dd.jsx)("div",{className:"mb-6",children:(0,Dd.jsxs)("button",{type:"button",onClick:t,className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[(0,Dd.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),(0,Dd.jsx)("span",{className:"font-medium",children:"Back to Groups"})]})}),(0,Dd.jsxs)("form",{onSubmit:e=>{e.preventDefault(),v(""),a.trim()&&d.length>1&&(n({name:a.trim(),type:s,currencyCode:c,members:d}),o(""),l("home"),u("AUD"),h([{id:"current_user",name:(null===i||void 0===i?void 0:i.displayName)||(null===i||void 0===i?void 0:i.email)||"You",email:(null===i||void 0===i?void 0:i.email)||"you@email.com",role:"admin"}]),p(""),g(""),v(""))},className:"space-y-6",children:[(0,Dd.jsxs)("div",{children:[(0,Dd.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Group Name *"}),(0,Dd.jsx)("input",{type:"text",value:a,onChange:e=>o(e.target.value),placeholder:"e.g., Apartment 3B, Study Group, Weekend Trip",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),(0,Dd.jsxs)("div",{children:[(0,Dd.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Type"}),(0,Dd.jsx)("div",{className:"grid grid-cols-4 gap-3",children:[{id:"trip",name:"Trip",icon:"airplane"},{id:"home",name:"Home",icon:"home"},{id:"couple",name:"Couple",icon:"heart"},{id:"other",name:"Other",icon:"list"}].map(e=>(0,Dd.jsxs)("button",{type:"button",onClick:()=>l(e.id),className:"flex flex-col items-center p-3 rounded-lg border-2 transition-colors ".concat(s===e.id?"border-teal-500 bg-teal-50":"border-gray-200 bg-white hover:border-gray-300"),children:[(0,Dd.jsxs)("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center mb-2 ".concat(s===e.id?"bg-teal-500":"bg-gray-100"),children:["airplane"===e.icon&&(0,Dd.jsx)("svg",{className:"w-4 h-4 ".concat(s===e.id?"text-white":"text-gray-600"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),"home"===e.icon&&(0,Dd.jsx)("svg",{className:"w-4 h-4 ".concat(s===e.id?"text-white":"text-gray-600"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"heart"===e.icon&&(0,Dd.jsx)("svg",{className:"w-4 h-4 ".concat(s===e.id?"text-white":"text-gray-600"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),"list"===e.icon&&(0,Dd.jsx)("svg",{className:"w-4 h-4 ".concat(s===e.id?"text-white":"text-gray-600"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})]}),(0,Dd.jsx)("span",{className:"text-xs font-medium ".concat(s===e.id?"text-teal-600":"text-gray-600"),children:e.name})]},e.id))})]}),(0,Dd.jsxs)("div",{children:[(0,Dd.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency"}),(0,Dd.jsx)("select",{value:c,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[{code:"AUD",name:"Australian Dollar",symbol:"$"},{code:"USD",name:"US Dollar",symbol:"$"},{code:"EUR",name:"Euro",symbol:"\u20ac"},{code:"GBP",name:"British Pound",symbol:"\xa3"},{code:"CAD",name:"Canadian Dollar",symbol:"$"},{code:"SGD",name:"Singapore Dollar",symbol:"$"},{code:"NZD",name:"New Zealand Dollar",symbol:"$"}].map(e=>(0,Dd.jsxs)("option",{value:e.code,children:[e.symbol," ",e.name," (",e.code,")"]},e.code))})]}),(0,Dd.jsxs)("div",{children:[(0,Dd.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Dd.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Group Members *"}),(0,Dd.jsxs)("span",{className:"text-xs text-gray-500",children:[d.length," member",1!==d.length?"s":""]})]}),(0,Dd.jsx)("div",{className:"space-y-2 mb-4",children:0===d.length?(0,Dd.jsx)("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No members added yet. Add at least one member to continue."}):d.map(e=>(0,Dd.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200",children:[(0,Dd.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Dd.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat("admin"===e.role?"bg-purple-100":"bg-gray-100"),children:(0,Dd.jsx)("span",{className:"font-medium text-sm ".concat("admin"===e.role?"text-purple-600":"text-gray-600"),children:(e.name||"?").charAt(0).toUpperCase()})}),(0,Dd.jsxs)("div",{children:[(0,Dd.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Dd.jsx)("span",{className:"font-medium text-sm",children:e.name}),"admin"===e.role&&(0,Dd.jsx)("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-700 text-xs rounded-full font-medium",children:"Admin"})]}),(0,Dd.jsx)("div",{className:"text-xs text-gray-500",children:e.email})]})]}),"current_user"!==e.id&&(0,Dd.jsx)("button",{type:"button",onClick:()=>{var t;"current_user"!==(t=e.id)&&h(d.filter(e=>e.id!==t))},className:"text-red-500 hover:text-red-700 p-1 rounded hover:bg-red-50 transition-colors",title:"Remove member",children:(0,Dd.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},e.id))}),(0,Dd.jsxs)("div",{className:"space-y-3",children:[(0,Dd.jsx)("div",{className:"text-sm text-gray-600 mb-2",children:"Add members to your group. You can add as many members as you need."}),(0,Dd.jsxs)("div",{className:"space-y-2",children:[(0,Dd.jsx)("input",{type:"text",value:f,onChange:e=>{p(e.target.value),y&&v("")},onKeyPress:x,placeholder:"Member name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),(0,Dd.jsx)("input",{type:"email",value:m,onChange:e=>{g(e.target.value),y&&v("")},onKeyPress:x,placeholder:"Member email",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),y&&(0,Dd.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,Dd.jsxs)("div",{className:"flex items-center",children:[(0,Dd.jsx)("svg",{className:"w-4 h-4 text-red-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Dd.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,Dd.jsx)("span",{className:"text-red-800 text-sm",children:y})]})}),(0,Dd.jsxs)("button",{type:"button",onClick:b,disabled:!f.trim()||!m.trim(),className:"w-full px-3 py-2 bg-purple-100 text-purple-700 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed hover:bg-purple-200 transition-colors flex items-center justify-center space-x-2",children:[(0,Dd.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,Dd.jsx)("span",{children:"Add Member"})]})]})]}),(0,Dd.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Dd.jsx)("button",{type:"button",onClick:()=>{o(""),l("home"),u("AUD"),h([{id:"current_user",name:(null===i||void 0===i?void 0:i.displayName)||(null===i||void 0===i?void 0:i.email)||"You",email:(null===i||void 0===i?void 0:i.email)||"you@email.com",role:"admin"}]),p(""),g(""),v(""),t()},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,Dd.jsxs)("button",{type:"submit",disabled:!a.trim()||d.length<2,className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed hover:bg-purple-700 transition-colors",children:["Create Group (",d.length," member",1!==d.length?"s":"",")"]})]})]})]})},BR=e=>{let{onClose:t,onAddExpense:n,group:i}=e;const[a,o]=(0,r.useState)(""),[s,l]=(0,r.useState)(""),[c,d]=(0,r.useState)("equal"),[h,f]=(0,r.useState)({}),[p,m]=(0,r.useState)((new Date).toISOString().split("T")[0]),g=e=>new Intl.NumberFormat("en-AU",{style:"currency",currency:i.currency||"AUD"}).format(e),y=()=>(parseFloat(s)||0)/i.members.length,v=e=>{if(d(e),"equal"===e)f({});else if("custom"===e){const e=y(),t={};i.members.forEach(n=>{t[n.id]=e}),f(t)}},b=()=>Object.values(h).reduce((e,t)=>e+(parseFloat(t)||0),0),x=(parseFloat(s)||0)-b(),w="equal"===c||Math.abs(x)<.01;return(0,Dd.jsxs)("div",{className:"w-full",children:[(0,Dd.jsx)("div",{className:"mb-2",children:(0,Dd.jsxs)("button",{type:"button",onClick:t,className:"flex items-center text-gray-400 hover:text-white transition-colors",children:[(0,Dd.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),(0,Dd.jsx)("span",{className:"text-base font-medium text-white",children:"Add expense"})]})}),(0,Dd.jsx)("div",{className:"mb-3",children:(0,Dd.jsx)("p",{className:"text-xs text-gray-400",children:"Split an expense with your group members"})}),(0,Dd.jsxs)("form",{onSubmit:e=>{var t;e.preventDefault();const r=parseFloat(s);if(!a.trim()||!r||r<=0)return;let u=[];if("equal"===c){const e=r/i.members.length;u=i.members.map(t=>({userId:t.id,amount:e}))}else"custom"===c&&(u=Object.entries(h).map(e=>{let[t,n]=e;return{userId:t,amount:parseFloat(n)||0}}));const g={description:a.trim(),amount:r,paidBy:(null===(t=i.members.find(e=>(e.email||"").length>0&&(e.email||"").toLowerCase()===(i.currentUserEmail||"").toLowerCase()))||void 0===t?void 0:t.id)||"current_user",date:p,splitType:c,splits:u,settled:!1};n(g),o(""),l(""),d("equal"),f({}),m((new Date).toISOString().split("T")[0])},className:"space-y-3",children:[(0,Dd.jsxs)("div",{className:"bg-gray-800 rounded-xl p-3",children:[(0,Dd.jsx)("h4",{className:"text-sm font-medium text-white mb-2",children:"Expense Details"}),(0,Dd.jsxs)("div",{className:"space-y-2",children:[(0,Dd.jsxs)("div",{children:[(0,Dd.jsx)("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"What was this expense for? *"}),(0,Dd.jsx)("input",{type:"text",value:a,onChange:e=>o(e.target.value),placeholder:"e.g., Grocery shopping, Dinner, Rent",className:"w-full px-3 py-2 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm bg-gray-700 text-white placeholder-gray-400",required:!0})]}),(0,Dd.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Dd.jsxs)("div",{children:[(0,Dd.jsx)("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Amount *"}),(0,Dd.jsxs)("div",{className:"relative",children:[(0,Dd.jsx)("span",{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400 text-xs",children:i.currency||"AUD"}),(0,Dd.jsx)("input",{type:"number",step:"0.01",min:"0",value:s,onChange:e=>l(e.target.value),placeholder:"0.00",className:"w-full pl-10 pr-3 py-2 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm bg-gray-700 text-white placeholder-gray-400",required:!0})]})]}),(0,Dd.jsxs)("div",{children:[(0,Dd.jsx)("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Date"}),(0,Dd.jsx)("input",{type:"date",value:p,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm bg-gray-700 text-white"})]})]})]})]}),(0,Dd.jsxs)("div",{className:"bg-gray-800 rounded-xl p-3",children:[(0,Dd.jsx)("h4",{className:"text-sm font-medium text-white mb-2",children:"How should this be split?"}),(0,Dd.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Dd.jsxs)("label",{className:"flex flex-col items-center p-3 rounded-lg border-2 transition-all cursor-pointer ".concat("equal"===c?"border-blue-500 bg-blue-900/20":"border-gray-600 bg-gray-700 hover:border-gray-500"),children:[(0,Dd.jsx)("input",{type:"radio",value:"equal",checked:"equal"===c,onChange:e=>v(e.target.value),className:"sr-only"}),(0,Dd.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center mb-1 ".concat("equal"===c?"bg-blue-500":"bg-gray-600"),children:(0,Dd.jsx)("svg",{className:"w-3 h-3 ".concat("equal"===c?"text-white":"text-gray-300"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Dd.jsx)("span",{className:"text-xs font-medium text-center ".concat("equal"===c?"text-blue-300":"text-gray-300"),children:"Equal split"}),(0,Dd.jsxs)("span",{className:"text-xs mt-1 ".concat("equal"===c?"text-blue-400":"text-gray-400"),children:[i.members.length," people"]})]}),(0,Dd.jsxs)("label",{className:"flex flex-col items-center p-3 rounded-lg border-2 transition-all cursor-pointer ".concat("custom"===c?"border-blue-500 bg-blue-900/20":"border-gray-600 bg-gray-700 hover:border-gray-500"),children:[(0,Dd.jsx)("input",{type:"radio",value:"custom",checked:"custom"===c,onChange:e=>v(e.target.value),className:"sr-only"}),(0,Dd.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center mb-1 ".concat("custom"===c?"bg-blue-500":"bg-gray-600"),children:(0,Dd.jsx)("svg",{className:"w-3 h-3 ".concat("custom"===c?"text-white":"text-gray-300"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,Dd.jsx)("span",{className:"text-xs font-medium text-center ".concat("custom"===c?"text-blue-300":"text-gray-300"),children:"Custom amounts"}),(0,Dd.jsx)("span",{className:"text-xs mt-1 ".concat("custom"===c?"text-blue-400":"text-gray-400"),children:"Set individual amounts"})]})]})]}),"custom"===c&&(0,Dd.jsxs)("div",{className:"bg-gray-800 rounded-xl p-3",children:[(0,Dd.jsx)("h4",{className:"text-sm font-medium text-white mb-2",children:"Set individual amounts"}),(0,Dd.jsx)("div",{className:"space-y-2",children:i.members.map(e=>(0,Dd.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded-lg border border-gray-600",children:[(0,Dd.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Dd.jsx)("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:(0,Dd.jsx)("span",{className:"text-white font-medium text-xs",children:(e.name||"?").charAt(0).toUpperCase()})}),(0,Dd.jsx)("span",{className:"text-sm font-medium text-gray-200",children:"current_user"===e.id?"You":e.name})]}),(0,Dd.jsxs)("div",{className:"relative",children:[(0,Dd.jsx)("span",{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400 text-xs",children:i.currency||"AUD"}),(0,Dd.jsx)("input",{type:"number",step:"0.01",min:"0",value:h[e.id]||"",onChange:t=>((e,t)=>{const n=parseFloat(t)||0;f(u(u({},h),{},{[e]:n}))})(e.id,t.target.value),className:"w-24 pl-8 pr-2 py-1 border border-gray-600 rounded text-xs focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-600 text-white placeholder-gray-400",placeholder:"0.00"})]})]},e.id))}),(0,Dd.jsxs)("div",{className:"mt-3 p-3 rounded-lg border ".concat(Math.abs(x)>.01?"bg-red-900/20 border-red-600":"bg-green-900/20 border-green-600"),children:[(0,Dd.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Dd.jsxs)("span",{className:"text-xs font-medium ".concat(Math.abs(x)>.01?"text-red-300":"text-green-300"),children:["Total split: ",g(b())]}),(0,Dd.jsxs)("span",{className:"text-xs font-medium ".concat(Math.abs(x)>.01?"text-red-300":"text-green-300"),children:["Expense: ",g(parseFloat(s)||0)]})]}),Math.abs(x)>.01&&(0,Dd.jsxs)("div",{className:"mt-1 text-xs text-red-400 font-medium",children:["\u26a0\ufe0f Difference: ",g(x)]})]})]}),"equal"===c&&s&&(0,Dd.jsxs)("div",{className:"bg-green-900/20 rounded-xl p-3 border border-green-600",children:[(0,Dd.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Dd.jsx)("div",{className:"w-5 h-5 bg-green-500 rounded-full flex items-center justify-center",children:(0,Dd.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Dd.jsx)("h4",{className:"text-sm font-medium text-green-300",children:"Split Summary"})]}),(0,Dd.jsxs)("div",{className:"text-center",children:[(0,Dd.jsx)("div",{className:"text-lg font-bold text-green-200 mb-1",children:g(y())}),(0,Dd.jsx)("div",{className:"text-xs text-green-400",children:"Each person pays"})]})]}),(0,Dd.jsxs)("div",{className:"flex space-x-2 pt-2",children:[(0,Dd.jsx)("button",{type:"button",onClick:()=>{o(""),l(""),d("equal"),f({}),m((new Date).toISOString().split("T")[0]),t()},className:"flex-1 px-4 py-2 border border-gray-600 text-gray-300 rounded-lg text-sm font-medium hover:bg-gray-700 transition-colors",children:"Cancel"}),(0,Dd.jsx)("button",{type:"submit",disabled:!a.trim()||!s||parseFloat(s)<=0||!w,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed hover:bg-blue-700 transition-colors",children:"Add Expense"})]})]})]})},zR=()=>{const[e,t]=(0,r.useState)(!1),[n,i]=(0,r.useState)(null),a=(0,r.useCallback)(async function(e){t(!0),i(null);try{for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return await e(...r)}catch(o){const e=o.message||"An error occurred";throw i(e),o}finally{t(!1)}},[]),o=(0,r.useCallback)(()=>a(kd.splitwise.groups.getAll),[a]),s=(0,r.useCallback)(e=>a(kd.splitwise.groups.getById,e),[a]),l=(0,r.useCallback)(e=>a(kd.splitwise.groups.create,e),[a]),c=(0,r.useCallback)((e,t)=>a(kd.splitwise.groups.update,e,t),[a]),u=(0,r.useCallback)(e=>a(kd.splitwise.groups.delete,e),[a]),d=(0,r.useCallback)((e,t)=>a(kd.splitwise.groups.addMember,e,t),[a]),h=(0,r.useCallback)((e,t)=>a(kd.splitwise.groups.removeMember,e,t),[a]),f=(0,r.useCallback)((e,t,n)=>a(kd.splitwise.groups.updateMemberRole,e,t,n),[a]),p=(0,r.useMemo)(()=>({getAll:o,getById:s,create:l,update:c,delete:u,addMember:d,removeMember:h,updateMemberRole:f}),[o,s,l,c,u,d,h,f]),m=(0,r.useCallback)((e,t)=>a(kd.splitwise.expenses.getByGroup,e,t),[a]),g=(0,r.useCallback)(e=>a(kd.splitwise.expenses.getById,e),[a]),y=(0,r.useCallback)((e,t)=>a(kd.splitwise.expenses.create,e,t),[a]),v=(0,r.useCallback)((e,t)=>a(kd.splitwise.expenses.update,e,t),[a]),b=(0,r.useCallback)(e=>a(kd.splitwise.expenses.delete,e),[a]),x=(0,r.useCallback)(()=>a(kd.splitwise.expenses.getSplitTypes),[a]),w=(0,r.useMemo)(()=>({getByGroup:m,getById:g,create:y,update:v,delete:b,getSplitTypes:x}),[m,g,y,v,b,x]),k=(0,r.useCallback)(e=>a(kd.splitwise.balances.getGroupBalances,e),[a]),S=(0,r.useCallback)(e=>a(kd.splitwise.balances.getMyBalance,e),[a]),j=(0,r.useCallback)(()=>a(kd.splitwise.balances.getMyGroupBalances),[a]),N=(0,r.useCallback)(e=>a(kd.splitwise.balances.validateGroupBalances,e),[a]),E=(0,r.useCallback)((e,t)=>a(kd.splitwise.balances.getBalanceHistory,e,t),[a]),_=(0,r.useCallback)(e=>a(kd.splitwise.balances.getSettlementSuggestions,e),[a]),C=(0,r.useMemo)(()=>({getGroupBalances:k,getMyBalance:S,getMyGroupBalances:j,validateGroupBalances:N,getBalanceHistory:E,getSettlementSuggestions:_}),[k,S,j,N,E,_]),A=(0,r.useCallback)((e,t)=>a(kd.splitwise.settlements.getByGroup,e,t),[a]),O=(0,r.useCallback)(e=>a(kd.splitwise.settlements.getById,e),[a]),T=(0,r.useCallback)((e,t)=>a(kd.splitwise.settlements.create,e,t),[a]),P=(0,r.useCallback)((e,t)=>a(kd.splitwise.settlements.update,e,t),[a]),I=(0,r.useCallback)(e=>a(kd.splitwise.settlements.delete,e),[a]),M=(0,r.useCallback)((e,t,n)=>a(kd.splitwise.settlements.getByUser,e,t,n),[a]),D=(0,r.useMemo)(()=>({getByGroup:A,getById:O,create:T,update:P,delete:I,getByUser:M}),[A,O,T,P,I,M]),L=(0,r.useCallback)((e,t)=>a(kd.splitwise.invites.sendInvite,e,t),[a]),R=(0,r.useCallback)(e=>a(kd.splitwise.invites.acceptInvite,e),[a]),U=(0,r.useCallback)(()=>a(kd.splitwise.invites.getPendingInvites),[a]),F=(0,r.useCallback)(e=>a(kd.splitwise.invites.cancelInvite,e),[a]),B=(0,r.useMemo)(()=>({sendInvite:L,acceptInvite:R,getPendingInvites:U,cancelInvite:F}),[L,R,U,F]);return{loading:e,error:n,clearError:(0,r.useCallback)(()=>{i(null)},[]),groups:p,expenses:w,balances:C,settlements:D,invites:B}},VR=e=>{let{isOpen:t,onClose:n,onMemberAdded:i,group:a}=e;const[o,s]=(0,r.useState)(""),[l,c]=(0,r.useState)("member"),[u,d]=(0,r.useState)(!1),[h,f]=(0,r.useState)(null),{groups:p}=zR(),m=()=>{s(""),c("member"),f(null),n()};return t?(0,Dd.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Dd.jsxs)("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md",children:[(0,Dd.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Dd.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Add Member"}),(0,Dd.jsx)("button",{onClick:m,className:"text-gray-500 hover:text-gray-700 transition-colors",children:(0,Dd.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Dd.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),o.trim()){d(!0),f(null);try{const e=await p.addMember(a.id,{email:o.trim(),role:l});i(e.member),s(""),c("member"),n()}catch(t){console.error("Failed to add member:",t),f(t.message||"Failed to add member")}finally{d(!1)}}else f("Email is required")},className:"space-y-4",children:[h&&(0,Dd.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,Dd.jsxs)("div",{className:"flex items-center",children:[(0,Dd.jsx)("svg",{className:"w-5 h-5 text-red-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Dd.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,Dd.jsx)("span",{className:"text-red-800 text-sm",children:h})]})}),(0,Dd.jsxs)("div",{children:[(0,Dd.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,Dd.jsx)("input",{type:"email",id:"email",value:o,onChange:e=>s(e.target.value),placeholder:"Enter member's email",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0}),(0,Dd.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"The user must have an account with this email address"})]}),(0,Dd.jsxs)("div",{children:[(0,Dd.jsx)("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),(0,Dd.jsxs)("select",{id:"role",value:l,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[(0,Dd.jsx)("option",{value:"member",children:"Member"}),(0,Dd.jsx)("option",{value:"admin",children:"Admin"})]}),(0,Dd.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Admins can add/remove members and manage the group"})]}),(0,Dd.jsxs)("div",{children:[(0,Dd.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Current Members (",a.members.length,")"]}),(0,Dd.jsx)("div",{className:"bg-gray-50 rounded-lg p-3 max-h-32 overflow-y-auto",children:a.members.map(e=>(0,Dd.jsxs)("div",{className:"flex items-center justify-between text-sm mb-1 last:mb-0",children:[(0,Dd.jsx)("span",{className:"text-gray-700",children:e.name||e.email}),(0,Dd.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("admin"===e.role?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"),children:e.role})]},e.id))})]}),(0,Dd.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Dd.jsx)("button",{type:"button",onClick:m,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,Dd.jsx)("button",{type:"submit",disabled:u||!o.trim(),className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed hover:bg-purple-700 transition-colors flex items-center justify-center",children:u?(0,Dd.jsxs)(Dd.Fragment,{children:[(0,Dd.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Dd.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Dd.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Adding..."]}):"Add Member"})]})]})]})}):null},WR=e=>{let{isOpen:t,onClose:n,onInviteSent:i,group:a}=e;const[o,s]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(!1),[h,f]=(0,r.useState)(null),{invites:p}=zR(),m=()=>{s(""),c(""),f(null),n()};return t?(0,Dd.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Dd.jsxs)("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md",children:[(0,Dd.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Dd.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Send Invitation"}),(0,Dd.jsx)("button",{onClick:m,className:"text-gray-500 hover:text-gray-700 transition-colors",children:(0,Dd.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Dd.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),o.trim()){d(!0),f(null);try{const e=await p.sendInvite(a.id,{email:o.trim(),message:l.trim()||null});i(e.invitation),s(""),c(""),n()}catch(t){console.error("Failed to send invitation:",t),f(t.message||"Failed to send invitation")}finally{d(!1)}}else f("Email is required")},className:"space-y-4",children:[h&&(0,Dd.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,Dd.jsxs)("div",{className:"flex items-center",children:[(0,Dd.jsx)("svg",{className:"w-5 h-5 text-red-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Dd.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,Dd.jsx)("span",{className:"text-red-800 text-sm",children:h})]})}),(0,Dd.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[(0,Dd.jsx)("h3",{className:"font-semibold text-purple-900 mb-2",children:"Inviting to:"}),(0,Dd.jsxs)("div",{className:"text-sm text-purple-700",children:[(0,Dd.jsx)("div",{className:"font-medium",children:a.name}),a.description&&(0,Dd.jsx)("div",{className:"text-purple-600 mt-1",children:a.description})]})]}),(0,Dd.jsxs)("div",{children:[(0,Dd.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,Dd.jsx)("input",{type:"email",id:"email",value:o,onChange:e=>s(e.target.value),placeholder:"Enter email address to invite",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0}),(0,Dd.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"They'll receive an email invitation to join the group"})]}),(0,Dd.jsxs)("div",{children:[(0,Dd.jsx)("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Personal Message (Optional)"}),(0,Dd.jsx)("textarea",{id:"message",value:l,onChange:e=>c(e.target.value),placeholder:"Add a personal message to your invitation...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none"}),(0,Dd.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"This message will be included in the invitation email"})]}),(0,Dd.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,Dd.jsxs)("div",{className:"flex items-start",children:[(0,Dd.jsx)("svg",{className:"w-5 h-5 text-blue-500 mr-2 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Dd.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),(0,Dd.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,Dd.jsx)("div",{className:"font-medium mb-1",children:"What happens next?"}),(0,Dd.jsxs)("ul",{className:"text-xs space-y-1",children:[(0,Dd.jsx)("li",{children:"\u2022 They'll receive an email with an invitation link"}),(0,Dd.jsx)("li",{children:"\u2022 If they don't have an account, they can create one"}),(0,Dd.jsx)("li",{children:"\u2022 The invitation expires in 7 days"}),(0,Dd.jsx)("li",{children:"\u2022 They'll be added as a member when they accept"})]})]})]})}),(0,Dd.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Dd.jsx)("button",{type:"button",onClick:m,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,Dd.jsx)("button",{type:"submit",disabled:u||!o.trim(),className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed hover:bg-purple-700 transition-colors flex items-center justify-center",children:u?(0,Dd.jsxs)(Dd.Fragment,{children:[(0,Dd.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Dd.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Dd.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):"Send Invitation"})]})]})]})}):null},HR=Object.create(null);HR.open="0",HR.close="1",HR.ping="2",HR.pong="3",HR.message="4",HR.upgrade="5",HR.noop="6";const qR=Object.create(null);Object.keys(HR).forEach(e=>{qR[HR[e]]=e});const KR={type:"error",data:"parser error"},GR="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),YR="function"===typeof ArrayBuffer,$R=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,QR=(e,t,n)=>{let{type:r,data:i}=e;return GR&&i instanceof Blob?t?n(i):XR(i,n):YR&&(i instanceof ArrayBuffer||$R(i))?t?n(i):XR(new Blob([i]),n):n(HR[r]+(i||""))},XR=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function JR(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let ZR;const eU="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tU="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let n=0;n<64;n++)tU[eU.charCodeAt(n)]=n;const nU="function"===typeof ArrayBuffer,rU=(e,t)=>{if("string"!==typeof e)return{type:"message",data:aU(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:iU(e.substring(1),t)};return qR[n]?e.length>1?{type:qR[n],data:e.substring(1)}:{type:qR[n]}:KR},iU=(e,t)=>{if(nU){const n=(e=>{let t,n,r,i,a,o=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);const c=new ArrayBuffer(o),u=new Uint8Array(c);for(t=0;t<s;t+=4)n=tU[e.charCodeAt(t)],r=tU[e.charCodeAt(t+1)],i=tU[e.charCodeAt(t+2)],a=tU[e.charCodeAt(t+3)],u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|i>>2,u[l++]=(3&i)<<6|63&a;return c})(e);return aU(n,t)}return{base64:!0,data:e}},aU=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,oU=String.fromCharCode(30);function sU(){return new TransformStream({transform(e,t){!function(e,t){GR&&e.data instanceof Blob?e.data.arrayBuffer().then(JR).then(t):YR&&(e.data instanceof ArrayBuffer||$R(e.data))?t(JR(e.data)):QR(e,!1,e=>{ZR||(ZR=new TextEncoder),t(ZR.encode(e))})}(e,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const e=new DataView(i.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{i=new Uint8Array(9);const e=new DataView(i.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!==typeof e.data&&(i[0]|=128),t.enqueue(i),t.enqueue(n)})}})}let lU;function cU(e){return e.reduce((e,t)=>e+t.length,0)}function uU(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let i=0;i<t;i++)n[i]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function dU(e){if(e)return function(e){for(var t in dU.prototype)e[t]=dU.prototype[t];return e}(e)}dU.prototype.on=dU.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},dU.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},dU.prototype.off=dU.prototype.removeListener=dU.prototype.removeAllListeners=dU.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},dU.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},dU.prototype.emitReserved=dU.prototype.emit,dU.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},dU.prototype.hasListeners=function(e){return!!this.listeners(e).length};const hU="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),fU="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function pU(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t),{})}const mU=fU.setTimeout,gU=fU.clearTimeout;function yU(e,t){t.useNativeTimers?(e.setTimeoutFn=mU.bind(fU),e.clearTimeoutFn=gU.bind(fU)):(e.setTimeoutFn=fU.setTimeout.bind(fU),e.clearTimeoutFn=fU.clearTimeout.bind(fU))}function vU(e){return"string"===typeof e?function(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))}function bU(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class xU extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class wU extends dU{constructor(e){super(),this.writable=!1,yU(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new xU(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=rU(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}class kU extends wU{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",function(){--e||t()})),this.writable||(e++,this.once("drain",function(){--e||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(oU),r=[];for(let i=0;i<n.length;i++){const e=rU(n[i],t);if(r.push(e),"error"===e.type)break}return r})(e,this.socket.binaryType).forEach(e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach((e,a)=>{QR(e,!1,e=>{r[a]=e,++i===n&&t(r.join(oU))})})})(e,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=bU()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let SU=!1;try{SU="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(jF){}const jU=SU;function NU(){}class EU extends kU{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(e,t)=>{this.onError("xhr post error",e,t)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=e}}class _U extends dU{constructor(e,t,n){super(),this.createRequest=e,yU(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var e;const t=pU(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(r){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(r){}try{n.setRequestHeader("Accept","*/*")}catch(r){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"===typeof n.status?n.status:0)},0))},n.send(this._data)}catch(r){return void this.setTimeoutFn(()=>{this._onError(r)},0)}"undefined"!==typeof document&&(this._index=_U.requestsCount++,_U.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=NU,e)try{this._xhr.abort()}catch(t){}"undefined"!==typeof document&&delete _U.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(_U.requestsCount=0,_U.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",CU);else if("function"===typeof addEventListener){addEventListener("onpagehide"in fU?"pagehide":"unload",CU,!1)}function CU(){for(let e in _U.requests)_U.requests.hasOwnProperty(e)&&_U.requests[e].abort()}const AU=function(){const e=OU({xdomain:!1});return e&&null!==e.responseType}();function OU(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||jU))return new XMLHttpRequest}catch(n){}if(!t)try{return new(fU[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(n){}}const TU="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class PU extends wU{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=TU?{}:pU(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(jF){return this.emitReserved("error",jF)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;QR(n,this.supportsBinary,e=>{try{this.doWrite(n,e)}catch(t){}r&&hU(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=bU()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const IU=fU.WebSocket||fU.MozWebSocket;const MU={websocket:class extends PU{createSocket(e,t,n){return TU?new IU(e,t,n):t?new IU(e,t):new IU(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends wU{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(jF){return this.emitReserved("error",jF)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=function(e,t){lU||(lU=new TextDecoder);const n=[];let r=0,i=-1,a=!1;return new TransformStream({transform(o,s){for(n.push(o);;){if(0===r){if(cU(n)<1)break;const e=uU(n,1);a=128===(128&e[0]),i=127&e[0],r=i<126?3:126===i?1:2}else if(1===r){if(cU(n)<2)break;const e=uU(n,2);i=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(cU(n)<8)break;const e=uU(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),a=t.getUint32(0);if(a>Math.pow(2,21)-1){s.enqueue(KR);break}i=a*Math.pow(2,32)+t.getUint32(4),r=3}else{if(cU(n)<i)break;const e=uU(n,i);s.enqueue(rU(a?e:lU.decode(e),t)),r=0}if(0===i||i>e){s.enqueue(KR);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=sU();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const i=()=>{n.read().then(e=>{let{done:t,value:n}=e;t||(this.onPacket(n),i())}).catch(e=>{})};i();const a={type:"open"};this.query.sid&&(a.data='{"sid":"'.concat(this.query.sid,'"}')),this._writer.write(a).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this._writer.write(n).then(()=>{r&&hU(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends EU{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=AU&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new _U(OU,this.uri(),e)}}},DU=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,LU=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function RU(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=DU.exec(e||""),a={},o=14;for(;o--;)a[LU[o]]=i[o]||"";return-1!=n&&-1!=r&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=function(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,a.path),a.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,r){t&&(n[t]=r)}),n}(0,a.query),a}const UU="function"===typeof addEventListener&&"function"===typeof removeEventListener,FU=[];UU&&addEventListener("offline",()=>{FU.forEach(e=>e())},!1);class BU extends dU{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const n=RU(e);t.hostname=n.host,t.secure="https"===n.protocol||"wss"===n.protocol,t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=RU(t.host).host);yU(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let r=0,i=n.length;r<i;r++){let e=n[r].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),UU&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},FU.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const e=this.opts.rememberUpgrade&&BU.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",BU.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){const n=this.writeBuffer[t].data;if(n&&(e+=vU(n)),t>0&&e>this._maxPayload)return this.writeBuffer.slice(0,t);e+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,hU(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const i={type:e,data:t,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(BU.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),UU&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=FU.indexOf(this._offlineEventListener);-1!==e&&FU.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}BU.protocol=4;class zU extends BU{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;BU.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;BU.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{n||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}}))};function i(){n||(n=!0,c(),t.close(),t=null)}const a=e=>{const n=new Error("probe error: "+e);n.transport=t.name,i(),this.emitReserved("upgradeError",n)};function o(){a("transport closed")}function s(){a("socket closed")}function l(e){t&&e.name!==t.name&&i()}const c=()=>{t.removeListener("open",r),t.removeListener("error",a),t.removeListener("close",o),this.off("close",s),this.off("upgrading",l)};t.once("open",r),t.once("error",a),t.once("close",o),this.once("close",s),this.once("upgrading",l),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}class VU extends zU{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map(e=>MU[e]).filter(e=>!!e)),super(e,t)}}const WU="function"===typeof ArrayBuffer,HU=Object.prototype.toString,qU="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===HU.call(Blob),KU="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===HU.call(File);function GU(e){return WU&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||qU&&e instanceof Blob||KU&&e instanceof File}function YU(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(YU(e[t]))return!0;return!1}if(GU(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return YU(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&YU(e[n]))return!0;return!1}function $U(e){const t=[],n=e.data,r=e;return r.data=QU(n,t),r.attachments=t.length,{packet:r,buffers:t}}function QU(e,t){if(!e)return e;if(GU(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=QU(e[r],t);return n}if("object"===typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=QU(e[r],t));return n}return e}function XU(e,t){return e.data=JU(e.data,t),delete e.attachments,e}function JU(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=JU(e[n],t);else if("object"===typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=JU(e[n],t));return e}const ZU=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],eF=5;var tF;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(tF||(tF={}));class nF{constructor(e){this.replacer=e}encode(e){return e.type!==tF.EVENT&&e.type!==tF.ACK||!YU(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===tF.EVENT?tF.BINARY_EVENT:tF.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==tF.BINARY_EVENT&&e.type!==tF.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=$U(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function rF(e){return"[object Object]"===Object.prototype.toString.call(e)}class iF extends dU{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===tF.BINARY_EVENT;n||t.type===tF.BINARY_ACK?(t.type=n?tF.EVENT:tF.ACK,this.reconstructor=new aF(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!GU(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===tF[n.type])throw new Error("unknown packet type "+n.type);if(n.type===tF.BINARY_EVENT||n.type===tF.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const i=e.substring(r,t);if(i!=Number(i)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!iF.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}static isPayloadValid(e,t){switch(e){case tF.CONNECT:return rF(t);case tF.DISCONNECT:return void 0===t;case tF.CONNECT_ERROR:return"string"===typeof t||rF(t);case tF.EVENT:case tF.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===ZU.indexOf(t[0]));case tF.ACK:case tF.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class aF{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=XU(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function oF(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const sF=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class lF extends dU{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[oF(e,"open",this.onopen.bind(this)),oF(e,"packet",this.onpacket.bind(this)),oF(e,"error",this.onerror.bind(this)),oF(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,n,r;if(sF.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];if(a.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(a),this;const s={type:tF.EVENT,data:a,options:{}};if(s.options.compress=!1!==this.flags.compress,"function"===typeof a[a.length-1]){const e=this.ids++,t=a.pop();this._registerAckCallback(e,t),s.id=e}const l=null===(n=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===n?void 0:n.writable,c=this.connected&&!(null===(r=this.io.engine)||void 0===r?void 0:r._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,t){var n,r=this;const i=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===i)return void(this.acks[e]=t);const a=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))},i),o=function(){r.io.clearTimeoutFn(a);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.apply(r,n)};o.withError=!0,this.acks[e]=o}emitWithAck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise((t,r)=>{const i=(e,n)=>e?r(e):t(n);i.withError=!0,n.push(i),this.emit(e,...n)})}_addToQueue(e){var t=this;let n;"function"===typeof e[e.length-1]&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push(function(e){if(r!==t._queue[0])return;if(null!==e)r.tryCount>t._opts.retries&&(t._queue.shift(),n&&n(e));else if(t._queue.shift(),n){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];n(null,...a)}return r.pending=!1,t._drainQueue()}),this._queue.push(r),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:tF.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(t=>String(t.id)===e)){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case tF.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case tF.EVENT:case tF.BINARY_EVENT:this.onevent(e);break;case tF.ACK:case tF.BINARY_ACK:this.onack(e);break;case tF.DISCONNECT:this.ondisconnect();break;case tF.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];t.packet({type:tF.ACK,id:e,data:i})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:tF.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function cF(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}cF.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},cF.prototype.reset=function(){this.attempts=0},cF.prototype.setMin=function(e){this.ms=e},cF.prototype.setMax=function(e){this.max=e},cF.prototype.setJitter=function(e){this.jitter=e};class uF extends dU{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&"object"===typeof e&&(n=e,e=void 0),(n=n||{}).path=n.path||"/socket.io",this.opts=n,yU(this,n),this.reconnection(!1!==n.reconnection),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=n.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new cF({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==n.timeout?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||t;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==n.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new VU(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=oF(t,"open",function(){n.onopen(),e&&e()}),i=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},a=oF(t,"error",i);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn(()=>{r(),i(new Error("timeout")),t.close()},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}return this.subs.push(r),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(oF(e,"ping",this.onping.bind(this)),oF(e,"data",this.ondata.bind(this)),oF(e,"error",this.onerror.bind(this)),oF(e,"close",this.onclose.bind(this)),oF(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){hU(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new lF(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const dF={};function hF(e,t){"object"===typeof e&&(t=e,e=void 0);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=RU(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,i=n.id,a=n.path,o=dF[i]&&a in dF[i].nsps;let s;return t.forceNew||t["force new connection"]||!1===t.multiplex||o?s=new uF(r,t):(dF[i]||(dF[i]=new uF(r,t)),s=dF[i]),n.query&&!t.query&&(t.query=n.queryKey),s.socket(n.path,t)}Object.assign(hF,{Manager:uF,Socket:lF,io:hF,connect:hF});const fF=e=>{var t,n,i;let{group:a,onUpdateGroup:o,onBack:s,onAddExpenseClick:l}=e;const[c,d]=(0,r.useState)(!1),[h,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)(!1),[g,y]=(0,r.useState)([]),[v,b]=(0,r.useState)(null),[x,w]=(0,r.useState)(!1),{expenses:k,balances:S}=zR(),{user:j}=bd(),N=((null===a||void 0===a?void 0:a.members)||[]).find(e=>{const t=(e.email||"").toLowerCase(),n=((null===j||void 0===j?void 0:j.email)||"").toLowerCase();return t&&n&&t===n})||((null===a||void 0===a?void 0:a.members)||[]).find(e=>"current_user"===e.id),E=(null===N||void 0===N?void 0:N.id)||"current_user",_=(0,r.useCallback)(async()=>{if(null!==a&&void 0!==a&&a.id){w(!0);try{const[e,t]=await Promise.all([k.getByGroup(a.id),S.getGroupBalances(a.id)]);y(e.expenses||[]),b(t)}catch(jF){console.error("Failed to load group data:",jF)}finally{w(!1)}}},[null===a||void 0===a?void 0:a.id,k,S]);if((0,r.useEffect)(()=>{null!==a&&void 0!==a&&a.id&&_()},[_]),function(e){let{onExpenseCreated:t,onBalancesUpdated:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=(0,r.useRef)(null);(0,r.useEffect)(()=>{let r=!1;return(async()=>{try{var a;const o=await(null===(a=dd.currentUser)||void 0===a?void 0:a.getIdToken());if(r)return;const s=hF(({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:3001/api").replace(/\/api$/,""),{transports:["websocket"],auth:{token:o},withCredentials:!0});i.current=s,s.on("connect",()=>{e&&s.emit("join:group",{groupId:e})}),s.on("expense:created",n=>{var r;(null===n||void 0===n||null===(r=n.expense)||void 0===r?void 0:r.groupId)===e&&(null===t||void 0===t||t(n.expense))}),s.on("balances:updated",t=>{(null===t||void 0===t?void 0:t.groupId)===e&&(null===n||void 0===n||n())})}catch(o){}})(),()=>{r=!0,i.current&&(e&&i.current.emit("leave:group",{groupId:e}),i.current.disconnect())}},[e,t,n])}(null===a||void 0===a?void 0:a.id,{onExpenseCreated:e=>{y(t=>[...t,e])},onBalancesUpdated:()=>{_()}}),!a)return(0,Dd.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,Dd.jsxs)("div",{className:"text-center",children:[(0,Dd.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,Dd.jsx)("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,Dd.jsx)("p",{className:"text-gray-500",children:"Group not found or loading..."})]})});const C=e=>new Intl.NumberFormat("en-AU",{style:"currency",currency:a.currency||"AUD"}).format(e),A=(g.reduce((e,t)=>e+(t.amount||0),0),null===v||void 0===v||null===(t=v.userBalances)||void 0===t||null===(n=t.find(e=>e.userId===E))||void 0===n||n.netAmount,(a.members||[]).find(e=>e.id===E)),O="admin"===(null===A||void 0===A?void 0:A.role);return(0,Dd.jsx)(Dd.Fragment,{children:(0,Dd.jsxs)("div",{className:"w-full",children:[(0,Dd.jsx)("div",{className:"mb-4",children:(0,Dd.jsxs)("button",{type:"button",onClick:s,className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[(0,Dd.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),(0,Dd.jsx)("span",{className:"font-medium",children:"Back to Groups"})]})}),O&&(0,Dd.jsxs)("div",{className:"flex space-x-3 mb-4",children:[(0,Dd.jsxs)("button",{onClick:()=>f(!0),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1.5 rounded-lg text-sm font-medium transition-colors flex items-center",children:[(0,Dd.jsx)("svg",{className:"w-3 h-3 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),"Add Member"]}),(0,Dd.jsxs)("button",{onClick:()=>m(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded-lg text-sm font-medium transition-colors flex items-center",children:[(0,Dd.jsx)("svg",{className:"w-3 h-3 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Send Invite"]})]}),x&&(0,Dd.jsx)("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,Dd.jsxs)("div",{className:"flex items-center",children:[(0,Dd.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Dd.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Dd.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,Dd.jsx)("span",{className:"text-blue-800",children:"Loading group data..."})]})}),!x&&a.members&&a.members.length<=1&&(0,Dd.jsx)("div",{className:"mb-6",children:(0,Dd.jsxs)("div",{className:"bg-gray-800 rounded-xl p-4 text-center",children:[(0,Dd.jsx)("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-600 to-purple-600 rounded-xl flex items-center justify-center mx-auto mb-3",children:(0,Dd.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,Dd.jsx)("h3",{className:"text-lg font-semibold text-white mb-1",children:"You're the only one here!"}),(0,Dd.jsx)("p",{className:"text-gray-300 mb-4",children:"Add members to start splitting expenses together"}),(0,Dd.jsxs)("div",{className:"space-y-3",children:[(0,Dd.jsxs)("button",{onClick:()=>f(!0),className:"w-full bg-green-600 hover:bg-green-700 text-white px-4 py-2.5 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2",children:[(0,Dd.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),(0,Dd.jsx)("span",{children:"Add group members"})]}),(0,Dd.jsxs)("button",{onClick:()=>{alert("Share group link functionality will be implemented soon!")},className:"w-full bg-gray-700 hover:bg-gray-600 text-white px-4 py-2.5 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2",children:[(0,Dd.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})}),(0,Dd.jsx)("span",{children:"Share group link"})]})]})]})}),(0,Dd.jsxs)("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[(0,Dd.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,Dd.jsx)("div",{className:"text-xs text-gray-500",children:"You're Owed"}),(0,Dd.jsx)("div",{className:"text-lg font-bold text-green-600 truncate",children:null!==v&&void 0!==v&&v.userBalances?C(v.userBalances.filter(e=>e.userId!==E&&(e.netAmount||0)>0).reduce((e,t)=>e+(t.netAmount||0),0)/100):C(0)})]}),(0,Dd.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,Dd.jsx)("div",{className:"text-xs text-gray-500",children:"You Owe"}),(0,Dd.jsx)("div",{className:"text-lg font-bold text-red-600 truncate",children:null!==v&&void 0!==v&&v.userBalances?C(Math.abs(v.userBalances.filter(e=>e.userId!==E&&(e.netAmount||0)<0).reduce((e,t)=>e+(t.netAmount||0),0)/100)):C(0)})]}),(0,Dd.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,Dd.jsx)("div",{className:"text-xs text-gray-500",children:"Members"}),(0,Dd.jsx)("div",{className:"text-lg font-bold text-gray-900",children:(null===(i=a.members)||void 0===i?void 0:i.length)||0})]})]}),(0,Dd.jsx)("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden mb-4",children:(0,Dd.jsx)("div",{className:"divide-y divide-gray-200",children:(a.members||[]).map(e=>(0,Dd.jsxs)("div",{className:"px-4 py-4 flex items-center justify-between",children:[(0,Dd.jsxs)("div",{className:"flex items-center",children:[(0,Dd.jsx)("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center mr-3",children:(0,Dd.jsx)("span",{className:"text-sm font-medium text-purple-700",children:(e.name||e.email||"?").charAt(0).toUpperCase()})}),(0,Dd.jsxs)("div",{children:[(0,Dd.jsx)("div",{className:"font-medium text-gray-900",children:e.name||"Unknown"}),(0,Dd.jsx)("div",{className:"text-sm text-gray-500",children:e.email||"No email"})]})]}),(0,Dd.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Dd.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("admin"===e.role?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"),children:e.role||"member"}),"current_user"===e.id&&(0,Dd.jsx)("span",{className:"text-xs text-gray-400",children:"(You)"})]})]},e.id))})}),(0,Dd.jsxs)("div",{className:"mb-4 space-y-3",children:[(0,Dd.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:[(0,Dd.jsxs)("div",{className:"px-4 py-4 border-b border-gray-200 bg-green-50",children:[(0,Dd.jsx)("h4",{className:"font-semibold text-green-800",children:"You're Owed"}),(0,Dd.jsx)("p",{className:"text-sm text-green-600 mt-1",children:"People who owe you money"})]}),null!==v&&void 0!==v&&v.userBalances?(0,Dd.jsxs)("div",{children:[v.userBalances.filter(e=>e.userId!==E&&(e.netAmount||0)>0).sort((e,t)=>t.netBalance-e.netBalance).map(e=>{const t=(a.members||[]).find(t=>t.id===e.userId);return(0,Dd.jsx)("div",{className:"px-4 py-4 border-b border-gray-100 last:border-b-0",children:(0,Dd.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Dd.jsxs)("div",{className:"flex items-center",children:[(0,Dd.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3",children:(0,Dd.jsx)("span",{className:"text-sm font-medium text-green-700",children:((null===t||void 0===t?void 0:t.name)||(null===t||void 0===t?void 0:t.email)||"Unknown").charAt(0).toUpperCase()})}),(0,Dd.jsxs)("div",{children:[(0,Dd.jsx)("div",{className:"font-medium text-gray-900",children:(null===t||void 0===t?void 0:t.name)||(null===t||void 0===t?void 0:t.email)||"Unknown"}),(0,Dd.jsxs)("div",{className:"text-sm text-green-600",children:["Owes you ",C((e.netAmount||0)/100)]})]})]}),(0,Dd.jsxs)("div",{className:"text-right text-green-600",children:[(0,Dd.jsxs)("div",{className:"text-lg font-bold text-green-600",children:["+",C((e.netAmount||0)/100)]}),(0,Dd.jsx)("div",{className:"text-xs text-green-500",children:"You're owed"})]})]})},e.userId)}),0===v.userBalances.filter(e=>e.userId!==E&&(e.netAmount||0)>0).length&&(0,Dd.jsxs)("div",{className:"px-6 py-8 text-center",children:[(0,Dd.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,Dd.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),(0,Dd.jsx)("p",{className:"text-green-600 font-medium",children:"No one owes you money"}),(0,Dd.jsx)("p",{className:"text-sm text-green-500 mt-1",children:"Great! You're all caught up"})]})]}):(0,Dd.jsxs)("div",{className:"px-6 py-8 text-center text-gray-500",children:[(0,Dd.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,Dd.jsx)("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),(0,Dd.jsx)("p",{children:"Loading balance details..."})]})]}),(0,Dd.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:[(0,Dd.jsxs)("div",{className:"px-4 py-4 border-b border-gray-200 bg-red-50",children:[(0,Dd.jsx)("h4",{className:"font-semibold text-red-800",children:"You Owe"}),(0,Dd.jsx)("p",{className:"text-sm text-red-600 mt-1",children:"People you owe money to"})]}),null!==v&&void 0!==v&&v.userBalances?(0,Dd.jsxs)("div",{children:[v.userBalances.filter(e=>e.userId!==E&&(e.netAmount||0)<0).sort((e,t)=>e.netBalance-t.netBalance).map(e=>{const t=(a.members||[]).find(t=>t.id===e.userId);return(0,Dd.jsx)("div",{className:"px-4 py-4 border-b border-gray-100 last:border-b-0",children:(0,Dd.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Dd.jsxs)("div",{className:"flex items-center",children:[(0,Dd.jsx)("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center mr-3",children:(0,Dd.jsx)("span",{className:"text-sm font-medium text-red-700",children:((null===t||void 0===t?void 0:t.name)||(null===t||void 0===t?void 0:t.email)||"Unknown").charAt(0).toUpperCase()})}),(0,Dd.jsxs)("div",{children:[(0,Dd.jsx)("div",{className:"font-medium text-gray-900",children:(null===t||void 0===t?void 0:t.name)||(null===t||void 0===t?void 0:t.email)||"Unknown"}),(0,Dd.jsxs)("div",{className:"text-sm text-red-600",children:["You owe ",C(Math.abs((e.netAmount||0)/100))]})]})]}),(0,Dd.jsxs)("div",{className:"text-right text-red-600",children:[(0,Dd.jsxs)("div",{className:"text-lg font-bold text-red-600",children:["-",C(Math.abs((e.netAmount||0)/100))]}),(0,Dd.jsx)("div",{className:"text-xs text-red-500",children:"You owe"})]})]})},e.userId)}),0===v.userBalances.filter(e=>e.userId!==E&&(e.netAmount||0)<0).length&&(0,Dd.jsxs)("div",{className:"px-6 py-8 text-center",children:[(0,Dd.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,Dd.jsx)("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),(0,Dd.jsx)("p",{className:"text-red-600 font-medium",children:"You don't owe anyone"}),(0,Dd.jsx)("p",{className:"text-sm text-red-500 mt-1",children:"You're all paid up!"})]})]}):(0,Dd.jsxs)("div",{className:"px-6 py-8 text-center text-gray-500",children:[(0,Dd.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,Dd.jsx)("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),(0,Dd.jsx)("p",{children:"Loading balance details..."})]})]})]}),(0,Dd.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:[(0,Dd.jsx)("div",{className:"px-4 py-4 border-b border-gray-200 bg-gray-50",children:(0,Dd.jsx)("h4",{className:"font-semibold text-gray-900",children:"Expenses"})}),0===g.length?(0,Dd.jsxs)("div",{className:"p-4 text-center text-gray-500",children:[(0,Dd.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,Dd.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),(0,Dd.jsx)("p",{children:"No expenses yet. Add your first expense to get started!"})]}):(0,Dd.jsx)("div",{className:"divide-y divide-gray-200",children:g.slice().reverse().map(e=>{const t=(a.members||[]).find(t=>t.id===e.paidBy);return(0,Dd.jsx)("div",{className:"px-6 py-3",children:(0,Dd.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Dd.jsxs)("div",{className:"flex-1",children:[(0,Dd.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Dd.jsx)("h5",{className:"font-medium text-gray-900",children:e.description}),(0,Dd.jsx)("span",{className:"font-semibold text-gray-900",children:C(e.amount)})]}),(0,Dd.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[(0,Dd.jsxs)("span",{children:["Paid by ",(null===t||void 0===t?void 0:t.name)||"Unknown"]}),(0,Dd.jsx)("span",{children:new Date(e.date).toLocaleDateString("en-AU")})]}),e.splits&&(0,Dd.jsxs)("div",{className:"mt-2 text-xs text-gray-400",children:["Split: ",e.splits.map(e=>{const t=(a.members||[]).find(t=>t.id===e.userId);return"".concat((null===t||void 0===t?void 0:t.name)||"Unknown",": ").concat(C(e.amount))}).join(", ")]})]}),(0,Dd.jsx)("div",{className:"ml-4",children:e.settled?(0,Dd.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Settled"}):(0,Dd.jsx)("button",{onClick:()=>(e=>{const t=(a.expenses||[]).map(t=>t.id===e?u(u({},t),{},{settled:!0}):t),n=u(u({},a),{},{expenses:t});o(n)})(e.id),className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 hover:bg-yellow-200 transition-colors",children:"Mark Settled"})})]})},e.id)})})]}),c&&(0,Dd.jsx)("div",{className:"mb-6",children:(0,Dd.jsx)(BR,{onClose:()=>d(!1),onAddExpense:async e=>{try{const t=u(u({},e),{},{paidBy:E}),n=(await k.create(a.id,t)).expense;y([...g,n]),await _(),d(!1)}catch(jF){console.error("Failed to add expense:",jF)}},group:a})}),h&&(0,Dd.jsx)(VR,{isOpen:h,onClose:()=>f(!1),onMemberAdded:e=>{const t=u(u({},a),{},{members:[...a.members||[],e]});o(t)},group:a}),p&&(0,Dd.jsx)(WR,{isOpen:p,onClose:()=>m(!1),onInviteSent:e=>{console.log("Invitation sent successfully:",e)},group:a})]})})},pF=e=>{var t,n,i;let{group:a,currentUser:o,onBack:s,onGroupUpdated:l}=e;const[c,d]=(0,r.useState)(""),[h,f]=(0,r.useState)(""),[p,m]=(0,r.useState)(!1),[g,y]=(0,r.useState)(!1),[v,b]=(0,r.useState)("home"),[x,w]=(0,r.useState)(""),[k,S]=(0,r.useState)(""),[j,N]=(0,r.useState)(""),[E,_]=(0,r.useState)(!1),[C,A]=(0,r.useState)(!1),[O,T]=(0,r.useState)(!1),[P,I]=(0,r.useState)(0),[M,D]=(0,r.useState)(!1),{groups:L,members:R}=zR(),U=[{id:"friends",name:"Friends",icon:"users"},{id:"home",name:"Home",icon:"home"},{id:"couple",name:"Couple",icon:"heart"},{id:"other",name:"Other",icon:"list"}],F=null===a||void 0===a||null===(t=a.members)||void 0===t?void 0:t.find(e=>("current_user"===e.id||e.email===(null===o||void 0===o?void 0:o.email))&&"admin"===e.role);(0,r.useEffect)(()=>{a&&(d(a.name||""),f(a.description||""),b(a.type||"home"))},[a]),(0,r.useEffect)(()=>{var e;if(null!==a&&void 0!==a&&null!==(e=a.balances)&&void 0!==e&&e.userBalances){const e=a.balances.userBalances.find(e=>"current_user"===e.userId||e.userEmail===(null===o||void 0===o?void 0:o.email));I((null===e||void 0===e?void 0:e.netBalance)||0)}},[a,o]);const B=e=>new Intl.NumberFormat("en-AU",{style:"currency",currency:a.currency||"AUD"}).format(e);return a?(0,Dd.jsxs)("div",{className:"h-full bg-gray-900 text-white",children:[(0,Dd.jsx)("div",{className:"mb-6",children:(0,Dd.jsxs)("button",{type:"button",onClick:s,className:"flex items-center text-white hover:text-gray-300 transition-colors",children:[(0,Dd.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),(0,Dd.jsx)("span",{className:"font-medium",children:"Back to Group"})]})}),(0,Dd.jsx)("div",{className:"mb-6",children:(0,Dd.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-xl",children:[(0,Dd.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Dd.jsx)("svg",{className:"w-8 h-8 text-white",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Dd.jsx)("path",{d:"M9.13478 20.7735V17.7157C9.13478 16.9352 9.77217 16.3024 10.5584 16.3024H13.4326C13.8102 16.3024 14.1723 16.4513 14.4393 16.7164C14.7063 16.9814 14.8563 17.3409 14.8563 17.7157V20.7735C14.8539 21.098 14.9821 21.41 15.2124 21.6403C15.4427 21.8706 15.7561 22.0001 16.0829 22.0001H18.0438C18.9596 22.0025 19.8388 21.643 20.4872 21.0009C21.1356 20.3589 21.5 19.4871 21.5 18.5779V9.86698C21.5 9.13258 21.1721 8.43596 20.6046 7.96479L13.934 2.67599C12.7737 1.74868 11.1111 1.77862 9.98539 2.7471L3.46701 7.96479C2.87274 8.42207 2.51755 9.12076 2.5 9.86698V18.5691C2.5 20.464 4.04738 22.0001 5.95617 22.0001H7.87229C8.55123 22.0001 9.103 21.4563 9.10792 20.7824L9.13478 20.7735Z",fill:"currentColor"})}),(0,Dd.jsx)("div",{children:p?(0,Dd.jsxs)("div",{className:"space-y-4",children:[(0,Dd.jsxs)("div",{children:[(0,Dd.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Group name"}),(0,Dd.jsx)("input",{type:"text",value:c,onChange:e=>d(e.target.value),className:"w-full bg-gray-700 text-white px-3 py-2 rounded-lg border border-gray-600 focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Enter group name"})]}),(0,Dd.jsxs)("div",{children:[(0,Dd.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Type"}),(0,Dd.jsx)("div",{className:"grid grid-cols-4 gap-2",children:U.map(e=>(0,Dd.jsxs)("button",{type:"button",onClick:()=>b(e.id),className:"flex flex-col items-center p-2 rounded-lg border-2 transition-colors ".concat(v===e.id?"border-teal-500 bg-teal-50":"border-gray-600 bg-gray-700 hover:border-gray-500"),children:[(0,Dd.jsxs)("div",{className:"w-6 h-6 rounded-lg flex items-center justify-center mb-1 ".concat(v===e.id?"bg-teal-500":"bg-gray-600"),children:["users"===e.icon&&(0,Dd.jsx)("svg",{className:"w-3 h-3 ".concat(v===e.id?"text-white":"text-gray-300"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"home"===e.icon&&(0,Dd.jsx)("svg",{className:"w-3 h-3 ".concat(v===e.id?"text-white":"text-gray-300"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"heart"===e.icon&&(0,Dd.jsx)("svg",{className:"w-3 h-3 ".concat(v===e.id?"text-white":"text-gray-300"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),"list"===e.icon&&(0,Dd.jsx)("svg",{className:"w-3 h-3 ".concat(v===e.id?"text-white":"text-gray-300"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})]}),(0,Dd.jsx)("span",{className:"text-xs font-medium ".concat(v===e.id?"text-teal-600":"text-gray-300"),children:e.name})]},e.id))})]}),(0,Dd.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Dd.jsx)("button",{onClick:async()=>{if(c.trim()){_(!0);try{console.log("Updating group name to:",c),console.log("Updating group type to:",v),m(!1),null===l||void 0===l||l(u(u({},a),{},{name:c,type:v}))}catch(e){console.error("Failed to update group name and type:",e)}finally{_(!1)}}},disabled:E||!c.trim(),className:"text-green-400 hover:text-green-300 text-sm disabled:opacity-50",children:"Save"}),(0,Dd.jsx)("button",{onClick:()=>{m(!1),d(a.name||""),b((null===a||void 0===a?void 0:a.type)||"home")},className:"text-gray-400 hover:text-gray-300 text-sm",children:"Cancel"})]})]}):(0,Dd.jsxs)("div",{children:[(0,Dd.jsx)("h2",{className:"text-base font-medium text-white",children:a.name}),(0,Dd.jsx)("p",{className:"text-xs text-gray-400",children:(null===(n=U.find(e=>e.id===((null===a||void 0===a?void 0:a.type)||"home")))||void 0===n?void 0:n.name)||"Home"})]})})]}),!p&&(0,Dd.jsx)("button",{onClick:()=>m(!0),className:"text-gray-400 hover:text-white transition-colors",children:(0,Dd.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})]})}),(0,Dd.jsxs)("div",{className:"mb-6",children:[(0,Dd.jsx)("h3",{className:"text-base font-medium text-white mb-3",children:"Group members"}),(0,Dd.jsx)("div",{className:"mb-3",children:(0,Dd.jsxs)("button",{onClick:()=>{console.log("Add people to group clicked")},className:"w-full flex items-center justify-between p-3 bg-gray-800 rounded-xl hover:bg-gray-700 transition-colors",children:[(0,Dd.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Dd.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:(0,Dd.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),(0,Dd.jsx)("span",{className:"text-white text-sm font-medium",children:"Add people to group"})]}),(0,Dd.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})}),(0,Dd.jsx)("div",{className:"mb-4",children:(0,Dd.jsxs)("button",{onClick:()=>{const e="INVITE_".concat(a.id,"_").concat(Date.now()),t="".concat(window.location.origin,"/splitwise/invite/").concat(e);navigator.clipboard.writeText(t).then(()=>{alert("Invite link copied to clipboard!")}).catch(()=>{const e=document.createElement("textarea");e.value=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),alert("Invite link copied to clipboard!")})},className:"w-full flex items-center justify-between p-3 bg-gray-800 rounded-xl hover:bg-gray-700 transition-colors",children:[(0,Dd.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Dd.jsx)("div",{className:"w-8 h-8 bg-green-600 rounded-lg flex items-center justify-center",children:(0,Dd.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}),(0,Dd.jsx)("span",{className:"text-white text-sm font-medium",children:"Invite via link"})]}),(0,Dd.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})}),(0,Dd.jsx)("div",{className:"space-y-2",children:null===(i=a.members)||void 0===i?void 0:i.map(e=>{const t=50*Math.random()-25,n=t>0,r=t<0;return(0,Dd.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-xl",children:[(0,Dd.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Dd.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:(0,Dd.jsx)("span",{className:"text-white font-medium text-sm",children:(e.name||"?").charAt(0).toUpperCase()})}),(0,Dd.jsxs)("div",{children:[(0,Dd.jsxs)("div",{className:"text-white text-sm font-medium",children:[e.name," ","current_user"===e.id||e.email===(null===o||void 0===o?void 0:o.email)?"(you)":""]}),(0,Dd.jsx)("div",{className:"text-gray-400 text-xs",children:e.email})]})]}),(0,Dd.jsx)("div",{className:"text-right",children:n?(0,Dd.jsxs)("div",{className:"text-green-400 text-xs",children:["gets back ",B(t)]}):r?(0,Dd.jsxs)("div",{className:"text-orange-400 text-xs",children:["owes ",B(Math.abs(t))]}):(0,Dd.jsx)("div",{className:"text-gray-400 text-xs",children:"settled up"})})]},e.id)})})]}),(0,Dd.jsxs)("div",{className:"mb-6",children:[(0,Dd.jsx)("h3",{className:"text-base font-medium text-white mb-3",children:"Advanced settings"}),(0,Dd.jsx)("div",{className:"p-3 bg-gray-800 rounded-xl",children:(0,Dd.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Dd.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Dd.jsx)("div",{className:"w-8 h-8 bg-purple-600 rounded-lg flex items-center justify-center",children:(0,Dd.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,Dd.jsxs)("div",{children:[(0,Dd.jsx)("div",{className:"text-white text-sm font-medium",children:"Simplify group debts"}),(0,Dd.jsxs)("div",{className:"text-gray-400 text-xs",children:["Automatically combines debts to reduce the total number of repayments between group members."," ",(0,Dd.jsx)("button",{className:"text-blue-400 hover:text-blue-300 underline",children:"Learn more"})]})]})]}),(0,Dd.jsx)("button",{onClick:()=>D(!M),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(M?"bg-teal-600":"bg-gray-600"),children:(0,Dd.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(M?"translate-x-6":"translate-x-1")})})]})})]}),(0,Dd.jsxs)("div",{className:"space-y-4",children:[(0,Dd.jsxs)("div",{className:"p-3 border border-yellow-600 rounded-xl bg-yellow-900/20",children:[(0,Dd.jsx)("h4",{className:"text-yellow-400 text-sm font-medium mb-2",children:"Leave Group"}),(0,Dd.jsx)("p",{className:"text-gray-300 text-xs mb-3",children:"You will no longer be part of this group and won't receive updates."}),0!==P&&(0,Dd.jsx)("div",{className:"mb-3 p-3 bg-yellow-800/50 border border-yellow-600/50 rounded-lg",children:(0,Dd.jsxs)("div",{className:"flex items-center",children:[(0,Dd.jsx)("svg",{className:"w-4 h-4 text-yellow-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,Dd.jsxs)("span",{className:"text-yellow-200 text-xs",children:["You have ",P>0?"outstanding debts":"money owed to you"," in this group. Other members will be notified if you leave."]})]})}),(0,Dd.jsx)("button",{onClick:()=>T(!0),className:"w-full px-3 py-2 bg-yellow-600 text-white rounded-lg text-sm font-medium hover:bg-yellow-700 transition-colors",children:"Leave Group"})]}),F&&(0,Dd.jsxs)("div",{className:"p-3 border border-red-600 rounded-xl bg-red-900/20",children:[(0,Dd.jsx)("h4",{className:"text-red-400 text-sm font-medium mb-2",children:"Delete Group"}),(0,Dd.jsx)("p",{className:"text-gray-300 text-xs mb-3",children:"This will permanently delete the group and all its data. All members will be notified."}),(0,Dd.jsx)("button",{onClick:()=>A(!0),className:"w-full px-3 py-2 bg-red-600 text-white rounded-lg text-sm font-medium hover:bg-red-700 transition-colors",children:"Delete Group"})]})]}),O&&(0,Dd.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Dd.jsx)("div",{className:"bg-gray-800 rounded-xl shadow-2xl w-full max-w-sm",children:(0,Dd.jsxs)("div",{className:"p-6",children:[(0,Dd.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Leave Group"}),(0,Dd.jsxs)("p",{className:"text-gray-300 mb-4",children:['Are you sure you want to leave "',a.name,'"? This action cannot be undone.']}),(0,Dd.jsxs)("div",{className:"flex space-x-3",children:[(0,Dd.jsx)("button",{onClick:()=>T(!1),className:"flex-1 px-4 py-2 border border-gray-600 text-gray-300 rounded-lg font-medium hover:bg-gray-700 transition-colors",children:"Cancel"}),(0,Dd.jsx)("button",{onClick:async()=>{_(!0);try{console.log("Leaving group:",a.id),s()}catch(e){console.error("Failed to leave group:",e)}finally{_(!1)}},disabled:E,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg font-medium disabled:opacity-50 hover:bg-red-700 transition-colors",children:"Leave Group"})]})]})})}),C&&(0,Dd.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Dd.jsx)("div",{className:"bg-gray-800 rounded-xl shadow-2xl w-full max-w-sm",children:(0,Dd.jsxs)("div",{className:"p-6",children:[(0,Dd.jsx)("h3",{className:"text-lg font-semibold text-red-400 mb-2",children:"Delete Group"}),(0,Dd.jsxs)("p",{className:"text-gray-300 mb-4",children:['Are you sure you want to permanently delete "',a.name,'"? This will remove all expenses, balances, and group data. All members will be notified.']}),(0,Dd.jsxs)("div",{className:"flex space-x-3",children:[(0,Dd.jsx)("button",{onClick:()=>A(!1),className:"flex-1 px-4 py-2 border border-gray-600 text-gray-300 rounded-lg font-medium hover:bg-gray-700 transition-colors",children:"Cancel"}),(0,Dd.jsx)("button",{onClick:async()=>{if(F){_(!0);try{console.log("Deleting group:",a.id),s()}catch(e){console.error("Failed to delete group:",e)}finally{_(!1)}}},disabled:E,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg font-medium disabled:opacity-50 hover:bg-red-700 transition-colors",children:"Delete Group"})]})]})})})]}):null},mF=e=>{let{isOpen:t,onClose:n,onInviteAccepted:i}=e;const[a,o]=(0,r.useState)(""),[s,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(""),[d,h]=(0,r.useState)("");return t?(0,Dd.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Dd.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[(0,Dd.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,Dd.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Dd.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Join Group"}),(0,Dd.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Dd.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,Dd.jsxs)("div",{className:"px-6 py-4",children:[(0,Dd.jsx)("p",{className:"text-gray-600 mb-4",children:"Enter the invitation token you received to join a group."}),(0,Dd.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),a.trim()){l(!0),u(""),h("");try{const e=await kd.splitwise.invites.acceptInvite(a.trim());h("Successfully joined the group!"),null===i||void 0===i||i(e),setTimeout(()=>{n(),o(""),h("")},2e3)}catch(jF){u(jF.message||"Failed to accept invitation")}finally{l(!1)}}else u("Please enter an invitation token")},className:"space-y-4",children:[(0,Dd.jsxs)("div",{children:[(0,Dd.jsx)("label",{htmlFor:"inviteToken",className:"block text-sm font-medium text-gray-700 mb-2",children:"Invitation Token"}),(0,Dd.jsx)("input",{type:"text",id:"inviteToken",value:a,onChange:e=>o(e.target.value),placeholder:"Enter invitation token...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:s})]}),c&&(0,Dd.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,Dd.jsx)("p",{className:"text-sm text-red-600",children:c})}),d&&(0,Dd.jsx)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,Dd.jsx)("p",{className:"text-sm text-green-600",children:d})}),(0,Dd.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Dd.jsx)("button",{type:"button",onClick:n,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",disabled:s,children:"Cancel"}),(0,Dd.jsx)("button",{type:"submit",disabled:s||!a.trim(),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?"Joining...":"Join Group"})]})]})]})]})}):null},gF=e=>{let{onBack:t,onFloatingButtonStateChange:n}=e;const[i,a]=(0,r.useState)([]),[o,s]=(0,r.useState)(!1),[l,c]=(0,r.useState)(!1),[d,h]=(0,r.useState)(null),[f,p]=(0,r.useState)("list"),{loading:m,error:g,clearError:y,groups:v,expenses:b}=zR(),{user:x,isAuthenticated:w}=bd(),[k,S]=(0,r.useState)(!1),[j,N]=(0,r.useState)(null),[E,_]=(0,r.useState)(!0),C=(0,r.useRef)(!1),A=(0,r.useRef)(!1);(0,r.useEffect)(()=>{const e=setTimeout(()=>{E&&!w&&_(!1)},2e3);return()=>clearTimeout(e)},[E,w]);const O=(0,r.useMemo)(()=>m||E,[m,E]);(0,r.useEffect)(()=>{if(E&&w){const e=setTimeout(()=>{E&&(console.log("SplitwiseView: Loading timeout, setting initial load to false"),_(!1))},5e3);return()=>clearTimeout(e)}},[E,w]),(0,r.useEffect)(()=>{console.log("SplitwiseView: Auth state debug:",{user:x?"exists":"null",authHookAuthenticated:w,firebaseCurrentUser:dd.currentUser?"exists":"null"})},[x,w]);const T=(0,r.useCallback)(async()=>{if(A.current)console.log("SplitwiseView: Groups already loading, skipping...");else if(C.current)console.log("SplitwiseView: Groups already loaded, skipping...");else try{A.current=!0,console.log("SplitwiseView: Attempting to load groups...");const e=new Promise((e,t)=>{setTimeout(()=>t(new Error("Request timeout")),1e4)}),t=(await Promise.race([v.getAll(),e])).groups||[];a(t),S(!0),N(null),C.current=!0,_(!1)}catch(jF){console.error("Failed to load groups:",jF),"Request timeout"===jF.message?(N("Request timed out. Please try again."),a([])):jF.message.includes("login")||jF.message.includes("authenticated")||jF.message.includes("Access token required")?(N("Please login to use Splitwise features"),S(!1),a([])):jF.message.includes("Rate limit exceeded")?(N("Too many requests. Please wait a moment and try again."),a([])):(a([]),N(null)),_(!1)}finally{A.current=!1}},[v]);(0,r.useEffect)(()=>{if(!w)return void console.log("SplitwiseView: User not authenticated, skipping group load");if(C.current)return void console.log("SplitwiseView: Groups already loaded, skipping...");const e=setTimeout(()=>{T()},100);return()=>clearTimeout(e)},[w]),(0,r.useEffect)(()=>{w||(C.current=!1,A.current=!1)},[w]);const P=(0,r.useCallback)(()=>{N(null),C.current=!1,A.current=!1,T()},[T]),I=async e=>{try{const t=(await v.update(e.id,e)).group;a(i.map(e=>e.id===t.id?t:e))}catch(jF){console.error("Failed to update group:",jF)}},M=(0,r.useCallback)(()=>{h(null),p("list")},[]),D=(0,r.useCallback)(()=>{s(!0)},[]),L=(0,r.useCallback)(()=>{c(!0)},[]),R=(0,r.useCallback)(()=>{c(!1)},[]),U=(0,r.useCallback)(e=>{T(),c(!1)},[]),F=((0,r.useCallback)(()=>{p("addExpense")},[]),(0,r.useCallback)(()=>{p("detail")},[])),B=(0,r.useCallback)(()=>{p("detail")},[]),z=(0,r.useCallback)(()=>{p("addExpense")},[]);(0,r.useEffect)(()=>{const e="detail"===f&&d&&d.members&&d.members.length>1;null===n||void 0===n||n(e,d,z)},[f,d,n,z]);const V=(0,r.useCallback)(async e=>{if(null!==d&&void 0!==d&&d.id)try{var t;const n=null===x||void 0===x||null===(t=x.email)||void 0===t?void 0:t.toLowerCase(),r=Array.isArray(d.members)?d.members:[],i=r.find(e=>e.email&&e.email.toLowerCase()===n),a=e=>(null===e||void 0===e?void 0:e.userId)||(null===e||void 0===e?void 0:e.id),o=a(i),s="equal"===e.splitType?"EQUAL":"UNEQUAL",l=r.map(e=>{const t=a(e);return e.email&&e.email.toLowerCase()===n?o:t}).filter(Boolean);let c;if("UNEQUAL"===s&&e.splits){const t=new Map;for(const n of e.splits){let e=n.userId;"current_user"===e&&(e=o);const i=r.find(e=>e.id===n.userId||e.userId===n.userId),s=i?a(i):e;t.set(s,Number(n.amount)||0)}c=l.map(e=>Number(t.get(e)||0))}const h=u(u({payerId:o,amount:Number(e.amount)||0,currency:d.currency||"AUD",description:e.description||"",splitType:s,participants:l},c?{shares:c}:{}),{},{date:e.date||(new Date).toISOString().split("T")[0]});await b.create(d.id,h)}catch(n){console.error("Failed to create expense:",n)}finally{p("detail")}else p("detail")},[b,null===d||void 0===d?void 0:d.id,null===d||void 0===d?void 0:d.members,null===d||void 0===d?void 0:d.currency,null===x||void 0===x?void 0:x.email]),W=(0,r.useCallback)(()=>{window.location.href="/login"},[]),H=(0,r.useCallback)(()=>{N(null)},[]);return(0,Dd.jsxs)(Dd.Fragment,{children:[(0,Dd.jsx)("style",{jsx:!0,children:"\n        @keyframes fadeIn {\n          from {\n            opacity: 0;\n            transform: translateY(10px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n        .animate-fadeIn {\n          animation: fadeIn 0.3s ease-out;\n        }\n      "}),(0,Dd.jsxs)("div",{className:"w-full transition-all duration-300 ease-in-out",children:["addExpense"!==f&&(0,Dd.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Dd.jsx)("div",{className:"flex items-center",children:(0,Dd.jsx)("h2",{className:"font-semibold text-gray-900 ".concat(o||"list"===f?"text-lg":"text-xl"),children:o?"Create New Group":"list"===f?"Split Expenses":null===d||void 0===d?void 0:d.name})}),"list"===f&&!o&&(0,Dd.jsx)("button",{onClick:D,className:"bg-purple-600 hover:bg-purple-700 text-white px-3 py-1.5 rounded-lg font-semibold text-sm transition-colors",children:"+ New Group"}),"detail"===f&&!o&&(0,Dd.jsx)("button",{onClick:()=>p("settings"),className:"bg-gray-600 hover:bg-gray-700 text-white p-3 rounded-lg transition-colors flex items-center justify-center",title:"Group Settings",children:(0,Dd.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]}),j&&(0,Dd.jsx)("div",{className:"mb-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,Dd.jsxs)("div",{className:"flex items-center",children:[(0,Dd.jsx)("svg",{className:"w-5 h-5 text-yellow-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Dd.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,Dd.jsx)("span",{className:"text-yellow-800",children:j}),(0,Dd.jsx)("button",{onClick:H,className:"ml-auto text-yellow-600 hover:text-yellow-800",children:(0,Dd.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),g&&(0,Dd.jsx)("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,Dd.jsxs)("div",{className:"flex items-center",children:[(0,Dd.jsx)("svg",{className:"w-5 h-5 text-red-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Dd.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,Dd.jsx)("span",{className:"text-red-800",children:g}),(0,Dd.jsx)("button",{onClick:y,className:"ml-auto text-red-600 hover:text-red-800",children:(0,Dd.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),O&&(0,Dd.jsxs)("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg animate-fadeIn",children:[(0,Dd.jsxs)("div",{className:"flex items-center",children:[(0,Dd.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Dd.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Dd.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,Dd.jsx)("span",{className:"text-blue-800",children:E?"Loading groups...":"Loading..."})]}),E&&(0,Dd.jsx)("div",{className:"mt-2 text-sm text-blue-600",children:"This may take a few moments..."})]}),!w&&j?(0,Dd.jsxs)("div",{className:"text-center py-12",children:[(0,Dd.jsx)("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Dd.jsx)("svg",{className:"w-8 h-8 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,Dd.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:j.includes("Rate limit")?"Too Many Requests":"Authentication Required"}),(0,Dd.jsx)("p",{className:"text-gray-600 mb-4",children:j}),j.includes("Rate limit")?(0,Dd.jsx)("button",{onClick:P,className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-xl font-medium transition-colors",children:"Try Again"}):(0,Dd.jsx)("button",{onClick:W,className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-xl font-medium transition-colors",children:"Go to Login"})]}):o?(0,Dd.jsx)("div",{className:"animate-fadeIn",children:(0,Dd.jsx)(FR,{onBack:()=>{s(!1)},onCreateGroup:async e=>{try{const t=(await v.create(e)).group;a([...i,t]),s(!1)}catch(jF){console.error("Failed to create group:",jF)}},currentUser:x})}):"list"===f?(0,Dd.jsx)("div",{className:"animate-fadeIn",children:O?(0,Dd.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,Dd.jsx)("div",{className:"bg-gray-100 rounded-lg p-4 animate-pulse",children:(0,Dd.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Dd.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-full"}),(0,Dd.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,Dd.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),(0,Dd.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]}),(0,Dd.jsx)("div",{className:"w-20 h-8 bg-gray-200 rounded"})]})},e))}):(0,Dd.jsx)(UR,{groups:i,onSelectGroup:e=>{h(e),p("detail")},onCreateGroup:D,onDeleteGroup:async e=>{try{await v.delete(e),a(i.filter(t=>t.id!==e)),h(null),p("list")}catch(jF){console.error("Failed to delete group:",jF)}},onJoinGroup:L,loading:!1})}):"addExpense"===f?(0,Dd.jsx)("div",{className:"animate-fadeIn",children:(0,Dd.jsx)(BR,{onClose:F,onAddExpense:V,group:d})}):"settings"===f?(0,Dd.jsx)("div",{className:"animate-fadeIn",children:(0,Dd.jsx)(pF,{group:d,currentUser:x,onBack:B,onGroupUpdated:I})}):(0,Dd.jsx)("div",{className:"animate-fadeIn",children:(0,Dd.jsx)(fF,{group:d,onUpdateGroup:I,onBack:M})})]},f),(0,Dd.jsx)(mF,{isOpen:l,onClose:R,onInviteAccepted:U})]})},yF=e=>{var t;let{currentView:n,setCurrentView:i,userName:a,userPhotoURL:o,onSignOut:s,onSignIn:l,authLoading:c,authError:u,isAuthenticated:d,user:h}=e;const[f,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)(!1),[y,v]=(0,r.useState)(null);return(0,Dd.jsx)("div",{className:"bg-gray-100 min-h-screen flex flex-col",children:(0,Dd.jsxs)("div",{className:"max-w-sm w-full mx-auto bg-white rounded-3xl shadow-2xl overflow-hidden flex flex-col h-screen max-h-screen relative",children:[(0,Dd.jsx)("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:(0,Dd.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Dd.jsx)("div",{className:"flex items-center"}),(0,Dd.jsx)("div",{className:"flex items-center space-x-3",children:(0,Dd.jsxs)("div",{className:"relative",children:[(0,Dd.jsx)("button",{onClick:()=>{d?p(!f):l&&l()},disabled:c,className:"flex items-center justify-center w-8 h-8 rounded-full bg-black hover:bg-gray-800 transition-colors disabled:opacity-50",children:c?(0,Dd.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):null!==h&&void 0!==h&&h.photoURL?(0,Dd.jsx)("img",{src:h.photoURL,alt:"Profile",className:"h-8 w-8 rounded-full object-cover"}):(0,Dd.jsx)("span",{className:"text-sm font-medium text-white",children:null!==h&&void 0!==h&&h.displayName?h.displayName.charAt(0).toUpperCase():(null===h||void 0===h||null===(t=h.email)||void 0===t?void 0:t.charAt(0).toUpperCase())||"U"})}),d&&(0,Dd.jsx)(Hd,{user:h,onSignOut:s,isOpen:f,onClose:()=>p(!1)})]})})]})}),(0,Dd.jsx)("div",{className:"flex-1 overflow-y-scroll",style:{scrollbarGutter:"stable both-edges"},children:(0,Dd.jsx)("div",{className:"px-6 py-6 w-full",children:(0,Dd.jsx)(gF,{onBack:()=>i("home"),onFloatingButtonStateChange:(e,t,n)=>{g(e),v(()=>n)}})})}),(0,Dd.jsx)(qd,{currentView:n,setCurrentView:i}),m&&y&&(0,Dd.jsx)("div",{className:"absolute bottom-20 right-4 z-[100] pointer-events-none",children:(0,Dd.jsxs)("button",{onClick:y,className:"pointer-events-auto bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded-lg font-medium transition-colors flex items-center space-x-1.5 shadow-md hover:shadow-lg",children:[(0,Dd.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Dd.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),(0,Dd.jsx)("span",{className:"hidden sm:inline text-sm",children:"Add expense"}),(0,Dd.jsx)("span",{className:"sm:hidden text-sm",children:"Add"})]})})]})})},vF=[{id:1,name:"Salary",type:"income",icon:"\ud83d\udcb0",color:"bg-green-100"},{id:2,name:"Food",type:"expense",icon:"\ud83c\udf54",color:"bg-red-100"},{id:3,name:"Transport",type:"expense",icon:"\ud83d\ude97",color:"bg-blue-100"},{id:4,name:"Entertainment",type:"expense",icon:"\ud83c\udfac",color:"bg-purple-100"},{id:5,name:"Shopping",type:"expense",icon:"\ud83d\udecd\ufe0f",color:"bg-pink-100"},{id:6,name:"Bills",type:"expense",icon:"\u26a1",color:"bg-yellow-100"},{id:7,name:"Health",type:"expense",icon:"\ud83c\udfe5",color:"bg-orange-100"},{id:8,name:"Investment",type:"income",icon:"\ud83d\udcc8",color:"bg-green-100"}],bF="budgets",xF="goals",wF=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const[t,n]=(0,r.useState)([]),[i,a]=(0,r.useState)("monthly"),[o,s]=(0,r.useState)([]),l=vF;(0,r.useEffect)(()=>{n((()=>{try{const e=localStorage.getItem(bF);return e?JSON.parse(e):[]}catch(e){return console.error("Error loading budgets:",e),[]}})()),s((()=>{try{const e=localStorage.getItem(xF);return e?JSON.parse(e):[]}catch(e){return console.error("Error loading goals:",e),[]}})())},[]),(0,r.useEffect)(()=>{(e=>{try{localStorage.setItem(bF,JSON.stringify(e))}catch(t){console.error("Error saving budgets:",t)}})(t)},[t]),(0,r.useEffect)(()=>{(e=>{try{localStorage.setItem(xF,JSON.stringify(e))}catch(t){console.error("Error saving goals:",t)}})(o)},[o]);const c=(e,t)=>{s(n=>n.map(n=>n.id===e?u(u(u({},n),t),{},{updatedAt:(new Date).toISOString()}):n))},d=(t,n,r)=>{const i=e.filter(e=>{const i=new Date(e.date),a=new Date(n),o=new Date(r);return i>=a&&i<=o&&e.categoryId===t.categoryId}),a=Math.abs(i.reduce((e,t)=>e+Math.min(0,t.amount),0)),o=a/t.amount*100,s=t.amount-a,l=a>t.amount;return{totalSpent:a,remaining:s,progress:Math.min(o,100),isOverBudget:l,transactionCount:i.length}},h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"monthly";const t=new Date,n=t.getFullYear(),r=t.getMonth(),i=t.getDate();let a,o;switch(e){case"weekly":{const e=new Date(t);e.setDate(i-t.getDay()),a=e.toISOString().split("T")[0];const n=new Date(e);n.setDate(e.getDate()+6),o=n.toISOString().split("T")[0];break}case"yearly":a="".concat(n,"-01-01"),o="".concat(n,"-12-31");break;default:{a="".concat(n,"-").concat(String(r+1).padStart(2,"0"),"-01");const e=new Date(n,r+1,0).getDate();o="".concat(n,"-").concat(String(r+1).padStart(2,"0"),"-").concat(e);break}}return{startDate:a,endDate:o}},f=()=>{const{startDate:e,endDate:n}=h(i);return t.filter(e=>e.isActive).map(t=>{const r=d(t,e,n),i=l.find(e=>e.id===t.categoryId);return u(u({},t),{},{category:i,progress:r,periodDates:{startDate:e,endDate:n}})})},p=(e,t)=>{const n=new Date(e),r=new Date(t);return Math.max(0,Math.ceil((r-n)/864e5))},m=(t,n)=>{const r=new Date(t),i=new Date(n);return e.filter(e=>e.amount>0&&new Date(e.date)>=r&&new Date(e.date)<=i).reduce((e,t)=>e+t.amount,0)};return{budgets:t,budgetPeriod:i,setBudgetPeriod:a,addBudget:e=>{const t={id:Date.now(),categoryId:parseInt(e.categoryId),amount:parseFloat(e.amount),period:e.period||"monthly",startDate:e.startDate||(new Date).toISOString().split("T")[0],endDate:e.endDate,isActive:!0,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};n(e=>[...e,t])},updateBudget:(e,t)=>{const r=u(u({},t),{},{id:e,updatedAt:(new Date).toISOString()});n(t=>t.map(t=>t.id===e?r:t))},deleteBudget:e=>{n(t=>t.filter(t=>t.id!==e))},toggleBudgetStatus:e=>{n(t=>t.map(t=>t.id===e?u(u({},t),{},{isActive:!t.isActive}):t))},getBudgetStatus:f,getBudgetAlerts:()=>{const e=f(),t=[];return e.forEach(e=>{const{progress:n,isOverBudget:r,remaining:i}=e.progress;r?t.push({type:"over_budget",severity:"high",message:"You've exceeded your ".concat(e.category.name," budget by $").concat(Math.abs(i).toFixed(2)),budget:e}):n>=80&&t.push({type:"near_limit",severity:"medium",message:"You're close to your ".concat(e.category.name," budget limit (").concat(n.toFixed(1),"% used)"),budget:e})}),t},getBudgetSummary:()=>{const e=f(),t=e.reduce((e,t)=>e+t.amount,0),n=e.reduce((e,t)=>e+t.progress.totalSpent,0);return{totalBudget:t,totalSpent:n,totalRemaining:t-n,overallProgress:t>0?n/t*100:0,budgetCount:e.length,overBudgetCount:e.filter(e=>e.progress.isOverBudget).length}},hasBudgetForCategory:e=>t.some(t=>t.categoryId===e&&t.isActive),getBudgetForCategory:e=>t.find(t=>t.categoryId===e&&t.isActive),getCurrentPeriodDates:h,calculateBudgetProgress:d,goals:o,addGoal:e=>{let{name:t,amount:n,deadline:r,savingsPercent:i=0,autoAllocate:a=!1}=e;const o=parseFloat(n)||0,l={id:Date.now(),name:t||"New Goal",amount:o,deadline:r||(new Date).toISOString().split("T")[0],createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),saved:0,savingsPercent:Math.max(0,Math.min(100,parseFloat(i)||0)),autoAllocate:Boolean(a),lastAllocatedPeriod:null,allocationHistory:[]};s(e=>[...e,l])},updateGoal:c,deleteGoal:e=>{s(t=>t.filter(t=>t.id!==e))},markGoalAchieved:e=>{s(t=>t.map(t=>t.id!==e?t:u(u({},t),{},{saved:t.amount,achievedAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()})))},addSavingsToGoal:(e,t)=>{const n=parseFloat(t)||0;s(t=>t.map(t=>{if(t.id===e){const e=Math.min(t.amount,(t.saved||0)+n);return u(u({},t),{},{saved:e,updatedAt:(new Date).toISOString()})}return t}))},setGoalSavingsPercent:(e,t)=>{const n=Math.max(0,Math.min(100,parseFloat(t)||0));c(e,{savingsPercent:n})},setGoalAutoAllocate:(e,t)=>{c(e,{autoAllocate:Boolean(t)})},getGoals:()=>o,getGoalProgress:e=>{var t;if(!e)return{saved:0,remaining:0,percent:0,totalDays:0,daysLeft:0,requiredPerDay:0,requiredPerWeek:0,neededPerDayNow:0};const n=(new Date).toISOString().split("T")[0],r=p((null===(t=e.createdAt)||void 0===t?void 0:t.split("T")[0])||n,e.deadline||n),i=p(n,e.deadline||n),a=e.saved||0,o=Math.max(0,(e.amount||0)-a),s=(e.amount||0)>0?Math.min(100,a/e.amount*100):0,l=r>0?(e.amount||0)/r:e.amount||0;return{saved:a,remaining:o,percent:s,totalDays:r,daysLeft:i,requiredPerDay:l,requiredPerWeek:7*l,neededPerDayNow:i>0?o/i:o}},getEstimatedAllocation:e=>{if(!e)return 0;const{startDate:t,endDate:n}=h(i),r=m(t,n),a=Math.max(0,(e.amount||0)-(e.saved||0)),o=r*((e.savingsPercent||0)/100);return Math.max(0,Math.min(a,o))},allocateAutoSavingsForCurrentPeriod:()=>{const{startDate:e,endDate:t}=h(i),n=m(e,t);n<=0||s(r=>r.map(r=>{if(!r.autoAllocate||(r.savingsPercent||0)<=0)return r;if(r.lastAllocatedPeriod===e)return r;const i=Math.max(0,(r.amount||0)-(r.saved||0));if(i<=0)return r;const a=Math.max(0,Math.min(i,n*((r.savingsPercent||0)/100)));return a<=0?r:u(u({},r),{},{saved:(r.saved||0)+a,lastAllocatedPeriod:e,updatedAt:(new Date).toISOString(),allocationHistory:[...r.allocationHistory||[],{date:(new Date).toISOString(),amount:a,periodStart:e,periodEnd:t}]})}))}}},kF=()=>{const{user:e,loading:t,signOutUser:n,isAuthenticated:i,signInWithGoogle:a,signInWithEmail:o,signUpWithEmail:s,resetPassword:l,error:c,clearError:d}=bd(),[h,f]=(0,r.useState)("home"),[p,m]=(0,r.useState)(!1),[g,y]=(0,r.useState)(!1),[v,b]=(0,r.useState)(""),[x,w]=(0,r.useState)("all"),{transactions:k,loading:S,error:j,stats:N,createTransaction:E,updateTransaction:_,deleteTransaction:C,filterTransactions:A}=(()=>{const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(!1),[a,o]=(0,r.useState)(null),[s,l]=(0,r.useState)(null),[c,d]=(0,r.useState)({page:1,limit:50,total:0,pages:0}),h=(0,r.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{i(!0),o(null);const n=u({page:e.page||1,limit:e.limit||50},e),r=await kd.transactions.getAll(n);return t(r.transactions||[]),d(r.pagination||{}),r.transactions}catch(a){throw o(a.message),a}finally{i(!1)}},[]),f=(0,r.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{o(null);const t=await kd.transactions.getStats(e);return l(t),t}catch(a){throw o(a.message),a}},[]),p=(0,r.useCallback)(async e=>{try{o(null);const n=await kd.transactions.create(e);return t(e=>[n.transaction,...e]),await f(),n.transaction}catch(a){throw o(a.message),a}},[f]),m=(0,r.useCallback)(async(e,n)=>{try{o(null);const r=await kd.transactions.update(e,n);return t(t=>t.map(t=>t.id===e?r.transaction:t)),await f(),r.transaction}catch(a){throw o(a.message),a}},[f]),g=(0,r.useCallback)(async e=>{try{return o(null),await kd.transactions.delete(e),t(t=>t.filter(t=>t.id!==e)),await f(),!0}catch(a){throw o(a.message),a}},[f]),y=(0,r.useCallback)(async e=>{try{return o(null),(await kd.transactions.getById(e)).transaction}catch(a){throw o(a.message),a}},[]),v=(0,r.useCallback)(e=>{t(t=>[e,...t])},[]),b=(0,r.useCallback)((e,n)=>{t(t=>t.map(t=>t.id===e?u(u({},t),n):t))},[]),x=(0,r.useCallback)(e=>{t(t=>t.filter(t=>t.id!==e))},[]),w=(0,r.useCallback)(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.filter(e=>{if(t.category&&e.category!==t.category)return!1;if(t.type&&e.transactionType!==t.type)return!1;if(t.fromDate&&new Date(e.date)<new Date(t.fromDate))return!1;if(t.toDate&&new Date(e.date)>new Date(t.toDate))return!1;if(t.accountId&&e.connectedAccountId!==t.accountId)return!1;if(t.search){const n=t.search.toLowerCase();if(!e.description.toLowerCase().includes(n))return!1}return!0})},[e]),k=(0,r.useCallback)(t=>e.filter(e=>e.connectedAccountId===t),[e]),S=(0,r.useCallback)(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return e.slice(0,t)},[e]);return(0,r.useEffect)(()=>{(async()=>{try{await Promise.all([h(),f()])}catch(a){console.error("Failed to load initial transaction data:",a)}})()},[h,f]),{transactions:e,loading:n,error:a,stats:s,pagination:c,fetchTransactions:h,fetchStats:f,createTransaction:p,updateTransaction:m,deleteTransaction:g,getTransactionById:y,addTransaction:v,updateTransactionInState:b,removeTransactionFromState:x,filterTransactions:w,getTransactionsByAccount:k,getRecentTransactions:S,totalTransactions:e.length,totalIncome:(null===s||void 0===s?void 0:s.totalIncome)||0,totalExpenses:(null===s||void 0===s?void 0:s.totalExpenses)||0,netAmount:(null===s||void 0===s?void 0:s.netAmount)||0,categoryBreakdown:(null===s||void 0===s?void 0:s.categoryBreakdown)||[],hasNextPage:c.page<c.pages,hasPrevPage:c.page>1,nextPage:()=>h({page:c.page+1}),prevPage:()=>h({page:c.page-1})}})(),O=wF(k),T=A({search:v,type:"all"!==x?x:void 0});if(r.useEffect(()=>{i&&g&&y(!1)},[i,g]),t)return(0,Dd.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,Dd.jsxs)("div",{className:"text-center",children:[(0,Dd.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,Dd.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})});if(!i)return(0,Dd.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,Dd.jsx)(Ld,{isOpen:!0,onClose:()=>{},onGoogleSignIn:a,onEmailSignIn:o,onEmailSignUp:s,onResetPassword:l,loading:t,error:c,isAuthenticated:i})});return(0,Dd.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Dd.jsx)("main",{children:(()=>{switch(h){case"home":default:return(0,Dd.jsx)(Kd,{onConnectBank:()=>m(!0),currentView:h,setCurrentView:f,setShowAddTransaction:()=>{},transactions:T,categories:[{id:1,name:"Salary",type:"income",icon:"\ud83d\udcb0",color:"bg-green-100"},{id:2,name:"Food",type:"expense",icon:"\ud83c\udf54",color:"bg-red-100"},{id:3,name:"Transport",type:"expense",icon:"\ud83d\ude97",color:"bg-blue-100"},{id:4,name:"Entertainment",type:"expense",icon:"\ud83c\udfac",color:"bg-purple-100"},{id:5,name:"Shopping",type:"expense",icon:"\ud83d\udecd\ufe0f",color:"bg-pink-100"},{id:6,name:"Bills",type:"expense",icon:"\u26a1",color:"bg-yellow-100"},{id:7,name:"Health",type:"expense",icon:"\ud83c\udfe5",color:"bg-orange-100"},{id:8,name:"Investment",type:"income",icon:"\ud83d\udcc8",color:"bg-green-100"}],userName:(null===e||void 0===e?void 0:e.displayName)||(null===e||void 0===e?void 0:e.email),userPhotoURL:null===e||void 0===e?void 0:e.photoURL,onSignOut:n,onSignIn:()=>y(!0),authLoading:t,authError:c,isAuthenticated:i,user:e});case"transactions":return(0,Dd.jsx)(Xd,{currentView:h,setCurrentView:f,setShowAddTransaction:()=>{},userName:(null===e||void 0===e?void 0:e.displayName)||(null===e||void 0===e?void 0:e.email),userPhotoURL:null===e||void 0===e?void 0:e.photoURL,onSignOut:n,onSignIn:()=>y(!0),authLoading:t,authError:c,isAuthenticated:i,user:e});case"stats":return(0,Dd.jsx)(PR,{currentView:h,setCurrentView:f,setShowAddTransaction:()=>{},transactions:T,categories:[{id:1,name:"Salary",type:"income",icon:"\ud83d\udcb0",color:"bg-green-100"},{id:2,name:"Food",type:"expense",icon:"\ud83c\udf54",color:"bg-red-100"},{id:3,name:"Transport",type:"expense",icon:"\ud83d\ude97",color:"bg-blue-100"},{id:4,name:"Entertainment",type:"expense",icon:"\ud83c\udfac",color:"bg-purple-100"},{id:5,name:"Shopping",type:"expense",icon:"\ud83d\udecd\ufe0f",color:"bg-pink-100"},{id:6,name:"Bills",type:"expense",icon:"\u26a1",color:"bg-yellow-100"},{id:7,name:"Health",type:"expense",icon:"\ud83c\udfe5",color:"bg-orange-100"},{id:8,name:"Investment",type:"income",icon:"\ud83d\udcc8",color:"bg-green-100"}],metrics:N,budgetHook:O,userName:(null===e||void 0===e?void 0:e.displayName)||(null===e||void 0===e?void 0:e.email),userPhotoURL:null===e||void 0===e?void 0:e.photoURL,onSignOut:n,onSignIn:()=>y(!0),authLoading:t,authError:c,isAuthenticated:i,user:e});case"advisor":return(0,Dd.jsx)(LR,{currentView:h,setCurrentView:f,setShowAddTransaction:()=>{},userName:(null===e||void 0===e?void 0:e.displayName)||(null===e||void 0===e?void 0:e.email),userPhotoURL:null===e||void 0===e?void 0:e.photoURL,onSignOut:n,onSignIn:()=>y(!0),authLoading:t,authError:c,isAuthenticated:i,user:e});case"splitwise":return(0,Dd.jsx)(yF,{currentView:h,setCurrentView:f,userName:(null===e||void 0===e?void 0:e.displayName)||(null===e||void 0===e?void 0:e.email),userPhotoURL:null===e||void 0===e?void 0:e.photoURL,onSignOut:n,onSignIn:()=>y(!0),authLoading:t,authError:c,isAuthenticated:i,user:e})}})()}),(0,Dd.jsx)(Ld,{isOpen:g,onClose:()=>y(!1),onGoogleSignIn:a,onEmailSignIn:o,onEmailSignUp:s,onResetPassword:l,loading:t,error:c,isAuthenticated:i}),(0,Dd.jsx)(Vd,{isOpen:p,onClose:()=>m(!1),onSuccess:()=>{m(!1)}})]})},SF=()=>(0,Dd.jsx)(kF,{});a.createRoot(document.getElementById("root")).render((0,Dd.jsx)(r.StrictMode,{children:(0,Dd.jsx)(SF,{})}))})()})();
//# sourceMappingURL=main.dd15b182.js.map